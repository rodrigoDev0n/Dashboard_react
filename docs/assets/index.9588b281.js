const bb=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};bb();var z={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),kb=Symbol.for("react.portal"),Eb=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),Ib=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),Pb=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Db=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),Fg=Symbol.iterator;function Ob(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,A0={};function dr(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||C0}dr.prototype.isReactComponent={};dr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P0(){}P0.prototype=dr.prototype;function Ef(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||C0}var Tf=Ef.prototype=new P0;Tf.constructor=Ef;I0(Tf,dr.prototype);Tf.isPureReactComponent=!0;var $g=Array.isArray,M0=Object.prototype.hasOwnProperty,Cf={current:null},D0={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)M0.call(e,i)&&!D0.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:ta,type:t,key:r,ref:o,props:s,_owner:Cf.current}}function Nb(t,e){return{$$typeof:ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function If(t){return typeof t=="object"&&t!==null&&t.$$typeof===ta}function Lb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zg=/\/+/g;function Bc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lb(""+t.key):e.toString(36)}function vl(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ta:case kb:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Bc(o,0):i,$g(s)?(n="",t!=null&&(n=t.replace(zg,"$&/")+"/"),vl(s,e,n,"",function(u){return u})):s!=null&&(If(s)&&(s=Nb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",$g(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+Bc(r,a);o+=vl(r,e,n,l,s)}else if(l=Ob(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+Bc(r,a++),o+=vl(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Na(t,e,n){if(t==null)return t;var i=[],s=0;return vl(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Fb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},_l={transition:null},$b={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:_l,ReactCurrentOwner:Cf};G.Children={map:Na,forEach:function(t,e,n){Na(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Na(t,function(){e++}),e},toArray:function(t){return Na(t,function(e){return e})||[]},only:function(t){if(!If(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=dr;G.Fragment=Eb;G.Profiler=Cb;G.PureComponent=Ef;G.StrictMode=Tb;G.Suspense=Mb;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$b;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=I0({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Cf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)M0.call(e,l)&&!D0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ta,type:t.type,key:s,ref:r,props:i,_owner:o}};G.createContext=function(t){return t={$$typeof:Ab,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ib,_context:t},t.Consumer=t};G.createElement=R0;G.createFactory=function(t){var e=R0.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Pb,render:t}};G.isValidElement=If;G.lazy=function(t){return{$$typeof:Rb,_payload:{_status:-1,_result:t},_init:Fb}};G.memo=function(t,e){return{$$typeof:Db,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=_l.transition;_l.transition={};try{t()}finally{_l.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return ft.current.useCallback(t,e)};G.useContext=function(t){return ft.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};G.useEffect=function(t,e){return ft.current.useEffect(t,e)};G.useId=function(){return ft.current.useId()};G.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return ft.current.useMemo(t,e)};G.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};G.useRef=function(t){return ft.current.useRef(t)};G.useState=function(t){return ft.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return ft.current.useTransition()};G.version="18.2.0";z.exports=G;var zb=z.exports,Wh={},O0={exports:{}},Mt={},N0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,$){var B=A.length;A.push($);e:for(;0<B;){var ue=B-1>>>1,fe=A[ue];if(0<s(fe,$))A[ue]=$,A[B]=fe,B=ue;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var $=A[0],B=A.pop();if(B!==$){A[0]=B;e:for(var ue=0,fe=A.length,en=fe>>>1;ue<en;){var jt=2*(ue+1)-1,Ti=A[jt],Ht=jt+1,Oa=A[Ht];if(0>s(Ti,B))Ht<fe&&0>s(Oa,Ti)?(A[ue]=Oa,A[Ht]=B,ue=Ht):(A[ue]=Ti,A[jt]=B,ue=jt);else if(Ht<fe&&0>s(Oa,B))A[ue]=Oa,A[Ht]=B,ue=Ht;else break e}}return $}function s(A,$){var B=A.sortIndex-$.sortIndex;return B!==0?B:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var $=n(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=A)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function w(A){if(y=!1,v(A),!p)if(n(l)!==null)p=!0,ne(x);else{var $=n(u);$!==null&&gn(w,$.startTime-A)}}function x(A,$){p=!1,y&&(y=!1,g(b),b=-1),f=!0;var B=d;try{for(v($),h=n(l);h!==null&&(!(h.expirationTime>$)||A&&!O());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,d=h.priorityLevel;var fe=ue(h.expirationTime<=$);$=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&i(l),v($)}else i(l);h=n(l)}if(h!==null)var en=!0;else{var jt=n(u);jt!==null&&gn(w,jt.startTime-$),en=!1}return en}finally{h=null,d=B,f=!1}}var k=!1,S=null,b=-1,E=5,I=-1;function O(){return!(t.unstable_now()-I<E)}function F(){if(S!==null){var A=t.unstable_now();I=A;var $=!0;try{$=S(!0,A)}finally{$?se():(k=!1,S=null)}}else k=!1}var se;if(typeof m=="function")se=function(){m(F)};else if(typeof MessageChannel!="undefined"){var _e=new MessageChannel,W=_e.port2;_e.port1.onmessage=F,se=function(){W.postMessage(null)}}else se=function(){_(F,0)};function ne(A){S=A,k||(k=!0,se())}function gn(A,$){b=_(function(){A(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ne(x))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var B=d;d=$;try{return A()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=d;d=A;try{return $()}finally{d=B}},t.unstable_scheduleCallback=function(A,$,B){var ue=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ue+B:ue):B=ue,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,A={id:c++,callback:$,priorityLevel:A,startTime:B,expirationTime:fe,sortIndex:-1},B>ue?(A.sortIndex=B,e(u,A),n(l)===null&&A===n(u)&&(y?(g(b),b=-1):y=!0,gn(w,B-ue))):(A.sortIndex=fe,e(l,A),p||f||(p=!0,ne(x))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var $=d;return function(){var B=d;d=$;try{return A.apply(this,arguments)}finally{d=B}}}})(L0);N0.exports=L0;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0=z.exports,At=N0.exports;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $0=new Set,_o={};function ds(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(_o[t]=e,t=0;t<e.length;t++)$0.add(e[t])}var Mn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Kh=Object.prototype.hasOwnProperty,Vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},Bg={};function Bb(t){return Kh.call(Bg,t)?!0:Kh.call(Vg,t)?!1:Vb.test(t)?Bg[t]=!0:(Vg[t]=!0,!1)}function Ub(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jb(t,e,n,i){if(e===null||typeof e=="undefined"||Ub(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Af=/[\-:]([a-z])/g;function Pf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Af,Pf);Qe[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Af,Pf);Qe[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Af,Pf);Qe[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mf(t,e,n,i){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jb(e,n,s,i)&&(n=null),i||s===null?Bb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var $n=F0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=Symbol.for("react.element"),xs=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Of=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),B0=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function Tr(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,Uc;function Br(t){if(Uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var jc=!1;function Hc(t,e){if(!t||jc)return"";jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Br(t):""}function Hb(t){switch(t.tag){case 5:return Br(t.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return t=Hc(t.type,!1),t;case 11:return t=Hc(t.type.render,!1),t;case 1:return t=Hc(t.type,!0),t;default:return""}}function Xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case xs:return"Portal";case qh:return"Profiler";case Df:return"StrictMode";case Gh:return"Suspense";case Yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V0:return(t.displayName||"Context")+".Consumer";case z0:return(t._context.displayName||"Context")+".Provider";case Rf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Of:return e=t.displayName||null,e!==null?e:Xh(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return Xh(t(e))}catch{}}return null}function Wb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(e);case 8:return e===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kb(t){var e=U0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fa(t){t._valueTracker||(t._valueTracker=Kb(t))}function j0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=U0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function $l(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(t,e){e=e.checked,e!=null&&Mf(t,"checked",e,!1)}function Jh(t,e){H0(t,e);var n=hi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zh(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zh(t,e,n){(e!=="number"||$l(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ur=Array.isArray;function Ls(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ed(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Ur(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function W0(t,e){var n=hi(e.value),i=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Kg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $a,q0=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$a.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(t){qb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qr[e]=Qr[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qr.hasOwnProperty(t)&&Qr[t]?(""+e).trim():e+"px"}function Y0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=G0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Gb=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(t,e){if(e){if(Gb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=null;function Nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rd=null,Fs=null,$s=null;function qg(t){if(t=sa(t)){if(typeof rd!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ju(e),rd(t.stateNode,t.type,e))}}function X0(t){Fs?$s?$s.push(t):$s=[t]:Fs=t}function Q0(){if(Fs){var t=Fs,e=$s;if($s=Fs=null,qg(t),e)for(t=0;t<e.length;t++)qg(e[t])}}function J0(t,e){return t(e)}function Z0(){}var Wc=!1;function e_(t,e,n){if(Wc)return t(e,n);Wc=!0;try{return J0(t,e,n)}finally{Wc=!1,(Fs!==null||$s!==null)&&(Z0(),Q0())}}function xo(t,e){var n=t.stateNode;if(n===null)return null;var i=ju(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var od=!1;if(Mn)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){od=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{od=!1}function Yb(t,e,n,i,s,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Jr=!1,zl=null,Vl=!1,ad=null,Xb={onError:function(t){Jr=!0,zl=t}};function Qb(t,e,n,i,s,r,o,a,l){Jr=!1,zl=null,Yb.apply(Xb,arguments)}function Jb(t,e,n,i,s,r,o,a,l){if(Qb.apply(this,arguments),Jr){if(Jr){var u=zl;Jr=!1,zl=null}else throw Error(T(198));Vl||(Vl=!0,ad=u)}}function fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gg(t){if(fs(t)!==t)throw Error(T(188))}function Zb(t){var e=t.alternate;if(!e){if(e=fs(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Gg(s),t;if(r===i)return Gg(s),e;r=r.sibling}throw Error(T(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function n_(t){return t=Zb(t),t!==null?i_(t):null}function i_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i_(t);if(e!==null)return e;t=t.sibling}return null}var s_=At.unstable_scheduleCallback,Yg=At.unstable_cancelCallback,ek=At.unstable_shouldYield,tk=At.unstable_requestPaint,Te=At.unstable_now,nk=At.unstable_getCurrentPriorityLevel,Lf=At.unstable_ImmediatePriority,r_=At.unstable_UserBlockingPriority,Bl=At.unstable_NormalPriority,ik=At.unstable_LowPriority,o_=At.unstable_IdlePriority,zu=null,an=null;function sk(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:ak,rk=Math.log,ok=Math.LN2;function ak(t){return t>>>=0,t===0?32:31-(rk(t)/ok|0)|0}var za=64,Va=4194304;function jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ul(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=jr(a):(r&=o,r!==0&&(i=jr(r)))}else o=n&~s,o!==0?i=jr(o):r!==0&&(i=jr(r));if(i===0)return 0;if(e!==0&&e!==i&&(e&s)===0&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if((i&4)!==0&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Xt(e),s=1<<n,i|=t[n],e&=~s;return i}function lk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Xt(r),a=1<<o,l=s[o];l===-1?((a&n)===0||(a&i)!==0)&&(s[o]=lk(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function ld(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a_(){var t=za;return za<<=1,(za&4194240)===0&&(za=64),t}function Kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Ff(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Xt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ae=0;function l_(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var u_,$f,c_,h_,d_,ud=!1,Ba=[],ei=null,ti=null,ni=null,So=new Map,bo=new Map,Hn=[],hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(e.pointerId)}}function Ir(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=sa(e),e!==null&&$f(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dk(t,e,n,i,s){switch(e){case"focusin":return ei=Ir(ei,t,e,n,i,s),!0;case"dragenter":return ti=Ir(ti,t,e,n,i,s),!0;case"mouseover":return ni=Ir(ni,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return So.set(r,Ir(So.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,bo.set(r,Ir(bo.get(r)||null,t,e,n,i,s)),!0}return!1}function f_(t){var e=Oi(t.target);if(e!==null){var n=fs(e);if(n!==null){if(e=n.tag,e===13){if(e=t_(n),e!==null){t.blockedOn=e,d_(t.priority,function(){c_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);sd=i,n.target.dispatchEvent(i),sd=null}else return e=sa(n),e!==null&&$f(e),t.blockedOn=n,!1;e.shift()}return!0}function Qg(t,e,n){wl(t)&&n.delete(e)}function fk(){ud=!1,ei!==null&&wl(ei)&&(ei=null),ti!==null&&wl(ti)&&(ti=null),ni!==null&&wl(ni)&&(ni=null),So.forEach(Qg),bo.forEach(Qg)}function Ar(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,fk)))}function ko(t){function e(s){return Ar(s,t)}if(0<Ba.length){Ar(Ba[0],t);for(var n=1;n<Ba.length;n++){var i=Ba[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ei!==null&&Ar(ei,t),ti!==null&&Ar(ti,t),ni!==null&&Ar(ni,t),So.forEach(e),bo.forEach(e),n=0;n<Hn.length;n++)i=Hn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&Hn.shift()}var zs=$n.ReactCurrentBatchConfig,jl=!0;function pk(t,e,n,i){var s=ae,r=zs.transition;zs.transition=null;try{ae=1,zf(t,e,n,i)}finally{ae=s,zs.transition=r}}function gk(t,e,n,i){var s=ae,r=zs.transition;zs.transition=null;try{ae=4,zf(t,e,n,i)}finally{ae=s,zs.transition=r}}function zf(t,e,n,i){if(jl){var s=cd(t,e,n,i);if(s===null)nh(t,e,i,Hl,n),Xg(t,i);else if(dk(s,t,e,n,i))i.stopPropagation();else if(Xg(t,i),e&4&&-1<hk.indexOf(t)){for(;s!==null;){var r=sa(s);if(r!==null&&u_(r),r=cd(t,e,n,i),r===null&&nh(t,e,i,Hl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else nh(t,e,i,null,n)}}var Hl=null;function cd(t,e,n,i){if(Hl=null,t=Nf(i),t=Oi(t),t!==null)if(e=fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function p_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nk()){case Lf:return 1;case r_:return 4;case Bl:case ik:return 16;case o_:return 536870912;default:return 16}default:return 16}}var Xn=null,Vf=null,xl=null;function g_(){if(xl)return xl;var t,e=Vf,n=e.length,i,s="value"in Xn?Xn.value:Xn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return xl=s.slice(t,1<i?1-i:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ua(){return!0}function Jg(){return!1}function Dt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ua:Jg,this.isPropagationStopped=Jg,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),e}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=Dt(fr),ia=Se({},fr,{view:0,detail:0}),mk=Dt(ia),qc,Gc,Pr,Vu=Se({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(qc=t.screenX-Pr.screenX,Gc=t.screenY-Pr.screenY):Gc=qc=0,Pr=t),qc)},movementY:function(t){return"movementY"in t?t.movementY:Gc}}),Zg=Dt(Vu),yk=Se({},Vu,{dataTransfer:0}),vk=Dt(yk),_k=Se({},ia,{relatedTarget:0}),Yc=Dt(_k),wk=Se({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=Dt(wk),Sk=Se({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bk=Dt(Sk),kk=Se({},fr,{data:0}),em=Dt(kk),Ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ck[t])?!!e[t]:!1}function Uf(){return Ik}var Ak=Se({},ia,{key:function(t){if(t.key){var e=Ek[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pk=Dt(Ak),Mk=Se({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Dt(Mk),Dk=Se({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),Rk=Dt(Dk),Ok=Se({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=Dt(Ok),Lk=Se({},Vu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=Dt(Lk),$k=[9,13,27,32],jf=Mn&&"CompositionEvent"in window,Zr=null;Mn&&"documentMode"in document&&(Zr=document.documentMode);var zk=Mn&&"TextEvent"in window&&!Zr,m_=Mn&&(!jf||Zr&&8<Zr&&11>=Zr),nm=String.fromCharCode(32),im=!1;function y_(t,e){switch(t){case"keyup":return $k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function Vk(t,e){switch(t){case"compositionend":return v_(e);case"keypress":return e.which!==32?null:(im=!0,nm);case"textInput":return t=e.data,t===nm&&im?null:t;default:return null}}function Bk(t,e){if(bs)return t==="compositionend"||!jf&&y_(t,e)?(t=g_(),xl=Vf=Xn=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m_&&e.locale!=="ko"?null:e.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uk[t.type]:e==="textarea"}function __(t,e,n,i){X0(i),e=Wl(e,"onChange"),0<e.length&&(n=new Bf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var eo=null,Eo=null;function jk(t){P_(t,0)}function Bu(t){var e=Ts(t);if(j0(e))return t}function Hk(t,e){if(t==="change")return e}var w_=!1;if(Mn){var Xc;if(Mn){var Qc="oninput"in document;if(!Qc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Qc=typeof rm.oninput=="function"}Xc=Qc}else Xc=!1;w_=Xc&&(!document.documentMode||9<document.documentMode)}function om(){eo&&(eo.detachEvent("onpropertychange",x_),Eo=eo=null)}function x_(t){if(t.propertyName==="value"&&Bu(Eo)){var e=[];__(e,Eo,t,Nf(t)),e_(jk,e)}}function Wk(t,e,n){t==="focusin"?(om(),eo=e,Eo=n,eo.attachEvent("onpropertychange",x_)):t==="focusout"&&om()}function Kk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Eo)}function qk(t,e){if(t==="click")return Bu(e)}function Gk(t,e){if(t==="input"||t==="change")return Bu(e)}function Yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:Yk;function To(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Kh.call(e,s)||!Jt(t[s],e[s]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,e){var n=am(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function S_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b_(){for(var t=window,e=$l();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$l(t.document)}return e}function Hf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xk(t){var e=b_(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S_(n.ownerDocument.documentElement,n)){if(i!==null&&Hf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=lm(n,r);var o=lm(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qk=Mn&&"documentMode"in document&&11>=document.documentMode,ks=null,hd=null,to=null,dd=!1;function um(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dd||ks==null||ks!==$l(i)||(i=ks,"selectionStart"in i&&Hf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),to&&To(to,i)||(to=i,i=Wl(hd,"onSelect"),0<i.length&&(e=new Bf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ks)))}function ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Jc={},k_={};Mn&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Uu(t){if(Jc[t])return Jc[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k_)return Jc[t]=e[n];return t}var E_=Uu("animationend"),T_=Uu("animationiteration"),C_=Uu("animationstart"),I_=Uu("transitionend"),A_=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){A_.set(t,e),ds(e,[t])}for(var Zc=0;Zc<cm.length;Zc++){var eh=cm[Zc],Jk=eh.toLowerCase(),Zk=eh[0].toUpperCase()+eh.slice(1);_i(Jk,"on"+Zk)}_i(E_,"onAnimationEnd");_i(T_,"onAnimationIteration");_i(C_,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(I_,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function hm(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Jb(i,e,void 0,t),t.currentTarget=null}function P_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;hm(s,a,u),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;hm(s,a,u),r=l}}}if(Vl)throw t=ad,Vl=!1,ad=null,t}function pe(t,e){var n=e[yd];n===void 0&&(n=e[yd]=new Set);var i=t+"__bubble";n.has(i)||(M_(e,t,2,!1),n.add(i))}function th(t,e,n){var i=0;e&&(i|=4),M_(n,t,i,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Co(t){if(!t[Ha]){t[Ha]=!0,$0.forEach(function(n){n!=="selectionchange"&&(eE.has(n)||th(n,!1,t),th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,th("selectionchange",!1,e))}}function M_(t,e,n,i){switch(p_(e)){case 1:var s=pk;break;case 4:s=gk;break;default:s=zf}n=s.bind(null,e,n,t),s=void 0,!od||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nh(t,e,n,i,s){var r=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}e_(function(){var u=r,c=Nf(n),h=[];e:{var d=A_.get(t);if(d!==void 0){var f=Bf,p=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":f=Pk;break;case"focusin":p="focus",f=Yc;break;case"focusout":p="blur",f=Yc;break;case"beforeblur":case"afterblur":f=Yc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Rk;break;case E_:case T_:case C_:f=xk;break;case I_:f=Nk;break;case"scroll":f=mk;break;case"wheel":f=Fk;break;case"copy":case"cut":case"paste":f=bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=tm}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=xo(m,g),w!=null&&y.push(Io(m,w,v)))),_)break;m=m.return}0<y.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==sd&&(p=n.relatedTarget||n.fromElement)&&(Oi(p)||p[Dn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Oi(p):null,p!==null&&(_=fs(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=Zg,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=tm,w="onPointerLeave",g="onPointerEnter",m="pointer"),_=f==null?d:Ts(f),v=p==null?d:Ts(p),d=new y(w,m+"leave",f,n,c),d.target=_,d.relatedTarget=v,w=null,Oi(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=_,w=y),_=w,f&&p)t:{for(y=f,g=p,m=0,v=y;v;v=ys(v))m++;for(v=0,w=g;w;w=ys(w))v++;for(;0<m-v;)y=ys(y),m--;for(;0<v-m;)g=ys(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=ys(y),g=ys(g)}y=null}else y=null;f!==null&&dm(h,d,f,y,!1),p!==null&&_!==null&&dm(h,_,p,y,!0)}}e:{if(d=u?Ts(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=Hk;else if(sm(d))if(w_)x=Gk;else{x=Kk;var k=Wk}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=qk);if(x&&(x=x(t,u))){__(h,x,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Zh(d,"number",d.value)}switch(k=u?Ts(u):window,t){case"focusin":(sm(k)||k.contentEditable==="true")&&(ks=k,hd=u,to=null);break;case"focusout":to=hd=ks=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,um(h,n,c);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":um(h,n,c)}var S;if(jf)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else bs?y_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(m_&&n.locale!=="ko"&&(bs||b!=="onCompositionStart"?b==="onCompositionEnd"&&bs&&(S=g_()):(Xn=c,Vf="value"in Xn?Xn.value:Xn.textContent,bs=!0)),k=Wl(u,b),0<k.length&&(b=new em(b,t,null,n,c),h.push({event:b,listeners:k}),S?b.data=S:(S=v_(n),S!==null&&(b.data=S)))),(S=zk?Vk(t,n):Bk(t,n))&&(u=Wl(u,"onBeforeInput"),0<u.length&&(c=new em("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}P_(h,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wl(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=xo(t,n),r!=null&&i.unshift(Io(t,r,s)),r=xo(t,e),r!=null&&i.push(Io(t,r,s))),t=t.return}return i}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dm(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,s?(l=xo(n,r),l!=null&&o.unshift(Io(n,l,a))):s||(l=xo(n,r),l!=null&&o.push(Io(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function fm(t){return(typeof t=="string"?t:""+t).replace(tE,`
`).replace(nE,"")}function Wa(t,e,n){if(e=fm(e),fm(t)!==e&&n)throw Error(T(425))}function Kl(){}var fd=null,pd=null;function gd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var md=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof pm!="undefined"?function(t){return pm.resolve(null).then(t).catch(rE)}:md;function rE(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ko(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ko(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pr=Math.random().toString(36).slice(2),rn="__reactFiber$"+pr,Ao="__reactProps$"+pr,Dn="__reactContainer$"+pr,yd="__reactEvents$"+pr,oE="__reactListeners$"+pr,aE="__reactHandles$"+pr;function Oi(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gm(t);t!==null;){if(n=t[rn])return n;t=gm(t)}return e}t=n,n=t.parentNode}return null}function sa(t){return t=t[rn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ju(t){return t[Ao]||null}var vd=[],Cs=-1;function wi(t){return{current:t}}function ge(t){0>Cs||(t.current=vd[Cs],vd[Cs]=null,Cs--)}function he(t,e){Cs++,vd[Cs]=t.current,t.current=e}var di={},ot=wi(di),xt=wi(!1),Qi=di;function Ys(t,e){var n=t.type.contextTypes;if(!n)return di;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function St(t){return t=t.childContextTypes,t!=null}function ql(){ge(xt),ge(ot)}function mm(t,e,n){if(ot.current!==di)throw Error(T(168));he(ot,e),he(xt,n)}function D_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(T(108,Wb(t)||"Unknown",s));return Se({},n,i)}function Gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Qi=ot.current,he(ot,t),he(xt,xt.current),!0}function ym(t,e,n){var i=t.stateNode;if(!i)throw Error(T(169));n?(t=D_(t,e,Qi),i.__reactInternalMemoizedMergedChildContext=t,ge(xt),ge(ot),he(ot,t)):ge(xt),he(xt,n)}var wn=null,Hu=!1,sh=!1;function R_(t){wn===null?wn=[t]:wn.push(t)}function lE(t){Hu=!0,R_(t)}function xi(){if(!sh&&wn!==null){sh=!0;var t=0,e=ae;try{var n=wn;for(ae=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}wn=null,Hu=!1}catch(s){throw wn!==null&&(wn=wn.slice(t+1)),s_(Lf,xi),s}finally{ae=e,sh=!1}}return null}var Is=[],As=0,Yl=null,Xl=0,Nt=[],Lt=0,Ji=null,Sn=1,bn="";function Ai(t,e){Is[As++]=Xl,Is[As++]=Yl,Yl=t,Xl=e}function O_(t,e,n){Nt[Lt++]=Sn,Nt[Lt++]=bn,Nt[Lt++]=Ji,Ji=t;var i=Sn;t=bn;var s=32-Xt(i)-1;i&=~(1<<s),n+=1;var r=32-Xt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Sn=1<<32-Xt(e)+s|n<<s|i,bn=r+t}else Sn=1<<r|n<<s|i,bn=t}function Wf(t){t.return!==null&&(Ai(t,1),O_(t,1,0))}function Kf(t){for(;t===Yl;)Yl=Is[--As],Is[As]=null,Xl=Is[--As],Is[As]=null;for(;t===Ji;)Ji=Nt[--Lt],Nt[Lt]=null,bn=Nt[--Lt],Nt[Lt]=null,Sn=Nt[--Lt],Nt[Lt]=null}var It=null,Ct=null,me=!1,Gt=null;function N_(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Ct=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:Sn,overflow:bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,Ct=null,!0):!1;default:return!1}}function _d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wd(t){if(me){var e=Ct;if(e){var n=e;if(!vm(t,e)){if(_d(t))throw Error(T(418));e=ii(n.nextSibling);var i=It;e&&vm(t,e)?N_(i,n):(t.flags=t.flags&-4097|2,me=!1,It=t)}}else{if(_d(t))throw Error(T(418));t.flags=t.flags&-4097|2,me=!1,It=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Ka(t){if(t!==It)return!1;if(!me)return _m(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gd(t.type,t.memoizedProps)),e&&(e=Ct)){if(_d(t))throw L_(),Error(T(418));for(;e;)N_(t,e),e=ii(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=It?ii(t.stateNode.nextSibling):null;return!0}function L_(){for(var t=Ct;t;)t=ii(t.nextSibling)}function Xs(){Ct=It=null,me=!1}function qf(t){Gt===null?Gt=[t]:Gt.push(t)}var uE=$n.ReactCurrentBatchConfig;function Kt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ql=wi(null),Jl=null,Ps=null,Gf=null;function Yf(){Gf=Ps=Jl=null}function Xf(t){var e=Ql.current;ge(Ql),t._currentValue=e}function xd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){Jl=t,Gf=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(_t=!0),t.firstContext=null)}function Vt(t){var e=t._currentValue;if(Gf!==t)if(t={context:t,memoizedValue:e,next:null},Ps===null){if(Jl===null)throw Error(T(308));Ps=t,Jl.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return e}var Ni=null;function Qf(t){Ni===null?Ni=[t]:Ni.push(t)}function F_(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Qf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Rn(t,i)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jn=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(J&2)!==0){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Rn(t,n)}return s=i.interleaved,s===null?(e.next=e,Qf(i)):(e.next=s.next,s.next=e),i.interleaved=e,Rn(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ff(t,n)}}function wm(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zl(t,e,n,i){var s=t.updateQueue;jn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,c=u=l=null,a=r;do{var d=a.lane,f=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(d=e,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Se({},h,d);break e;case 2:jn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=h}}function xm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(T(191,s));s.call(i)}}}var z_=new F0.Component().refs;function Sd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wu={isMounted:function(t){return(t=t._reactInternals)?fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=dt(),s=oi(t),r=Pn(i,s);r.payload=e,n!=null&&(r.callback=n),e=si(t,r,s),e!==null&&(Qt(e,t,s,i),bl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=dt(),s=oi(t),r=Pn(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=si(t,r,s),e!==null&&(Qt(e,t,s,i),bl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),i=oi(t),s=Pn(n,i);s.tag=2,e!=null&&(s.callback=e),e=si(t,s,i),e!==null&&(Qt(e,t,i,n),bl(e,t,i))}};function Sm(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!To(n,i)||!To(s,r):!0}function V_(t,e,n){var i=!1,s=di,r=e.contextType;return typeof r=="object"&&r!==null?r=Vt(r):(s=St(e)?Qi:ot.current,i=e.contextTypes,r=(i=i!=null)?Ys(t,s):di),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function bm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Wu.enqueueReplaceState(e,e.state,null)}function bd(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=z_,Jf(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Vt(r):(r=St(e)?Qi:ot.current,s.context=Ys(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Sd(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wu.enqueueReplaceState(s,s.state,null),Zl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var i=n.stateNode}if(!i)throw Error(T(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;a===z_&&(a=s.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function qa(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function km(t){var e=t._init;return e(t._payload)}function B_(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=ai(g,m),g.index=0,g.sibling=null,g}function r(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,w){return m===null||m.tag!==6?(m=hh(v,g.mode,w),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,w){var x=v.type;return x===Ss?c(g,m,v.props.children,w,v.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Un&&km(x)===m.type)?(w=s(m,v.props),w.ref=Mr(g,m,v),w.return=g,w):(w=Al(v.type,v.key,v.props,null,g.mode,w),w.ref=Mr(g,m,v),w.return=g,w)}function u(g,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=dh(v,g.mode,w),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function c(g,m,v,w,x){return m===null||m.tag!==7?(m=Ui(v,g.mode,w,x),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hh(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case La:return v=Al(m.type,m.key,m.props,null,g.mode,v),v.ref=Mr(g,null,m),v.return=g,v;case xs:return m=dh(m,g.mode,v),m.return=g,m;case Un:var w=m._init;return h(g,w(m._payload),v)}if(Ur(m)||Tr(m))return m=Ui(m,g.mode,v,null),m.return=g,m;qa(g,m)}return null}function d(g,m,v,w){var x=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(g,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case La:return v.key===x?l(g,m,v,w):null;case xs:return v.key===x?u(g,m,v,w):null;case Un:return x=v._init,d(g,m,x(v._payload),w)}if(Ur(v)||Tr(v))return x!==null?null:c(g,m,v,w,null);qa(g,v)}return null}function f(g,m,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,a(m,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case La:return g=g.get(w.key===null?v:w.key)||null,l(m,g,w,x);case xs:return g=g.get(w.key===null?v:w.key)||null,u(m,g,w,x);case Un:var k=w._init;return f(g,m,v,k(w._payload),x)}if(Ur(w)||Tr(w))return g=g.get(v)||null,c(m,g,w,x,null);qa(m,w)}return null}function p(g,m,v,w){for(var x=null,k=null,S=m,b=m=0,E=null;S!==null&&b<v.length;b++){S.index>b?(E=S,S=null):E=S.sibling;var I=d(g,S,v[b],w);if(I===null){S===null&&(S=E);break}t&&S&&I.alternate===null&&e(g,S),m=r(I,m,b),k===null?x=I:k.sibling=I,k=I,S=E}if(b===v.length)return n(g,S),me&&Ai(g,b),x;if(S===null){for(;b<v.length;b++)S=h(g,v[b],w),S!==null&&(m=r(S,m,b),k===null?x=S:k.sibling=S,k=S);return me&&Ai(g,b),x}for(S=i(g,S);b<v.length;b++)E=f(S,g,b,v[b],w),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?b:E.key),m=r(E,m,b),k===null?x=E:k.sibling=E,k=E);return t&&S.forEach(function(O){return e(g,O)}),me&&Ai(g,b),x}function y(g,m,v,w){var x=Tr(v);if(typeof x!="function")throw Error(T(150));if(v=x.call(v),v==null)throw Error(T(151));for(var k=x=null,S=m,b=m=0,E=null,I=v.next();S!==null&&!I.done;b++,I=v.next()){S.index>b?(E=S,S=null):E=S.sibling;var O=d(g,S,I.value,w);if(O===null){S===null&&(S=E);break}t&&S&&O.alternate===null&&e(g,S),m=r(O,m,b),k===null?x=O:k.sibling=O,k=O,S=E}if(I.done)return n(g,S),me&&Ai(g,b),x;if(S===null){for(;!I.done;b++,I=v.next())I=h(g,I.value,w),I!==null&&(m=r(I,m,b),k===null?x=I:k.sibling=I,k=I);return me&&Ai(g,b),x}for(S=i(g,S);!I.done;b++,I=v.next())I=f(S,g,b,I.value,w),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?b:I.key),m=r(I,m,b),k===null?x=I:k.sibling=I,k=I);return t&&S.forEach(function(F){return e(g,F)}),me&&Ai(g,b),x}function _(g,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case La:e:{for(var x=v.key,k=m;k!==null;){if(k.key===x){if(x=v.type,x===Ss){if(k.tag===7){n(g,k.sibling),m=s(k,v.props.children),m.return=g,g=m;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Un&&km(x)===k.type){n(g,k.sibling),m=s(k,v.props),m.ref=Mr(g,k,v),m.return=g,g=m;break e}n(g,k);break}else e(g,k);k=k.sibling}v.type===Ss?(m=Ui(v.props.children,g.mode,w,v.key),m.return=g,g=m):(w=Al(v.type,v.key,v.props,null,g.mode,w),w.ref=Mr(g,m,v),w.return=g,g=w)}return o(g);case xs:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=dh(v,g.mode,w),m.return=g,g=m}return o(g);case Un:return k=v._init,_(g,m,k(v._payload),w)}if(Ur(v))return p(g,m,v,w);if(Tr(v))return y(g,m,v,w);qa(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=hh(v,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return _}var Qs=B_(!0),U_=B_(!1),ra={},ln=wi(ra),Po=wi(ra),Mo=wi(ra);function Li(t){if(t===ra)throw Error(T(174));return t}function Zf(t,e){switch(he(Mo,e),he(Po,t),he(ln,ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:td(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=td(e,t)}ge(ln),he(ln,e)}function Js(){ge(ln),ge(Po),ge(Mo)}function j_(t){Li(Mo.current);var e=Li(ln.current),n=td(e,t.type);e!==n&&(he(Po,t),he(ln,n))}function ep(t){Po.current===t&&(ge(ln),ge(Po))}var we=wi(0);function eu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rh=[];function tp(){for(var t=0;t<rh.length;t++)rh[t]._workInProgressVersionPrimary=null;rh.length=0}var kl=$n.ReactCurrentDispatcher,oh=$n.ReactCurrentBatchConfig,Zi=0,xe=null,Re=null,$e=null,tu=!1,no=!1,Do=0,cE=0;function et(){throw Error(T(321))}function np(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function ip(t,e,n,i,s,r){if(Zi=r,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kl.current=t===null||t.memoizedState===null?pE:gE,t=n(i,s),no){r=0;do{if(no=!1,Do=0,25<=r)throw Error(T(301));r+=1,$e=Re=null,e.updateQueue=null,kl.current=mE,t=n(i,s)}while(no)}if(kl.current=nu,e=Re!==null&&Re.next!==null,Zi=0,$e=Re=xe=null,tu=!1,e)throw Error(T(300));return t}function sp(){var t=Do!==0;return Do=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?xe.memoizedState=$e=t:$e=$e.next=t,$e}function Bt(){if(Re===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=$e===null?xe.memoizedState:$e.next;if(e!==null)$e=e,Re=t;else{if(t===null)throw Error(T(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},$e===null?xe.memoizedState=$e=t:$e=$e.next=t}return $e}function Ro(t,e){return typeof e=="function"?e(t):e}function ah(t){var e=Bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=Re,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,u=r;do{var c=u.lane;if((Zi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,xe.lanes|=c,es|=c}u=u.next}while(u!==null&&u!==r);l===null?o=i:l.next=a,Jt(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,xe.lanes|=r,es|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lh(t){var e=Bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Jt(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function H_(){}function W_(t,e){var n=xe,i=Bt(),s=e(),r=!Jt(i.memoizedState,s);if(r&&(i.memoizedState=s,_t=!0),i=i.queue,rp(G_.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Oo(9,q_.bind(null,n,i,s,e),void 0,null),Ve===null)throw Error(T(349));(Zi&30)!==0||K_(n,e,s)}return s}function K_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q_(t,e,n,i){e.value=n,e.getSnapshot=i,Y_(e)&&X_(t)}function G_(t,e,n){return n(function(){Y_(e)&&X_(t)})}function Y_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function X_(t){var e=Rn(t,1);e!==null&&Qt(e,t,1,-1)}function Em(t){var e=sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=fE.bind(null,xe,t),[e.memoizedState,t]}function Oo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Q_(){return Bt().memoizedState}function El(t,e,n,i){var s=sn();xe.flags|=t,s.memoizedState=Oo(1|e,n,void 0,i===void 0?null:i)}function Ku(t,e,n,i){var s=Bt();i=i===void 0?null:i;var r=void 0;if(Re!==null){var o=Re.memoizedState;if(r=o.destroy,i!==null&&np(i,o.deps)){s.memoizedState=Oo(e,n,r,i);return}}xe.flags|=t,s.memoizedState=Oo(1|e,n,r,i)}function Tm(t,e){return El(8390656,8,t,e)}function rp(t,e){return Ku(2048,8,t,e)}function J_(t,e){return Ku(4,2,t,e)}function Z_(t,e){return Ku(4,4,t,e)}function ew(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tw(t,e,n){return n=n!=null?n.concat([t]):null,Ku(4,4,ew.bind(null,e,t),n)}function op(){}function nw(t,e){var n=Bt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&np(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function iw(t,e){var n=Bt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&np(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function sw(t,e,n){return(Zi&21)===0?(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n):(Jt(n,e)||(n=a_(),xe.lanes|=n,es|=n,t.baseState=!0),e)}function hE(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var i=oh.transition;oh.transition={};try{t(!1),e()}finally{ae=n,oh.transition=i}}function rw(){return Bt().memoizedState}function dE(t,e,n){var i=oi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ow(t))aw(e,n);else if(n=F_(t,e,n,i),n!==null){var s=dt();Qt(n,t,i,s),lw(n,e,i)}}function fE(t,e,n){var i=oi(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ow(t))aw(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Jt(a,o)){var l=e.interleaved;l===null?(s.next=s,Qf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=F_(t,e,s,i),n!==null&&(s=dt(),Qt(n,t,i,s),lw(n,e,i))}}function ow(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function aw(t,e){no=tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lw(t,e,n){if((n&4194240)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ff(t,n)}}var nu={readContext:Vt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},pE={readContext:Vt,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Vt,useEffect:Tm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,El(4194308,4,ew.bind(null,e,t),n)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var n=sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=sn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=dE.bind(null,xe,t),[i.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:op,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=hE.bind(null,t[1]),sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=xe,s=sn();if(me){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Ve===null)throw Error(T(349));(Zi&30)!==0||K_(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Tm(G_.bind(null,i,r,t),[t]),i.flags|=2048,Oo(9,q_.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=sn(),e=Ve.identifierPrefix;if(me){var n=bn,i=Sn;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Do++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gE={readContext:Vt,useCallback:nw,useContext:Vt,useEffect:rp,useImperativeHandle:tw,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:iw,useReducer:ah,useRef:Q_,useState:function(){return ah(Ro)},useDebugValue:op,useDeferredValue:function(t){var e=Bt();return sw(e,Re.memoizedState,t)},useTransition:function(){var t=ah(Ro)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:H_,useSyncExternalStore:W_,useId:rw,unstable_isNewReconciler:!1},mE={readContext:Vt,useCallback:nw,useContext:Vt,useEffect:rp,useImperativeHandle:tw,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:iw,useReducer:lh,useRef:Q_,useState:function(){return lh(Ro)},useDebugValue:op,useDeferredValue:function(t){var e=Bt();return Re===null?e.memoizedState=t:sw(e,Re.memoizedState,t)},useTransition:function(){var t=lh(Ro)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:H_,useSyncExternalStore:W_,useId:rw,unstable_isNewReconciler:!1};function Zs(t,e){try{var n="",i=e;do n+=Hb(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function uh(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function kd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yE=typeof WeakMap=="function"?WeakMap:Map;function uw(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){su||(su=!0,Od=i),kd(t,e)},n}function cw(t,e,n){n=Pn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){kd(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){kd(t,e),typeof i!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cm(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new yE;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=ME.bind(null,t,e,n),e.then(t,t))}function Im(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Am(t,e,n,i,s){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var vE=$n.ReactCurrentOwner,_t=!1;function lt(t,e,n,i){e.child=t===null?U_(e,null,n,i):Qs(e,t.child,n,i)}function Pm(t,e,n,i,s){n=n.render;var r=e.ref;return Vs(e,s),i=ip(t,e,n,i,r,s),n=sp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,On(t,e,s)):(me&&n&&Wf(e),e.flags|=1,lt(t,e,i,s),e.child)}function Mm(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!pp(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,hw(t,e,r,i,s)):(t=Al(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,(t.lanes&s)===0){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(o,i)&&t.ref===e.ref)return On(t,e,s)}return e.flags|=1,t=ai(r,i),t.ref=e.ref,t.return=e,e.child=t}function hw(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(To(r,i)&&t.ref===e.ref)if(_t=!1,e.pendingProps=i=r,(t.lanes&s)!==0)(t.flags&131072)!==0&&(_t=!0);else return e.lanes=t.lanes,On(t,e,s)}return Ed(t,e,n,i,s)}function dw(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ds,Et),Et|=n;else{if((n&1073741824)===0)return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ds,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,he(Ds,Et),Et|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,he(Ds,Et),Et|=i;return lt(t,e,s,n),e.child}function fw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ed(t,e,n,i,s){var r=St(n)?Qi:ot.current;return r=Ys(e,r),Vs(e,s),n=ip(t,e,n,i,r,s),i=sp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,On(t,e,s)):(me&&i&&Wf(e),e.flags|=1,lt(t,e,n,s),e.child)}function Dm(t,e,n,i,s){if(St(n)){var r=!0;Gl(e)}else r=!1;if(Vs(e,s),e.stateNode===null)Tl(t,e),V_(e,n,i),bd(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=St(n)?Qi:ot.current,u=Ys(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&bm(e,o,i,u),jn=!1;var d=e.memoizedState;o.state=d,Zl(e,i,o,s),l=e.memoizedState,a!==i||d!==l||xt.current||jn?(typeof c=="function"&&(Sd(e,n,c,i),l=e.memoizedState),(a=jn||Sm(e,n,a,i,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,$_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vt(l):(l=St(n)?Qi:ot.current,l=Ys(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&bm(e,o,i,l),jn=!1,d=e.memoizedState,o.state=d,Zl(e,i,o,s);var p=e.memoizedState;a!==h||d!==p||xt.current||jn?(typeof f=="function"&&(Sd(e,n,f,i),p=e.memoizedState),(u=jn||Sm(e,n,u,i,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Td(t,e,n,i,r,s)}function Td(t,e,n,i,s,r){fw(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&ym(e,n,!1),On(t,e,r);i=e.stateNode,vE.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Qs(e,t.child,null,r),e.child=Qs(e,null,a,r)):lt(t,e,a,r),e.memoizedState=i.state,s&&ym(e,n,!0),e.child}function pw(t){var e=t.stateNode;e.pendingContext?mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mm(t,e.context,!1),Zf(t,e.containerInfo)}function Rm(t,e,n,i,s){return Xs(),qf(s),e.flags|=256,lt(t,e,n,i),e.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Id(t){return{baseLanes:t,cachePool:null,transitions:null}}function gw(t,e,n){var i=e.pendingProps,s=we.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),he(we,s&1),t===null)return wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},(i&1)===0&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Yu(o,i,0,null),t=Ui(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Id(n),e.memoizedState=Cd,t):ap(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _E(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return(o&1)===0&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ai(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=ai(a,r):(r=Ui(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Id(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Cd,i}return r=t.child,t=r.sibling,i=ai(r,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ap(t,e){return e=Yu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ga(t,e,n,i){return i!==null&&qf(i),Qs(e,t.child,null,n),t=ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _E(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=uh(Error(T(422))),Ga(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Yu({mode:"visible",children:i.children},s,0,null),r=Ui(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,(e.mode&1)!==0&&Qs(e,t.child,null,o),e.child.memoizedState=Id(o),e.memoizedState=Cd,r);if((e.mode&1)===0)return Ga(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(T(419)),i=uh(r,i,void 0),Ga(t,e,o,i)}if(a=(o&t.childLanes)!==0,_t||a){if(i=Ve,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|o))!==0?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Rn(t,s),Qt(i,t,s,-1))}return fp(),i=uh(Error(T(421))),Ga(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=DE.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Ct=ii(s.nextSibling),It=e,me=!0,Gt=null,t!==null&&(Nt[Lt++]=Sn,Nt[Lt++]=bn,Nt[Lt++]=Ji,Sn=t.id,bn=t.overflow,Ji=e),e=ap(e,i.children),e.flags|=4096,e)}function Om(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),xd(t.return,e,n)}function ch(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function mw(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(lt(t,e,i.children,n),i=we.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,n,e);else if(t.tag===19)Om(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(he(we,i),(e.mode&1)===0)e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&eu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ch(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&eu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ch(e,!0,n,null,r);break;case"together":ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function On(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wE(t,e,n){switch(e.tag){case 3:pw(e),Xs();break;case 5:j_(e);break;case 1:St(e.type)&&Gl(e);break;case 4:Zf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;he(Ql,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(he(we,we.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?gw(t,e,n):(he(we,we.current&1),t=On(t,e,n),t!==null?t.sibling:null);he(we,we.current&1);break;case 19:if(i=(n&e.childLanes)!==0,(t.flags&128)!==0){if(i)return mw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(we,we.current),i)break;return null;case 22:case 23:return e.lanes=0,dw(t,e,n)}return On(t,e,n)}var yw,Ad,vw,_w;yw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ad=function(){};vw=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Li(ln.current);var r=null;switch(n){case"input":s=Qh(t,s),i=Qh(t,i),r=[];break;case"select":s=Se({},s,{value:void 0}),i=Se({},i,{value:void 0}),r=[];break;case"textarea":s=ed(t,s),i=ed(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Kl)}nd(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_o.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var l=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_o.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",t),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};_w=function(t,e,n,i){n!==i&&(e.flags|=4)};function Dr(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function xE(t,e,n){var i=e.pendingProps;switch(Kf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return St(e.type)&&ql(),tt(e),null;case 3:return i=e.stateNode,Js(),ge(xt),ge(ot),tp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Gt!==null&&(Fd(Gt),Gt=null))),Ad(t,e),tt(e),null;case 5:ep(e);var s=Li(Mo.current);if(n=e.type,t!==null&&e.stateNode!=null)vw(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(T(166));return tt(e),null}if(t=Li(ln.current),Ka(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[rn]=e,i[Ao]=r,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",i),pe("close",i);break;case"iframe":case"object":case"embed":pe("load",i);break;case"video":case"audio":for(s=0;s<Hr.length;s++)pe(Hr[s],i);break;case"source":pe("error",i);break;case"img":case"image":case"link":pe("error",i),pe("load",i);break;case"details":pe("toggle",i);break;case"input":jg(i,r),pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},pe("invalid",i);break;case"textarea":Wg(i,r),pe("invalid",i)}nd(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Wa(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Wa(i.textContent,a,t),s=["children",""+a]):_o.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",i)}switch(n){case"input":Fa(i),Hg(i,r,!0);break;case"textarea":Fa(i),Kg(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Kl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[rn]=e,t[Ao]=i,yw(t,e,!1,!1),e.stateNode=t;e:{switch(o=id(n,i),n){case"dialog":pe("cancel",t),pe("close",t),s=i;break;case"iframe":case"object":case"embed":pe("load",t),s=i;break;case"video":case"audio":for(s=0;s<Hr.length;s++)pe(Hr[s],t);s=i;break;case"source":pe("error",t),s=i;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=i;break;case"details":pe("toggle",t),s=i;break;case"input":jg(t,i),s=Qh(t,i),pe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Se({},i,{value:void 0}),pe("invalid",t);break;case"textarea":Wg(t,i),s=ed(t,i),pe("invalid",t);break;default:s=i}nd(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Y0(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q0(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wo(t,l):typeof l=="number"&&wo(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(_o.hasOwnProperty(r)?l!=null&&r==="onScroll"&&pe("scroll",t):l!=null&&Mf(t,r,l,o))}switch(n){case"input":Fa(t),Hg(t,i,!1);break;case"textarea":Fa(t),Kg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+hi(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Ls(t,!!i.multiple,r,!1):i.defaultValue!=null&&Ls(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)_w(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(T(166));if(n=Li(Mo.current),Li(ln.current),Ka(e)){if(i=e.stateNode,n=e.memoizedProps,i[rn]=e,(r=i.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:Wa(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wa(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[rn]=e,e.stateNode=i}return tt(e),null;case 13:if(ge(we),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&Ct!==null&&(e.mode&1)!==0&&(e.flags&128)===0)L_(),Xs(),e.flags|=98560,r=!1;else if(r=Ka(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[rn]=e}else Xs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;tt(e),r=!1}else Gt!==null&&(Fd(Gt),Gt=null),r=!0;if(!r)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(we.current&1)!==0?Oe===0&&(Oe=3):fp())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Js(),Ad(t,e),t===null&&Co(e.stateNode.containerInfo),tt(e),null;case 10:return Xf(e.type._context),tt(e),null;case 17:return St(e.type)&&ql(),tt(e),null;case 19:if(ge(we),r=e.memoizedState,r===null)return tt(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Dr(r,!1);else{if(Oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=eu(t),o!==null){for(e.flags|=128,Dr(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(we,we.current&1|2),e.child}t=t.sibling}r.tail!==null&&Te()>er&&(e.flags|=128,i=!0,Dr(r,!1),e.lanes=4194304)}else{if(!i)if(t=eu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!me)return tt(e),null}else 2*Te()-r.renderingStartTime>er&&n!==1073741824&&(e.flags|=128,i=!0,Dr(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Te(),e.sibling=null,n=we.current,he(we,i?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return dp(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Et&1073741824)!==0&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function SE(t,e){switch(Kf(e),e.tag){case 1:return St(e.type)&&ql(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Js(),ge(xt),ge(ot),tp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return ep(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return Js(),null;case 10:return Xf(e.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var Ya=!1,it=!1,bE=typeof WeakSet=="function"?WeakSet:Set,M=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){be(t,e,i)}else n.current=null}function Pd(t,e,n){try{n()}catch(i){be(t,e,i)}}var Nm=!1;function kE(t,e){if(fd=jl,t=b_(),Hf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===r&&++c===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},jl=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,_=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kt(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){be(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return p=Nm,Nm=!1,p}function io(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Pd(e,n,r)}s=s.next}while(s!==i)}}function qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Md(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ww(t){var e=t.alternate;e!==null&&(t.alternate=null,ww(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Ao],delete e[yd],delete e[oE],delete e[aE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xw(t){return t.tag===5||t.tag===3||t.tag===4}function Lm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kl));else if(i!==4&&(t=t.child,t!==null))for(Dd(t,e,n),t=t.sibling;t!==null;)Dd(t,e,n),t=t.sibling}function Rd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}var He=null,qt=!1;function zn(t,e,n){for(n=n.child;n!==null;)Sw(t,e,n),n=n.sibling}function Sw(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:it||Ms(n,e);case 6:var i=He,s=qt;He=null,zn(t,e,n),He=i,qt=s,He!==null&&(qt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(qt?(t=He,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),ko(t)):ih(He,n.stateNode));break;case 4:i=He,s=qt,He=n.stateNode.containerInfo,qt=!0,zn(t,e,n),He=i,qt=s;break;case 0:case 11:case 14:case 15:if(!it&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&((r&2)!==0||(r&4)!==0)&&Pd(n,e,o),s=s.next}while(s!==i)}zn(t,e,n);break;case 1:if(!it&&(Ms(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){be(n,e,a)}zn(t,e,n);break;case 21:zn(t,e,n);break;case 22:n.mode&1?(it=(i=it)||n.memoizedState!==null,zn(t,e,n),it=i):zn(t,e,n);break;default:zn(t,e,n)}}function Fm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bE),e.forEach(function(i){var s=RE.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,qt=!1;break e;case 3:He=a.stateNode.containerInfo,qt=!0;break e;case 4:He=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(He===null)throw Error(T(160));Sw(r,o,s),He=null,qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bw(e,t),e=e.sibling}function bw(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),tn(t),i&4){try{io(3,t,t.return),qu(3,t)}catch(y){be(t,t.return,y)}try{io(5,t,t.return)}catch(y){be(t,t.return,y)}}break;case 1:Wt(e,t),tn(t),i&512&&n!==null&&Ms(n,n.return);break;case 5:if(Wt(e,t),tn(t),i&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{wo(s,"")}catch(y){be(t,t.return,y)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&H0(s,r),id(a,o);var u=id(a,r);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Y0(s,h):c==="dangerouslySetInnerHTML"?q0(s,h):c==="children"?wo(s,h):Mf(s,c,h,u)}switch(a){case"input":Jh(s,r);break;case"textarea":W0(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Ls(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?Ls(s,!!r.multiple,r.defaultValue,!0):Ls(s,!!r.multiple,r.multiple?[]:"",!1))}s[Ao]=r}catch(y){be(t,t.return,y)}}break;case 6:if(Wt(e,t),tn(t),i&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(y){be(t,t.return,y)}}break;case 3:if(Wt(e,t),tn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(e.containerInfo)}catch(y){be(t,t.return,y)}break;case 4:Wt(e,t),tn(t);break;case 13:Wt(e,t),tn(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(cp=Te())),i&4&&Fm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,Wt(e,t),it=u):Wt(e,t),tn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(M=t,c=t.child;c!==null;){for(h=M=c;M!==null;){switch(d=M,f=d.child,d.tag){case 0:case 11:case 14:case 15:io(4,d,d.return);break;case 1:Ms(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){be(i,n,y)}}break;case 5:Ms(d,d.return);break;case 22:if(d.memoizedState!==null){zm(h);continue}}f!==null?(f.return=d,M=f):zm(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G0("display",o))}catch(y){be(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){be(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wt(e,t),tn(t),i&4&&Fm(t);break;case 21:break;default:Wt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xw(n)){var i=n;break e}n=n.return}throw Error(T(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(wo(s,""),i.flags&=-33);var r=Lm(t);Rd(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Lm(t);Dd(t,a,o);break;default:throw Error(T(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EE(t,e,n){M=t,kw(t)}function kw(t,e,n){for(var i=(t.mode&1)!==0;M!==null;){var s=M,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Ya;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=Ya;var u=it;if(Ya=o,(it=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Vm(s):l!==null?(l.return=o,M=l):Vm(s);for(;r!==null;)M=r,kw(r),r=r.sibling;M=s,Ya=a,it=u}$m(t)}else(s.subtreeFlags&8772)!==0&&r!==null?(r.return=s,M=r):$m(t)}}function $m(t){for(;M!==null;){var e=M;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:it||qu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!it)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&xm(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}it||e.flags&512&&Md(e)}catch(d){be(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function zm(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Vm(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qu(4,e)}catch(l){be(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){be(e,s,l)}}var r=e.return;try{Md(e)}catch(l){be(e,r,l)}break;case 5:var o=e.return;try{Md(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var TE=Math.ceil,iu=$n.ReactCurrentDispatcher,lp=$n.ReactCurrentOwner,zt=$n.ReactCurrentBatchConfig,J=0,Ve=null,Pe=null,Ge=0,Et=0,Ds=wi(0),Oe=0,No=null,es=0,Gu=0,up=0,so=null,mt=null,cp=0,er=1/0,_n=null,su=!1,Od=null,ri=null,Xa=!1,Qn=null,ru=0,ro=0,Nd=null,Cl=-1,Il=0;function dt(){return(J&6)!==0?Te():Cl!==-1?Cl:Cl=Te()}function oi(t){return(t.mode&1)===0?1:(J&2)!==0&&Ge!==0?Ge&-Ge:uE.transition!==null?(Il===0&&(Il=a_()),Il):(t=ae,t!==0||(t=window.event,t=t===void 0?16:p_(t.type)),t)}function Qt(t,e,n,i){if(50<ro)throw ro=0,Nd=null,Error(T(185));na(t,n,i),((J&2)===0||t!==Ve)&&(t===Ve&&((J&2)===0&&(Gu|=n),Oe===4&&Wn(t,Ge)),bt(t,i),n===1&&J===0&&(e.mode&1)===0&&(er=Te()+500,Hu&&xi()))}function bt(t,e){var n=t.callbackNode;uk(t,e);var i=Ul(t,t===Ve?Ge:0);if(i===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?lE(Bm.bind(null,t)):R_(Bm.bind(null,t)),sE(function(){(J&6)===0&&xi()}),n=null;else{switch(l_(i)){case 1:n=Lf;break;case 4:n=r_;break;case 16:n=Bl;break;case 536870912:n=o_;break;default:n=Bl}n=Dw(n,Ew.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ew(t,e){if(Cl=-1,Il=0,(J&6)!==0)throw Error(T(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var i=Ul(t,t===Ve?Ge:0);if(i===0)return null;if((i&30)!==0||(i&t.expiredLanes)!==0||e)e=ou(t,i);else{e=i;var s=J;J|=2;var r=Cw();(Ve!==t||Ge!==e)&&(_n=null,er=Te()+500,Bi(t,e));do try{AE();break}catch(a){Tw(t,a)}while(1);Yf(),iu.current=r,J=s,Pe!==null?e=0:(Ve=null,Ge=0,e=Oe)}if(e!==0){if(e===2&&(s=ld(t),s!==0&&(i=s,e=Ld(t,s))),e===1)throw n=No,Bi(t,0),Wn(t,i),bt(t,Te()),n;if(e===6)Wn(t,i);else{if(s=t.current.alternate,(i&30)===0&&!CE(s)&&(e=ou(t,i),e===2&&(r=ld(t),r!==0&&(i=r,e=Ld(t,r))),e===1))throw n=No,Bi(t,0),Wn(t,i),bt(t,Te()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(T(345));case 2:Pi(t,mt,_n);break;case 3:if(Wn(t,i),(i&130023424)===i&&(e=cp+500-Te(),10<e)){if(Ul(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=md(Pi.bind(null,t,mt,_n),e);break}Pi(t,mt,_n);break;case 4:if(Wn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Xt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=Te()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*TE(i/1960))-i,10<i){t.timeoutHandle=md(Pi.bind(null,t,mt,_n),i);break}Pi(t,mt,_n);break;case 5:Pi(t,mt,_n);break;default:throw Error(T(329))}}}return bt(t,Te()),t.callbackNode===n?Ew.bind(null,t):null}function Ld(t,e){var n=so;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=ou(t,e),t!==2&&(e=mt,mt=n,e!==null&&Fd(e)),t}function Fd(t){mt===null?mt=t:mt.push.apply(mt,t)}function CE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Jt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wn(t,e){for(e&=~up,e&=~Gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),i=1<<n;t[n]=-1,e&=~i}}function Bm(t){if((J&6)!==0)throw Error(T(327));Bs();var e=Ul(t,0);if((e&1)===0)return bt(t,Te()),null;var n=ou(t,e);if(t.tag!==0&&n===2){var i=ld(t);i!==0&&(e=i,n=Ld(t,i))}if(n===1)throw n=No,Bi(t,0),Wn(t,e),bt(t,Te()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,mt,_n),bt(t,Te()),null}function hp(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(er=Te()+500,Hu&&xi())}}function ts(t){Qn!==null&&Qn.tag===0&&(J&6)===0&&Bs();var e=J;J|=1;var n=zt.transition,i=ae;try{if(zt.transition=null,ae=1,t)return t()}finally{ae=i,zt.transition=n,J=e,(J&6)===0&&xi()}}function dp(){Et=Ds.current,ge(Ds)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iE(n)),Pe!==null)for(n=Pe.return;n!==null;){var i=n;switch(Kf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ql();break;case 3:Js(),ge(xt),ge(ot),tp();break;case 5:ep(i);break;case 4:Js();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Xf(i.type._context);break;case 22:case 23:dp()}n=n.return}if(Ve=t,Pe=t=ai(t.current,null),Ge=Et=e,Oe=0,No=null,up=Gu=es=0,mt=so=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Ni=null}return t}function Tw(t,e){do{var n=Pe;try{if(Yf(),kl.current=nu,tu){for(var i=xe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}tu=!1}if(Zi=0,$e=Re=xe=null,no=!1,Do=0,lp.current=null,n===null||n.return===null){Oe=1,No=e,Pe=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Im(o);if(f!==null){f.flags&=-257,Am(f,o,a,r,e),f.mode&1&&Cm(r,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if((e&1)===0){Cm(r,u,e),fp();break e}l=Error(T(426))}}else if(me&&a.mode&1){var _=Im(o);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),Am(_,o,a,r,e),qf(Zs(l,a));break e}}r=l=Zs(l,a),Oe!==4&&(Oe=2),so===null?so=[r]:so.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=uw(r,l,e);wm(r,g);break e;case 1:a=l;var m=r.type,v=r.stateNode;if((r.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ri===null||!ri.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=cw(r,a,e);wm(r,w);break e}}r=r.return}while(r!==null)}Aw(n)}catch(x){e=x,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function Cw(){var t=iu.current;return iu.current=nu,t===null?nu:t}function fp(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ve===null||(es&268435455)===0&&(Gu&268435455)===0||Wn(Ve,Ge)}function ou(t,e){var n=J;J|=2;var i=Cw();(Ve!==t||Ge!==e)&&(_n=null,Bi(t,e));do try{IE();break}catch(s){Tw(t,s)}while(1);if(Yf(),J=n,iu.current=i,Pe!==null)throw Error(T(261));return Ve=null,Ge=0,Oe}function IE(){for(;Pe!==null;)Iw(Pe)}function AE(){for(;Pe!==null&&!ek();)Iw(Pe)}function Iw(t){var e=Mw(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Aw(t):Pe=e,lp.current=null}function Aw(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=xE(n,e,Et),n!==null){Pe=n;return}}else{if(n=SE(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Pe=null;return}}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Oe===0&&(Oe=5)}function Pi(t,e,n){var i=ae,s=zt.transition;try{zt.transition=null,ae=1,PE(t,e,n,i)}finally{zt.transition=s,ae=i}return null}function PE(t,e,n,i){do Bs();while(Qn!==null);if((J&6)!==0)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(ck(t,r),t===Ve&&(Pe=Ve=null,Ge=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Xa||(Xa=!0,Dw(Bl,function(){return Bs(),null})),r=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||r){r=zt.transition,zt.transition=null;var o=ae;ae=1;var a=J;J|=4,lp.current=null,kE(t,n),bw(n,t),Xk(pd),jl=!!fd,pd=fd=null,t.current=n,EE(n),tk(),J=a,ae=o,zt.transition=r}else t.current=n;if(Xa&&(Xa=!1,Qn=t,ru=s),r=t.pendingLanes,r===0&&(ri=null),sk(n.stateNode),bt(t,Te()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(su)throw su=!1,t=Od,Od=null,t;return(ru&1)!==0&&t.tag!==0&&Bs(),r=t.pendingLanes,(r&1)!==0?t===Nd?ro++:(ro=0,Nd=t):ro=0,xi(),null}function Bs(){if(Qn!==null){var t=l_(ru),e=zt.transition,n=ae;try{if(zt.transition=null,ae=16>t?16:t,Qn===null)var i=!1;else{if(t=Qn,Qn=null,ru=0,(J&6)!==0)throw Error(T(331));var s=J;for(J|=4,M=t.current;M!==null;){var r=M,o=r.child;if((M.flags&16)!==0){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:io(8,c,r)}var h=c.child;if(h!==null)h.return=c,M=h;else for(;M!==null;){c=M;var d=c.sibling,f=c.return;if(ww(c),c===u){M=null;break}if(d!==null){d.return=f,M=d;break}M=f}}}var p=r.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}M=r}}if((r.subtreeFlags&2064)!==0&&o!==null)o.return=r,M=o;else e:for(;M!==null;){if(r=M,(r.flags&2048)!==0)switch(r.tag){case 0:case 11:case 15:io(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,M=g;break e}M=r.return}}var m=t.current;for(M=m;M!==null;){o=M;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,M=v;else e:for(o=m;M!==null;){if(a=M,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:qu(9,a)}}catch(x){be(a,a.return,x)}if(a===o){M=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,M=w;break e}M=a.return}}if(J=s,xi(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(zu,t)}catch{}i=!0}return i}finally{ae=n,zt.transition=e}}return!1}function Um(t,e,n){e=Zs(n,e),e=uw(t,e,1),t=si(t,e,1),e=dt(),t!==null&&(na(t,1,e),bt(t,e))}function be(t,e,n){if(t.tag===3)Um(t,t,n);else for(;e!==null;){if(e.tag===3){Um(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))){t=Zs(n,t),t=cw(e,t,1),e=si(e,t,1),t=dt(),e!==null&&(na(e,1,t),bt(e,t));break}}e=e.return}}function ME(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Ge&n)===n&&(Oe===4||Oe===3&&(Ge&130023424)===Ge&&500>Te()-cp?Bi(t,0):up|=n),bt(t,e)}function Pw(t,e){e===0&&((t.mode&1)===0?e=1:(e=Va,Va<<=1,(Va&130023424)===0&&(Va=4194304)));var n=dt();t=Rn(t,e),t!==null&&(na(t,e,n),bt(t,n))}function DE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pw(t,n)}function RE(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(T(314))}i!==null&&i.delete(e),Pw(t,n)}var Mw;Mw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)_t=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return _t=!1,wE(t,e,n);_t=(t.flags&131072)!==0}else _t=!1,me&&(e.flags&1048576)!==0&&O_(e,Xl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Tl(t,e),t=e.pendingProps;var s=Ys(e,ot.current);Vs(e,n),s=ip(null,e,i,t,s,n);var r=sp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(i)?(r=!0,Gl(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jf(e),s.updater=Wu,e.stateNode=s,s._reactInternals=e,bd(e,i,t,n),e=Td(null,e,i,!0,r,n)):(e.tag=0,me&&r&&Wf(e),lt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=NE(i),t=Kt(i,t),s){case 0:e=Ed(null,e,i,t,n);break e;case 1:e=Dm(null,e,i,t,n);break e;case 11:e=Pm(null,e,i,t,n);break e;case 14:e=Mm(null,e,i,Kt(i.type,t),n);break e}throw Error(T(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Kt(i,s),Ed(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Kt(i,s),Dm(t,e,i,s,n);case 3:e:{if(pw(e),t===null)throw Error(T(387));i=e.pendingProps,r=e.memoizedState,s=r.element,$_(t,e),Zl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Zs(Error(T(423)),e),e=Rm(t,e,i,n,s);break e}else if(i!==s){s=Zs(Error(T(424)),e),e=Rm(t,e,i,n,s);break e}else for(Ct=ii(e.stateNode.containerInfo.firstChild),It=e,me=!0,Gt=null,n=U_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),i===s){e=On(t,e,n);break e}lt(t,e,i,n)}e=e.child}return e;case 5:return j_(e),t===null&&wd(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,gd(i,s)?o=null:r!==null&&gd(i,r)&&(e.flags|=32),fw(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&wd(e),null;case 13:return gw(t,e,n);case 4:return Zf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Qs(e,null,i,n):lt(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Kt(i,s),Pm(t,e,i,s,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,he(Ql,i._currentValue),i._currentValue=o,r!==null)if(Jt(r.value,o)){if(r.children===s.children&&!xt.current){e=On(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Pn(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),xd(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xd(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Vs(e,n),s=Vt(s),i=i(s),e.flags|=1,lt(t,e,i,n),e.child;case 14:return i=e.type,s=Kt(i,e.pendingProps),s=Kt(i.type,s),Mm(t,e,i,s,n);case 15:return hw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Kt(i,s),Tl(t,e),e.tag=1,St(i)?(t=!0,Gl(e)):t=!1,Vs(e,n),V_(e,i,s),bd(e,i,s,n),Td(null,e,i,!0,t,n);case 19:return mw(t,e,n);case 22:return dw(t,e,n)}throw Error(T(156,e.tag))};function Dw(t,e){return s_(t,e)}function OE(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,i){return new OE(t,e,n,i)}function pp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NE(t){if(typeof t=="function")return pp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rf)return 11;if(t===Of)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")pp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return Ui(n.children,s,r,e);case Df:o=8,s|=8;break;case qh:return t=$t(12,n,e,s|2),t.elementType=qh,t.lanes=r,t;case Gh:return t=$t(13,n,e,s),t.elementType=Gh,t.lanes=r,t;case Yh:return t=$t(19,n,e,s),t.elementType=Yh,t.lanes=r,t;case B0:return Yu(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z0:o=10;break e;case V0:o=9;break e;case Rf:o=11;break e;case Of:o=14;break e;case Un:o=16,i=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=$t(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Ui(t,e,n,i){return t=$t(7,t,i,e),t.lanes=n,t}function Yu(t,e,n,i){return t=$t(22,t,i,e),t.elementType=B0,t.lanes=n,t.stateNode={isHidden:!1},t}function hh(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function dh(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LE(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gp(t,e,n,i,s,r,o,a,l){return t=new LE(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=$t(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jf(r),t}function FE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return di;t=t._reactInternals;e:{if(fs(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(St(n))return D_(t,n,e)}return e}function Ow(t,e,n,i,s,r,o,a,l){return t=gp(n,i,!0,t,s,r,o,a,l),t.context=Rw(null),n=t.current,i=dt(),s=oi(n),r=Pn(i,s),r.callback=e!=null?e:null,si(n,r,s),t.current.lanes=s,na(t,s,i),bt(t,i),t}function Xu(t,e,n,i){var s=e.current,r=dt(),o=oi(s);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=si(s,e,o),t!==null&&(Qt(t,s,o,r),bl(t,s,o)),o}function au(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mp(t,e){jm(t,e),(t=t.alternate)&&jm(t,e)}function $E(){return null}var Nw=typeof reportError=="function"?reportError:function(t){console.error(t)};function yp(t){this._internalRoot=t}Qu.prototype.render=yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Xu(t,e,null,null)};Qu.prototype.unmount=yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){Xu(null,t,null,null)}),e[Dn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=h_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hn.length&&e!==0&&e<Hn[n].priority;n++);Hn.splice(n,0,t),n===0&&f_(t)}};function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function zE(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=au(o);r.call(u)}}var o=Ow(e,i,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=o,t[Dn]=o.current,Co(t.nodeType===8?t.parentNode:t),ts(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=au(l);a.call(u)}}var l=gp(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[Dn]=l.current,Co(t.nodeType===8?t.parentNode:t),ts(function(){Xu(e,l,n,i)}),l}function Zu(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=au(o);a.call(l)}}Xu(e,o,t,s)}else o=zE(n,e,t,s,i);return au(o)}u_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jr(e.pendingLanes);n!==0&&(Ff(e,n|1),bt(e,Te()),(J&6)===0&&(er=Te()+500,xi()))}break;case 13:ts(function(){var i=Rn(t,1);if(i!==null){var s=dt();Qt(i,t,1,s)}}),mp(t,1)}};$f=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=dt();Qt(e,t,134217728,n)}mp(t,134217728)}};c_=function(t){if(t.tag===13){var e=oi(t),n=Rn(t,e);if(n!==null){var i=dt();Qt(n,t,e,i)}mp(t,e)}};h_=function(){return ae};d_=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};rd=function(t,e,n){switch(e){case"input":if(Jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=ju(i);if(!s)throw Error(T(90));j0(i),Jh(i,s)}}}break;case"textarea":W0(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};J0=hp;Z0=ts;var VE={usingClientEntryPoint:!1,Events:[sa,Ts,ju,X0,Q0,hp]},Rr={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BE={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n_(t),t===null?null:t.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||$E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{zu=Qa.inject(BE),an=Qa}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vp(e))throw Error(T(200));return FE(t,e,null,n)};Mt.createRoot=function(t,e){if(!vp(t))throw Error(T(299));var n=!1,i="",s=Nw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gp(t,1,!1,null,null,n,!1,i,s),t[Dn]=e.current,Co(t.nodeType===8?t.parentNode:t),new yp(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=n_(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return ts(t)};Mt.hydrate=function(t,e,n){if(!Ju(e))throw Error(T(200));return Zu(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!vp(t))throw Error(T(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Nw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ow(e,null,t,1,n!=null?n:null,s,!1,r,o),t[Dn]=e.current,Co(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qu(e)};Mt.render=function(t,e,n){if(!Ju(e))throw Error(T(200));return Zu(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(T(40));return t._reactRootContainer?(ts(function(){Zu(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Mt.unstable_batchedUpdates=hp;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ju(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Zu(t,e,n,!1,i)};Mt.version="18.2.0-next-9e3b772b8-20220608";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(t){console.error(t)}}Lw(),O0.exports=Mt;var Wm=O0.exports;Wh.createRoot=Wm.createRoot,Wh.hydrateRoot=Wm.hydrateRoot;function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lu.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));var Km=function(t){return t},qm="beforeunload",UE="popstate";function jE(t){t===void 0&&(t={});var e=t,n=e.window,i=n===void 0?document.defaultView:n,s=i.history;function r(){var S=i.location,b=S.pathname,E=S.search,I=S.hash,O=s.state||{};return[O.idx,Km({pathname:b,search:E,hash:I,state:O.usr||null,key:O.key||"default"})]}var o=null;function a(){if(o)f.call(o),o=null;else{var S=Fi.Pop,b=r(),E=b[0],I=b[1];if(f.length){if(E!=null){var O=c-E;O&&(o={action:S,location:I,retry:function(){x(O*-1)}},x(O))}}else m(S)}}i.addEventListener(UE,a);var l=Fi.Pop,u=r(),c=u[0],h=u[1],d=Ym(),f=Ym();c==null&&(c=0,s.replaceState(lu({},s.state,{idx:c}),""));function p(S){return typeof S=="string"?S:WE(S)}function y(S,b){return b===void 0&&(b=null),Km(lu({pathname:h.pathname,hash:"",search:""},typeof S=="string"?gr(S):S,{state:b,key:HE()}))}function _(S,b){return[{usr:S.state,key:S.key,idx:b},p(S)]}function g(S,b,E){return!f.length||(f.call({action:S,location:b,retry:E}),!1)}function m(S){l=S;var b=r();c=b[0],h=b[1],d.call({action:l,location:h})}function v(S,b){var E=Fi.Push,I=y(S,b);function O(){v(S,b)}if(g(E,I,O)){var F=_(I,c+1),se=F[0],_e=F[1];try{s.pushState(se,"",_e)}catch{i.location.assign(_e)}m(E)}}function w(S,b){var E=Fi.Replace,I=y(S,b);function O(){w(S,b)}if(g(E,I,O)){var F=_(I,c),se=F[0],_e=F[1];s.replaceState(se,"",_e),m(E)}}function x(S){s.go(S)}var k={get action(){return l},get location(){return h},createHref:p,push:v,replace:w,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(b){return d.push(b)},block:function(b){var E=f.push(b);return f.length===1&&i.addEventListener(qm,Gm),function(){E(),f.length||i.removeEventListener(qm,Gm)}}};return k}function Gm(t){t.preventDefault(),t.returnValue=""}function Ym(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(i){return i!==n})}},call:function(n){t.forEach(function(i){return i&&i(n)})}}}function HE(){return Math.random().toString(36).substr(2,8)}function WE(t){var e=t.pathname,n=e===void 0?"/":e,i=t.search,s=i===void 0?"":i,r=t.hash,o=r===void 0?"":r;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function gr(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fw=z.exports.createContext(null),_p=z.exports.createContext(null),wp=z.exports.createContext({outlet:null,matches:[]});function dn(t,e){if(!t)throw new Error(e)}function KE(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?gr(e):e,s=zw(i.pathname||"/",n);if(s==null)return null;let r=$w(t);qE(r);let o=null;for(let a=0;o==null&&a<r.length;++a)o=nT(r[a],s);return o}function $w(t,e,n,i){return e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i=""),t.forEach((s,r)=>{let o={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:r,route:s};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||dn(!1),o.relativePath=o.relativePath.slice(i.length));let a=ji([i,o.relativePath]),l=n.concat(o);s.children&&s.children.length>0&&(s.index===!0&&dn(!1),$w(s.children,e,l,a)),!(s.path==null&&!s.index)&&e.push({path:a,score:eT(a,s.index),routesMeta:l})}),e}function qE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const GE=/^:\w+$/,YE=3,XE=2,QE=1,JE=10,ZE=-2,Xm=t=>t==="*";function eT(t,e){let n=t.split("/"),i=n.length;return n.some(Xm)&&(i+=ZE),e&&(i+=XE),n.filter(s=>!Xm(s)).reduce((s,r)=>s+(GE.test(r)?YE:r===""?QE:JE),i)}function tT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function nT(t,e){let{routesMeta:n}=t,i={},s="/",r=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=iT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;r.push({params:i,pathname:ji([s,c.pathname]),pathnameBase:Vw(ji([s,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(s=ji([s,c.pathnameBase]))}return r}function iT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=r.slice(0,r.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=rT(a[h]||""),u},{}),pathname:r,pathnameBase:o,pattern:t}}function sT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(i.push(a),"([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(s,e?void 0:"i"),i]}function rT(t,e){try{return decodeURIComponent(t)}catch{return t}}function oT(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?gr(t):t;return{pathname:n?n.startsWith("/")?n:aT(n,e):e,search:uT(i),hash:cT(s)}}function aT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lT(t,e,n){let i=typeof t=="string"?gr(t):t,s=t===""||i.pathname===""?"/":i.pathname,r;if(s==null)r=n;else{let a=e.length-1;if(s.startsWith("..")){let l=s.split("/");for(;l[0]==="..";)l.shift(),a-=1;i.pathname=l.join("/")}r=a>=0?e[a]:"/"}let o=oT(i,r);return s&&s!=="/"&&s.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function zw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),Vw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oa(){return z.exports.useContext(_p)!=null}function Bw(){return oa()||dn(!1),z.exports.useContext(_p).location}function hT(){oa()||dn(!1);let{basename:t,navigator:e}=z.exports.useContext(Fw),{matches:n}=z.exports.useContext(wp),{pathname:i}=Bw(),s=JSON.stringify(n.map(a=>a.pathnameBase)),r=z.exports.useRef(!1);return z.exports.useEffect(()=>{r.current=!0}),z.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!r.current)return;if(typeof a=="number"){e.go(a);return}let u=lT(a,JSON.parse(s),i);t!=="/"&&(u.pathname=ji([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,s,i])}function dT(t,e){oa()||dn(!1);let{matches:n}=z.exports.useContext(wp),i=n[n.length-1],s=i?i.params:{};i&&i.pathname;let r=i?i.pathnameBase:"/";i&&i.route;let o=Bw(),a;if(e){var l;let d=typeof e=="string"?gr(e):e;r==="/"||((l=d.pathname)==null?void 0:l.startsWith(r))||dn(!1),a=d}else a=o;let u=a.pathname||"/",c=r==="/"?u:u.slice(r.length)||"/",h=KE(t,{pathname:c});return fT(h&&h.map(d=>Object.assign({},d,{params:Object.assign({},s,d.params),pathname:ji([r,d.pathname]),pathnameBase:d.pathnameBase==="/"?r:ji([r,d.pathnameBase])})),n)}function fT(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,i,s)=>z.exports.createElement(wp.Provider,{children:i.route.element!==void 0?i.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,s+1))}}),null)}function pT(t){let{to:e,replace:n,state:i}=t;oa()||dn(!1);let s=hT();return z.exports.useEffect(()=>{s(e,{replace:n,state:i})}),null}function Wr(t){dn(!1)}function gT(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Fi.Pop,navigator:r,static:o=!1}=t;oa()&&dn(!1);let a=Vw(e),l=z.exports.useMemo(()=>({basename:a,navigator:r,static:o}),[a,r,o]);typeof i=="string"&&(i=gr(i));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=i,p=z.exports.useMemo(()=>{let y=zw(u,a);return y==null?null:{pathname:y,search:c,hash:h,state:d,key:f}},[a,u,c,h,d,f]);return p==null?null:z.exports.createElement(Fw.Provider,{value:l},z.exports.createElement(_p.Provider,{children:n,value:{location:p,navigationType:s}}))}function mT(t){let{children:e,location:n}=t;return dT($d(e),n)}function $d(t){let e=[];return z.exports.Children.forEach(t,n=>{if(!z.exports.isValidElement(n))return;if(n.type===z.exports.Fragment){e.push.apply(e,$d(n.props.children));return}n.type!==Wr&&dn(!1);let i={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(i.children=$d(n.props.children)),e.push(i)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yT(t){let{basename:e,children:n,window:i}=t,s=z.exports.useRef();s.current==null&&(s.current=jE({window:i}));let r=s.current,[o,a]=z.exports.useState({action:r.action,location:r.location});return z.exports.useLayoutEffect(()=>r.listen(a),[r]),z.exports.createElement(gT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:r})}var ec={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=z.exports,_T=Symbol.for("react.element"),wT=Symbol.for("react.fragment"),xT=Object.prototype.hasOwnProperty,ST=vT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bT={key:!0,ref:!0,__self:!0,__source:!0};function Uw(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)xT.call(e,i)&&!bT.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:_T,type:t,key:r,ref:o,props:s,_owner:ST.current}}tc.Fragment=wT;tc.jsx=Uw;tc.jsxs=Uw;ec.exports=tc;const R=ec.exports.jsx,Ke=ec.exports.jsxs,mr=ec.exports.Fragment,kT=()=>{const[t,e]=z.exports.useState(!1),[n,i]=z.exports.useState(""),[s,r]=z.exports.useState("INICIAR SESI\xD3N"),o=({target:{value:u}})=>{i(u)},a=()=>{const u=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=u.test(String(n).toLowerCase());return u.test(String(n).toLowerCase())?r("INICIAR SESI\xD3N"):r("Email invalido"),c};return Ke(mr,{children:[t&&R(pT,{to:"/Dashboard"}),R("section",{children:Ke("div",{children:[R("div",{children:R("h1",{children:"Inicio de sesi\xF3n"})}),Ke("form",{children:[R("input",{type:"text",onChange:o,placeholder:"Ingrese su correo electronico",value:n}),R("input",{type:"password",placeholder:"Contrase\xF1a"})]}),R("button",{onClick:()=>{a()?e(!0):r("Email invalido")},children:s})]})})]})};/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const jw=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function Hw(t,e,n){const i=n||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,jw.call(window,()=>{s=!1,t.apply(e,r)}))}}function ET(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const xp=t=>t==="start"?"left":t==="end"?"right":"center",nt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,TT=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function mn(){}const CT=function(){let t=0;return function(){return t++}}();function ee(t){return t===null||typeof t=="undefined"}function de(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Y(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Ce=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function Ot(t,e){return Ce(t)?t:e}function H(t,e){return typeof t=="undefined"?e:t}const IT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,Ww=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function re(t,e,n,i){let s,r,o;if(de(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(Y(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function uu(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function cu(t){if(de(t))return t.map(cu);if(Y(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=cu(t[n[s]]);return e}return t}function Kw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function AT(t,e,n,i){if(!Kw(t))return;const s=e[t],r=n[t];Y(s)&&Y(r)?Lo(s,r,i):e[t]=cu(r)}function Lo(t,e,n){const i=de(e)?e:[e],s=i.length;if(!Y(t))return t;n=n||{};const r=n.merger||AT;for(let o=0;o<s;++o){if(e=i[o],!Y(e))continue;const a=Object.keys(e);for(let l=0,u=a.length;l<u;++l)r(a[l],t,e,n)}return t}function oo(t,e){return Lo(t,e,{merger:PT})}function PT(t,e,n){if(!Kw(t))return;const i=e[t],s=n[t];Y(i)&&Y(s)?oo(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cu(s))}const MT="",DT=".";function Qm(t,e){const n=t.indexOf(DT,e);return n===-1?t.length:n}function fi(t,e){if(e===MT)return t;let n=0,i=Qm(e,n);for(;t&&i>n;)t=t[e.slice(n,i)],n=i+1,i=Qm(e,n);return t}function Sp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ut=t=>typeof t!="undefined",pi=t=>typeof t=="function",Jm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function RT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ve=Math.PI,le=2*ve,OT=le+ve,hu=Number.POSITIVE_INFINITY,NT=ve/180,Ee=ve/2,Or=ve/4,Zm=ve*2/3,Ft=Math.log10,un=Math.sign;function ey(t){const e=Math.round(t);t=ao(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ft(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function LT(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Fo(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ao(t,e,n){return Math.abs(t-e)<n}function FT(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function qw(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Yt(t){return t*(ve/180)}function bp(t){return t*(180/ve)}function ty(t){if(!Ce(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Gw(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ve&&(r+=le),{angle:r,distance:s}}function zd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $T(t,e){return(t-e+OT)%le-ve}function Tt(t){return(t%le+le)%le}function $o(t,e,n,i){const s=Tt(t),r=Tt(e),o=Tt(n),a=Tt(r-s),l=Tt(o-s),u=Tt(s-r),c=Tt(s-o);return s===r||s===o||i&&r===o||a>l&&u<c}function ze(t,e,n){return Math.max(e,Math.min(n,t))}function zT(t){return ze(t,-32768,32767)}function kn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}const Ja=t=>t===0||t===1,ny=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*le/n)),iy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*le/n)+1,lo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ee)+1,easeOutSine:t=>Math.sin(t*Ee),easeInOutSine:t=>-.5*(Math.cos(ve*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ja(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ja(t)?t:ny(t,.075,.3),easeOutElastic:t=>Ja(t)?t:iy(t,.075,.3),easeInOutElastic(t){return Ja(t)?t:t<.5?.5*ny(t*2,.1125,.45):.5+.5*iy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-lo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?lo.easeInBounce(t*2)*.5:lo.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function aa(t){return t+.5|0}const Jn=(t,e,n)=>Math.max(Math.min(t,n),e);function Kr(t){return Jn(aa(t*2.55),0,255)}function li(t){return Jn(aa(t*255),0,255)}function xn(t){return Jn(aa(t/2.55)/100,0,1)}function sy(t){return Jn(aa(t*100),0,100)}const Rt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vd=[..."0123456789ABCDEF"],VT=t=>Vd[t&15],BT=t=>Vd[(t&240)>>4]+Vd[t&15],Za=t=>(t&240)>>4===(t&15),UT=t=>Za(t.r)&&Za(t.g)&&Za(t.b)&&Za(t.a);function jT(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Rt[t[1]]*17,g:255&Rt[t[2]]*17,b:255&Rt[t[3]]*17,a:e===5?Rt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Rt[t[1]]<<4|Rt[t[2]],g:Rt[t[3]]<<4|Rt[t[4]],b:Rt[t[5]]<<4|Rt[t[6]],a:e===9?Rt[t[7]]<<4|Rt[t[8]]:255})),n}const HT=(t,e)=>t<255?e(t):"";function WT(t){var e=UT(t)?VT:BT;return t?"#"+e(t.r)+e(t.g)+e(t.b)+HT(t.a,e):void 0}const KT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yw(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function qT(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function GT(t,e,n){const i=Yw(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function YT(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function kp(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,u,c;return r!==o&&(c=r-o,u=a>.5?c/(2-r-o):c/(r+o),l=YT(n,i,s,c,r),l=l*60+.5),[l|0,u||0,a]}function Ep(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(li)}function Tp(t,e,n){return Ep(Yw,t,e,n)}function XT(t,e,n){return Ep(GT,t,e,n)}function QT(t,e,n){return Ep(qT,t,e,n)}function Xw(t){return(t%360+360)%360}function JT(t){const e=KT.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Kr(+e[5]):li(+e[5]));const s=Xw(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=XT(s,r,o):e[1]==="hsv"?i=QT(s,r,o):i=Tp(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function ZT(t,e){var n=kp(t);n[0]=Xw(n[0]+e),n=Tp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function eC(t){if(!t)return;const e=kp(t),n=e[0],i=sy(e[1]),s=sy(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${xn(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const ry={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tC(){const t={},e=Object.keys(oy),n=Object.keys(ry);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,ry[r]);r=parseInt(oy[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let el;function nC(t){el||(el=tC(),el.transparent=[0,0,0,0]);const e=el[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const iC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sC(t){const e=iC.exec(t);let n=255,i,s,r;if(!!e){if(e[7]!==i){const o=+e[7];n=e[8]?Kr(o):Jn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Kr(i):Jn(i,0,255)),s=255&(e[4]?Kr(s):Jn(s,0,255)),r=255&(e[6]?Kr(r):Jn(r,0,255)),{r:i,g:s,b:r,a:n}}}function rC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function oC(t,e,n){const i=vs(xn(t.r)),s=vs(xn(t.g)),r=vs(xn(t.b));return{r:li(fh(i+n*(vs(xn(e.r))-i))),g:li(fh(s+n*(vs(xn(e.g))-s))),b:li(fh(r+n*(vs(xn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function tl(t,e,n){if(t){let i=kp(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Tp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Qw(t,e){return t&&Object.assign(e||{},t)}function ay(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=li(t[3]))):(e=Qw(t,{r:0,g:0,b:0,a:1}),e.a=li(e.a)),e}function aC(t){return t.charAt(0)==="r"?sC(t):JT(t)}class du{constructor(e){if(e instanceof du)return e;const n=typeof e;let i;n==="object"?i=ay(e):n==="string"&&(i=jT(e)||nC(e)||aC(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Qw(this._rgb);return e&&(e.a=xn(e.a)),e}set rgb(e){this._rgb=ay(e)}rgbString(){return this._valid?rC(this._rgb):void 0}hexString(){return this._valid?WT(this._rgb):void 0}hslString(){return this._valid?eC(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=oC(this._rgb,e._rgb,n)),this}clone(){return new du(this.rgb)}alpha(e){return this._rgb.a=li(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=aa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tl(this._rgb,2,e),this}darken(e){return tl(this._rgb,2,-e),this}saturate(e){return tl(this._rgb,1,e),this}desaturate(e){return tl(this._rgb,1,-e),this}rotate(e){return ZT(this._rgb,e),this}}function Jw(t){return new du(t)}function Zw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ly(t){return Zw(t)?t:Jw(t)}function ph(t){return Zw(t)?t:Jw(t).saturate(.5).darken(.1).hexString()}const ns=Object.create(null),Bd=Object.create(null);function uo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function gh(t,e,n){return typeof e=="string"?Lo(uo(t,e),n):Lo(uo(t,""),e)}class lC{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ph(i.backgroundColor),this.hoverBorderColor=(n,i)=>ph(i.borderColor),this.hoverColor=(n,i)=>ph(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return gh(this,e,n)}get(e){return uo(this,e)}describe(e,n){return gh(Bd,e,n)}override(e,n){return gh(ns,e,n)}route(e,n,i,s){const r=uo(this,e),o=uo(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return Y(l)?Object.assign({},u,l):H(l,u)},set(l){this[a]=l}}})}}var X=new lC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function uC(t){return!t||ee(t.size)||ee(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fu(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function cC(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,c,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&de(h)!==!0)o=fu(t,s,r,o,h);else if(de(h))for(u=0,c=h.length;u<c;u++)d=h[u],d!=null&&!de(d)&&(o=fu(t,s,r,o,d));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Ci(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function uy(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function pu(t,e,n,i){let s,r,o,a,l;const u=e.pointStyle,c=e.rotation,h=e.radius;let d=(c||0)*NT;if(u&&typeof u=="object"&&(s=u.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(d),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),t.restore();return}if(!(isNaN(h)||h<=0)){switch(t.beginPath(),u){default:t.arc(n,i,h,0,le),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Zm,t.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Zm,t.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),t.closePath();break;case"rectRounded":l=h*.516,a=h-l,r=Math.cos(d+Or)*a,o=Math.sin(d+Or)*a,t.arc(n-r,i-o,l,d-ve,d-Ee),t.arc(n+o,i-r,l,d-Ee,d),t.arc(n+r,i+o,l,d,d+Ee),t.arc(n-o,i+r,l,d+Ee,d+ve),t.closePath();break;case"rect":if(!c){a=Math.SQRT1_2*h,t.rect(n-a,i-a,2*a,2*a);break}d+=Or;case"rectRot":r=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-r,i-o),t.lineTo(n+o,i-r),t.lineTo(n+r,i+o),t.lineTo(n-o,i+r),t.closePath();break;case"crossRot":d+=Or;case"cross":r=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-r,i-o),t.lineTo(n+r,i+o),t.moveTo(n+o,i-r),t.lineTo(n-o,i+r);break;case"star":r=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-r,i-o),t.lineTo(n+r,i+o),t.moveTo(n+o,i-r),t.lineTo(n-o,i+r),d+=Or,r=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-r,i-o),t.lineTo(n+r,i+o),t.moveTo(n+o,i-r),t.lineTo(n-o,i+r);break;case"line":r=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-r,i-o),t.lineTo(n+r,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(d)*h,i+Math.sin(d)*h);break}t.fill(),e.borderWidth>0&&t.stroke()}}function zo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ic(t){t.restore()}function hC(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dC(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function is(t,e,n,i,s,r={}){const o=de(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,fC(t,r),l=0;l<o.length;++l)u=o[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ee(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,i,r.maxWidth)),t.fillText(u,n,i,r.maxWidth),pC(t,n,i,u,r),i+=s.lineHeight;t.restore()}function fC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ee(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function pC(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,c=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function Vo(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Ee,ve,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ve,Ee,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Ee,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Ee,!0),t.lineTo(n+o.topLeft,i)}const gC=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),mC=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function yC(t,e){const n=(""+t).match(gC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vC=t=>+t||0;function Cp(t,e){const n={},i=Y(e),s=i?Object.keys(e):e,r=Y(t)?i?o=>H(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=vC(r(o));return n}function e1(t){return Cp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Hi(t){return Cp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function at(t){const e=e1(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ne(t,e){t=t||{},e=e||X.font;let n=H(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=H(t.style,e.style);i&&!(""+i).match(mC)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:H(t.family,e.family),lineHeight:yC(H(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:H(t.weight,e.weight),string:""};return s.string=uC(s),s}function qr(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&de(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function _C(t,e,n){const{min:i,max:s}=t,r=Ww(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Si(t,e){return Object.assign(Object.create(t),e)}function Ip(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const En=(t,e,n)=>Ip(t,n,i=>t[i][e]<n),wC=(t,e,n)=>Ip(t,n,i=>t[i][e]>=n);function xC(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const t1=["push","pop","shift","splice","unshift"];function SC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),t1.forEach(n=>{const i="_onData"+Sp(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function cy(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(t1.forEach(r=>{delete t[r]}),delete t._chartjs)}function n1(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}function Ap(t,e=[""],n=t,i,s=()=>t[0]){Ut(i)||(i=o1("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:o=>Ap([o,...t],e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return s1(o,a,()=>PC(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return dy(o).includes(a)},ownKeys(o){return dy(o)},set(o,a,l){const u=o._storage||(o._storage=s());return o[a]=u[a]=l,delete o._keys,!0}})}function tr(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:i1(t,i),setContext:r=>tr(t,r,n,i),override:r=>tr(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return s1(r,o,()=>kC(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function i1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:pi(n)?n:()=>n,isIndexable:pi(i)?i:()=>i}}const bC=(t,e)=>t?t+Sp(e):e,Pp=(t,e)=>Y(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function s1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function kC(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return pi(a)&&o.isScriptable(e)&&(a=EC(e,a,t,n)),de(a)&&a.length&&(a=TC(e,a,t,o.isIndexable)),Pp(e,a)&&(a=tr(a,s,r&&r[e],o)),a}function EC(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||i),a.delete(t),Pp(t,e)&&(e=Mp(s._scopes,s,t,e)),e}function TC(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(Ut(r.index)&&i(t))e=e[r.index%e.length];else if(Y(e[0])){const l=e,u=s._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=Mp(u,s,t,c);e.push(tr(h,r,o&&o[t],a))}}return e}function r1(t,e,n){return pi(t)?t(e,n):t}const CC=(t,e)=>t===!0?e:typeof t=="string"?fi(e,t):void 0;function IC(t,e,n,i,s){for(const r of e){const o=CC(n,r);if(o){t.add(o);const a=r1(o._fallback,n,s);if(Ut(a)&&a!==n&&a!==i)return a}else if(o===!1&&Ut(i)&&n!==i)return null}return!1}function Mp(t,e,n,i){const s=e._rootScopes,r=r1(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=hy(a,o,n,r||n,i);return l===null||Ut(r)&&r!==n&&(l=hy(a,o,r,l,i),l===null)?!1:Ap(Array.from(a),[""],s,r,()=>AC(e,n,i))}function hy(t,e,n,i,s){for(;n;)n=IC(t,e,n,i,s);return n}function AC(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return de(s)&&Y(n)?n:s}function PC(t,e,n,i){let s;for(const r of e)if(s=o1(bC(r,t),n),Ut(s))return Pp(t,s)?Mp(n,i,t,s):s}function o1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(Ut(i))return i}}function dy(t){let e=t._keys;return e||(e=t._keys=MC(t._scopes)),e}function MC(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function a1(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,u,c;for(a=0,l=i;a<l;++a)u=a+n,c=e[u],o[a]={r:s.parse(fi(c,r),u)};return o}const DC=Number.EPSILON||1e-14,nr=(t,e)=>e<t.length&&!t[e].skip&&t[e],l1=t=>t==="x"?"y":"x";function RC(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=zd(r,s),l=zd(o,r);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,d=i*c;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function OC(t,e,n){const i=t.length;let s,r,o,a,l,u=nr(t,0);for(let c=0;c<i-1;++c)if(l=u,u=nr(t,c+1),!(!l||!u)){if(ao(e[c],0,DC)){n[c]=n[c+1]=0;continue}s=n[c]/e[c],r=n[c+1]/e[c],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=s*o*e[c],n[c+1]=r*o*e[c])}}function NC(t,e,n="x"){const i=l1(n),s=t.length;let r,o,a,l=nr(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=nr(t,u+1),!a)continue;const c=a[n],h=a[i];o&&(r=(c-o[n])/3,a[`cp1${n}`]=c-r,a[`cp1${i}`]=h-r*e[u]),l&&(r=(l[n]-c)/3,a[`cp2${n}`]=c+r,a[`cp2${i}`]=h+r*e[u])}}function LC(t,e="x"){const n=l1(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,u=nr(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=nr(t,o+1),!!l){if(u){const c=u[e]-l[e];s[o]=c!==0?(u[n]-l[n])/c:0}r[o]=a?u?un(s[o-1])!==un(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}OC(t,s,r),NC(t,r,e)}function nl(t,e,n){return Math.max(Math.min(t,n),e)}function FC(t,e){let n,i,s,r,o,a=zo(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&zo(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=nl(s.cp1x,e.left,e.right),s.cp1y=nl(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=nl(s.cp2x,e.left,e.right),s.cp2y=nl(s.cp2y,e.top,e.bottom)))}function $C(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")LC(t,s);else{let u=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=RC(u,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&FC(t,n)}function u1(){return typeof window!="undefined"&&typeof document!="undefined"}function Dp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const sc=t=>window.getComputedStyle(t,null);function zC(t,e){return sc(t).getPropertyValue(e)}const VC=["top","right","bottom","left"];function Wi(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=VC[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const BC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function UC(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(BC(s,r,t.target))a=s,l=r;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Mi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=sc(n),r=s.boxSizing==="border-box",o=Wi(s,"padding"),a=Wi(s,"border","width"),{x:l,y:u,box:c}=UC(t,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((u-d)/p*n.height/i)}}function jC(t,e,n){let i,s;if(e===void 0||n===void 0){const r=Dp(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=sc(r),l=Wi(a,"border","width"),u=Wi(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=gu(a.maxWidth,r,"clientWidth"),s=gu(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||hu,maxHeight:s||hu}}const mh=t=>Math.round(t*10)/10;function HC(t,e,n,i){const s=sc(t),r=Wi(s,"margin"),o=gu(s.maxWidth,t,"clientWidth")||hu,a=gu(s.maxHeight,t,"clientHeight")||hu,l=jC(t,e,n);let{width:u,height:c}=l;if(s.boxSizing==="content-box"){const h=Wi(s,"border","width"),d=Wi(s,"padding");u-=d.width+h.width,c-=d.height+h.height}return u=Math.max(0,u-r.width),c=Math.max(0,i?Math.floor(u/i):c-r.height),u=mh(Math.min(u,o,l.maxWidth)),c=mh(Math.min(c,a,l.maxHeight)),u&&!c&&(c=mh(u/2)),{width:u,height:c}}function fy(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=s/i,t.width=r/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const WC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function py(t,e){const n=zC(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Di(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function KC(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function qC(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Di(t,s,n),a=Di(s,r,n),l=Di(r,e,n),u=Di(o,a,n),c=Di(a,l,n);return Di(u,c,n)}const gy=new Map;function GC(t,e){e=e||{};const n=t+JSON.stringify(e);let i=gy.get(n);return i||(i=new Intl.NumberFormat(t,e),gy.set(n,i)),i}function la(t,e,n){return GC(e,n).format(t)}const YC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},XC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Us(t,e,n){return t?YC(e,n):XC()}function c1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function h1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function d1(t){return t==="angle"?{between:$o,compare:$T,normalize:Tt}:{between:kn,compare:(e,n)=>e-n,normalize:e=>e}}function my({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function QC(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=d1(i),l=e.length;let{start:u,end:c,loop:h}=t,d,f;if(h){for(u+=l,c+=l,d=0,f=l;d<f&&o(a(e[u%l][i]),s,r);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:t.style}}function f1(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:u}=d1(i),{start:c,end:h,loop:d,style:f}=QC(t,e,n),p=[];let y=!1,_=null,g,m,v;const w=()=>l(s,v,g)&&a(s,v)!==0,x=()=>a(r,g)===0||l(r,v,g),k=()=>y||w(),S=()=>!y||x();for(let b=c,E=c;b<=h;++b)m=e[b%o],!m.skip&&(g=u(m[i]),g!==v&&(y=l(g,s,r),_===null&&k()&&(_=a(g,s)===0?b:E),_!==null&&S()&&(p.push(my({start:_,end:b,loop:d,count:o,style:f})),_=null),E=b,v=g));return _!==null&&p.push(my({start:_,end:h,loop:d,count:o,style:f})),p}function p1(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=f1(i[s],t.points,e);r.length&&n.push(...r)}return n}function JC(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function ZC(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function eI(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=JC(n,s,r,i);if(i===!0)return yy(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return yy(t,ZC(n,o,l,u),n,e)}function yy(t,e,n,i){return!i||!i.setContext||!n?e:tI(t,e,n,i)}function tI(t,e,n,i){const s=t._chart.getContext(),r=vy(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=r,h=e[0].start,d=h;function f(p,y,_,g){const m=a?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=m;for(;n[y%l].skip;)y+=m;p%l!==y%l&&(u.push({start:p%l,end:y%l,loop:_,style:g}),c=g,h=y%l)}}for(const p of e){h=a?h:p.start;let y=n[h%l],_;for(d=h+1;d<=p.end;d++){const g=n[d%l];_=vy(i.setContext(Si(s,{type:"segment",p0:y,p1:g,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),nI(_,c)&&f(h,d-1,p.loop,c),y=g,c=_}h<d-1&&f(h,d-1,p.loop,c)}return u}function vy(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function nI(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class iI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new iI;const _y="transparent",sI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ly(t||_y),s=i.valid&&ly(e||_y);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class rI{constructor(e,n,i,s){const r=n[i];s=qr([e.to,s,r,e.from]);const o=qr([e.from,r,s]);this._active=!0,this._fn=e.fn||sI[e.type||typeof o],this._easing=lo[e.easing]||lo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=qr([e.to,n,s,e.from]),this._from=qr([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}const oI=["x","y","borderWidth","radius","tension"],aI=["color","borderColor","backgroundColor"];X.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const lI=Object.keys(X.animation);X.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});X.set("animations",{colors:{type:"color",properties:aI},numbers:{type:"number",properties:oI}});X.describe("animations",{_fallback:"animation"});X.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class g1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Y(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Y(s))return;const r={};for(const o of lI)r[o]=s[o];(de(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,n){const i=n.options,s=cI(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&uI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const c=n[u];let h=r[u];const d=i.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}r[u]=h=new rI(d,e,u,c),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return yn.add(this._chart,i),!0}}function uI(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function cI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wy(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function hI(t,e,n){if(n===!1)return!1;const i=wy(t,n),s=wy(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function dI(t){let e,n,i,s;return Y(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function m1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function xy(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}u=t.values[l],Ce(u)&&(r||e===0||un(e)===un(u))&&(e+=u)}return e}}function fI(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function Sy(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function pI(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function gI(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function mI(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function by(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function ky(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,u=o.axis,c=pI(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:y,[u]:_}=p,g=p._stacks||(p._stacks={});d=g[u]=mI(s,c,y),d[a]=_,d._top=by(d,o,!0,i.type),d._bottom=by(d,o,!1,i.type)}}function yh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function yI(t,e){return Si(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function vI(t,e,n){return Si(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Nr(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(!!i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n]}}}const vh=t=>t==="reset"||t==="none",Ey=(t,e)=>e?t:Object.assign({},t),_I=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:m1(n,!0),values:null};class pn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Sy(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Nr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=H(i.xAxisID,yh(e,"x")),o=n.yAxisID=H(i.yAxisID,yh(e,"y")),a=n.rAxisID=H(i.rAxisID,yh(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,r,o,a),c=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cy(this._data,this),e._stacked&&Nr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Y(n))this._data=fI(n);else if(i!==n){if(i){cy(i,this);const s=this._cachedMeta;Nr(s),s._parsed=[]}n&&Object.isExtensible(n)&&SC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Sy(n.vScale,n),n.stack!==i.stack&&(s=!0,Nr(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&ky(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],c,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{de(s[e])?d=this.parseArrayData(i,s,e,n):Y(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);i._sorted=l}o&&ky(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,u=r.getLabels(),c=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:c||r.parse(u[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,u,c,h;for(l=0,u=s;l<u;++l)c=l+i,h=n[c],a[l]={x:r.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let c,h,d,f;for(c=0,h=s;c<h;++c)d=c+i,f=n[d],u[c]={x:r.parse(fi(f,a),d),y:o.parse(fi(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:m1(s,!0),values:n._stacks[e.axis]};return xy(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=xy(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=_I(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=gI(a);let d,f;function p(){f=s[d];const y=f[a.axis];return!Ce(f[e.axis])||c>y||h<y}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(u,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Ce(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=dI(H(this.options.clip,hI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,r,a,l),c=a;c<a+l;++c){const h=s[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(c=0;c<o.length;++c)o[c].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=vI(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=yI(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Ut(i);if(a)return Ey(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(X.elements[e]),p=()=>this.getContext(i,s),y=u.resolveNamedOptions(d,f,p,h);return y.$shared&&(y.$shared=l,r[o]=Object.freeze(Ey(y,l))),y}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,i,n))}const u=new g1(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||vh(e)||this.chart._animationsDisabled}updateElement(e,n,i,s){vh(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!vh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Nr(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pn.defaults={};pn.prototype.datasetElementType=null;pn.prototype.dataElementType=null;function wI(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=n1(i.sort((s,r)=>s-r))}return t._cache.$bar}function xI(t){const e=t.iScale,n=wI(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Ut(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function SI(t,e,n,i){const s=n.barThickness;let r,o;return ee(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function bI(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function kI(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:r,min:o,max:a}}function y1(t,e,n,i){return de(t)?kI(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ty(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let u,c,h,d;for(u=n,c=n+i;u<c;++u)d=e[u],h={},h[s.axis]=a||s.parse(o[u],u),l.push(y1(d,h,r,u));return l}function _h(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function EI(t,e,n){return t!==0?un(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function TI(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function CI(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}const{start:o,end:a,reverse:l,top:u,bottom:c}=TI(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=u:(n._bottom||0)===i?s=c:(r[Cy(c,o,a,l)]=!0,s=u)),r[Cy(s,o,a,l)]=!0,t.borderSkipped=r}function Cy(t,e,n,i){return i?(t=II(t,e,n),t=Iy(t,n,e)):t=Iy(t,e,n),t}function II(t,e,n){return t===e?n:t===n?e:t}function Iy(t,e,n){return t==="start"?e:t==="end"?n:t}function AI(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ua extends pn{parsePrimitiveData(e,n,i,s){return Ty(e,n,i,s)}parseArrayData(e,n,i,s){return Ty(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let d,f,p,y;for(d=i,f=i+s;d<f;++d)y=n[d],p={},p[r.axis]=r.parse(fi(y,u),d),h.push(y1(fi(y,c),p,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=_h(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),h=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(h),f=this.includeOptions(s,d);this.updateSharedOptions(d,s,h);for(let p=n;p<n+i;p++){const y=this.getParsed(p),_=r||ee(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,c),m=(y._stacks||{})[a.axis],v={horizontal:u,base:_.base,enableBorderRadius:!m||_h(y._custom)||o===m._top||o===m._bottom,x:u?_.head:g.center,y:u?g.center:_.head,height:u?g.size:Math.abs(_.size),width:u?Math.abs(_.size):g.size};f&&(v.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const w=v.options||e[p].options;CI(v,w,m,o),AI(v,w,c.ratio),this.updateElement(e[p],p,v,s)}}_getStacks(e,n){const s=this._cachedMeta.iScale,r=s.getMatchingVisibleMetas(this._type),o=s.options.stacked,a=r.length,l=[];let u,c;for(u=0;u<a;++u)if(c=r[u],!!c.controller.options.grouped){if(typeof n!="undefined"){const h=c.controller.getParsed(n)[c.controller._cachedMeta.vScale.axis];if(ee(h)||isNaN(h))continue}if((o===!1||l.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&l.push(c.stack),c.index===e)break}return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||xI(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(e),l=a._custom,u=_h(l);let c=a[n.axis],h=0,d=i?this.applyStack(n,a,i):c,f,p;d!==c&&(h=d-c,d=c),u&&(c=l.barStart,d=l.barEnd-l.barStart,c!==0&&un(c)!==un(l.barEnd)&&(h=0),h+=c);const y=!ee(s)&&!u?s:h;let _=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?f=n.getPixelForValue(h+d):f=_,p=f-_,Math.abs(p)<r){p=EI(p,n,o)*r,c===o&&(_-=p/2);const g=n.getPixelForDecimal(0),m=n.getPixelForDecimal(1),v=Math.min(g,m),w=Math.max(g,m);_=Math.max(Math.min(_,w),v),f=_+p}if(_===n.getPixelForValue(o)){const g=un(p)*n.getLineWidthForValue(o)/2;_+=g,p-=g}return{size:p,base:_,head:f,center:f+p/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=H(s.maxBarThickness,1/0);let a,l;if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,c=s.barThickness==="flex"?bI(e,n,s,u):SI(e,n,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=c.start+c.chunk*h+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}ua.id="bar";ua.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};ua.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class rc extends pn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=H(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=H(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:s}=n,r=this.getParsed(e),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,l=this.resolveDataElementOptions(n,s),u=this.getSharedOptions(l),c=this.includeOptions(s,u),h=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const p=e[f],y=!r&&this.getParsed(f),_={},g=_[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(y[h]),m=_[d]=r?a.getBasePixel():a.getPixelForValue(y[d]);_.skip=isNaN(g)||isNaN(m),c&&(_.options=this.resolveDataElementOptions(f,p.active?"active":s),r&&(_.options.radius=0)),this.updateElement(p,f,_,s)}this.updateSharedOptions(u,s,l)}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=H(i&&i._custom,r),s}}rc.id="bubble";rc.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};rc.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function PI(t,e,n){let i=1,s=1,r=0,o=0;if(e<le){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,w,x)=>$o(v,a,l,!0)?1:Math.max(w,w*n,x,x*n),p=(v,w,x)=>$o(v,a,l,!0)?-1:Math.min(w,w*n,x,x*n),y=f(0,u,h),_=f(Ee,c,d),g=p(ve,u,h),m=p(ve+Ee,c,d);i=(y-g)/2,s=(_-m)/2,r=-(y+g)/2,o=-(_+m)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class yr extends pn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(Y(i[e])){const{key:l="value"}=this._parsing;r=u=>+fi(i[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Yt(this.options.rotation-90)}_getCircumference(){return Yt(this.options.circumference)}_getRotationExtents(){let e=le,n=-le;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(IT(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:y}=PI(h,c,l),_=(i.width-o)/d,g=(i.height-o)/f,m=Math.max(Math.min(_,g)/2,0),v=Ww(this.options.radius,m),w=Math.max(v*l,0),x=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=y*v,s.total=this.calculateTotal(),this.outerRadius=v-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/le)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&u.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,y=this.resolveDataElementOptions(n,s),_=this.getSharedOptions(y),g=this.includeOptions(s,_);let m=this._getRotation(),v;for(v=0;v<n;++v)m+=this._circumference(v,r);for(v=n;v<n+i;++v){const w=this._circumference(v,r),x=e[v],k={x:c+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+w,circumference:w,outerRadius:p,innerRadius:f};g&&(k.options=_||this.resolveDataElementOptions(v,x.active?"active":s)),m+=w,this.updateElement(x,v,k,s)}this.updateSharedOptions(_,s,y)}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?le*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=la(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(H(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}yr.id="doughnut";yr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};yr.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};yr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return de(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class ca extends pn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=MI(n,s,o);this._drawStart=a,this._drawCount=l,DI(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(c),d=this.includeOptions(s,h),f=o.axis,p=a.axis,{spanGaps:y,segment:_}=this.options,g=Fo(y)?y:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const x=e[w],k=this.getParsed(w),S=m?x:{},b=ee(k[p]),E=S[f]=o.getPixelForValue(k[f],w),I=S[p]=r||b?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],w);S.skip=isNaN(E)||isNaN(I)||b,S.stop=w>0&&Math.abs(k[f]-v[f])>g,_&&(S.parsed=k,S.raw=u.data[w]),d&&(S.options=h||this.resolveDataElementOptions(w,x.active?"active":s)),m||this.updateElement(x,w,S,s),v=k}this.updateSharedOptions(h,s,c)}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ca.id="line";ca.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};ca.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function MI(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:c,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=ze(Math.min(En(a,o.axis,u).lo,n?i:En(e,l,o.getPixelForValue(u)).lo),0,i-1)),d?r=ze(Math.max(En(a,o.axis,c).hi+1,n?0:En(e,l,o.getPixelForValue(c)).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function DI(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}class oc extends pn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=la(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return a1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,h=u.yCenter,d=u.getIndexAngle(0)-.5*ve;let f=d,p;const y=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,y);for(p=n;p<n+i;p++){const _=e[p];let g=f,m=f+this._computeAngle(p,s,y),v=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,r&&(l.animateScale&&(v=0),l.animateRotate&&(g=m=d));const w={x:c,y:h,innerRadius:0,outerRadius:v,startAngle:g,endAngle:m,options:this.resolveDataElementOptions(p,_.active?"active":s)};this.updateElement(_,p,w,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Yt(this.resolveDataElementOptions(e,n).angle||i):0}}oc.id="polarArea";oc.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};oc.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ac extends yr{}ac.id="pie";ac.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class lc extends pn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return a1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":s),c=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:c.x,d=o?r.yCenter:c.y,f={x:h,y:d,angle:c.angle,skip:isNaN(h)||isNaN(d),options:u};this.updateElement(l,a,f,s)}}}lc.id="radar";lc.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};lc.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class uc extends ca{}uc.id="scatter";uc.defaults={showLine:!1,fill:!1};uc.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var RI=Object.freeze({__proto__:null,BarController:ua,BubbleController:rc,DoughnutController:yr,LineController:ca,PolarAreaController:oc,PieController:ac,RadarController:lc,ScatterController:uc});function Ii(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ud{constructor(e){this.options=e||{}}formats(){return Ii()}parse(e,n){return Ii()}format(e,n){return Ii()}add(e,n,i){return Ii()}diff(e,n,i){return Ii()}startOf(e,n,i){return Ii()}endOf(e,n){return Ii()}}Ud.override=function(t){Object.assign(Ud.prototype,t)};var OI={_date:Ud};function NI(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?wC:En;if(i){if(s._sharedOptions){const u=r[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const h=l(r,e,n-c),d=l(r,e,n+c);return{lo:h.lo,hi:d.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function ha(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:u,data:c}=r[a],{lo:h,hi:d}=NI(r[a],e,o,s);for(let f=h;f<=d;++f){const p=c[f];p.skip||i(p,u,f)}}}function LI(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function wh(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ha(t,n,e,function(a,l,u){!s&&!zo(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function FI(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=Gw(o,{x:e.x,y:e.y});$o(h,u,c)&&s.push({element:o,datasetIndex:a,index:l})}return ha(t,n,e,r),s}function $I(t,e,n,i,s,r){let o=[];const a=LI(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,s);if(i&&!f)return;const p=c.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(o=[{element:c,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:c,datasetIndex:h,index:d})}return ha(t,n,e,u),o}function xh(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?FI(t,e,n,s):$I(t,e,n,i,s,r)}function Ay(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ha(t,n,e,(l,u,c)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var zI={evaluateInteractionItems:ha,modes:{index(t,e,n,i){const s=Mi(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?wh(t,s,r,i,o):xh(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,i){const s=Mi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?wh(t,s,r,i,o):xh(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,i){const s=Mi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return wh(t,s,r,i,o)},nearest(t,e,n,i){const s=Mi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return xh(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Mi(e,t);return Ay(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Mi(e,t);return Ay(t,s,"y",n.intersect,i)}}};const v1=["left","top","right","bottom"];function Lr(t,e){return t.filter(n=>n.pos===e)}function Py(t,e){return t.filter(n=>v1.indexOf(n.pos)===-1&&n.box.axis===e)}function Fr(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function VI(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function BI(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!v1.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function UI(t,e){const n=BI(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=c?c*s:l&&e.availableHeight)}return n}function jI(t){const e=VI(t),n=Fr(e.filter(u=>u.box.fullSize),!0),i=Fr(Lr(e,"left"),!0),s=Fr(Lr(e,"right")),r=Fr(Lr(e,"top"),!0),o=Fr(Lr(e,"bottom")),a=Py(e,"x"),l=Py(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Lr(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function My(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function _1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function HI(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!Y(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&_1(o,r.getPadding());const a=Math.max(0,e.outerWidth-My(o,t,"left","right")),l=Math.max(0,e.outerHeight-My(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function WI(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function KI(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Gr(t,e,n,i){const s=[];let r,o,a,l,u,c;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,KI(a.horizontal,e));const{same:h,other:d}=HI(e,n,a,i);u|=h&&s.length,c=c||d,l.fullSize||s.push(a)}return u&&Gr(s,e,n,i)||c}function il(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Dy(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;Ut(u.start)&&(o=u.start),l.fullSize?il(l,s.left,o,n.outerWidth-s.right-s.left,d):il(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*c,d=u.size||l.width;Ut(u.start)&&(r=u.start),l.fullSize?il(l,r,s.top,d,n.outerHeight-s.bottom-s.top):il(l,r,e.top+u.placed,d,h),u.start=r,u.placed+=h,r=l.right}}e.x=r,e.y=o}X.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var st={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=at(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=jI(t.boxes),l=a.vertical,u=a.horizontal;re(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},s);_1(d,at(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=UI(l.concat(u),h);Gr(a.fullSize,f,h,p),Gr(l,f,h,p),Gr(u,f,h,p)&&Gr(l,f,h,p),WI(f),Dy(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Dy(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},re(a.chartArea,y=>{const _=y.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class w1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class qI extends w1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Pl="$chartjs",GI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ry=t=>t===null||t==="";function YI(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Pl]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ry(s)){const r=py(t,"width");r!==void 0&&(t.width=r)}if(Ry(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=py(t,"height");r!==void 0&&(t.height=r)}return t}const x1=WC?{passive:!0}:!1;function XI(t,e,n){t.addEventListener(e,n,x1)}function QI(t,e,n){t.canvas.removeEventListener(e,n,x1)}function JI(t,e){const n=GI[t.type]||t.type,{x:i,y:s}=Mi(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function mu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ZI(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||mu(a.addedNodes,i),o=o&&!mu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function eA(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||mu(a.removedNodes,i),o=o&&!mu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Bo=new Map;let Oy=0;function S1(){const t=window.devicePixelRatio;t!==Oy&&(Oy=t,Bo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function tA(t,e){Bo.size||window.addEventListener("resize",S1),Bo.set(t,e)}function nA(t){Bo.delete(t),Bo.size||window.removeEventListener("resize",S1)}function iA(t,e,n){const i=t.canvas,s=i&&Dp(i);if(!s)return;const r=Hw((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||r(u,c)});return o.observe(s),tA(t,r),o}function Sh(t,e,n){n&&n.disconnect(),e==="resize"&&nA(t)}function sA(t,e,n){const i=t.canvas,s=Hw(r=>{t.ctx!==null&&n(JI(r,t))},t,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return XI(i,e,s),s}class rA extends w1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(YI(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Pl])return!1;const i=n[Pl].initial;["height","width"].forEach(r=>{const o=i[r];ee(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Pl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:ZI,detach:eA,resize:iA}[n]||sA;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Sh,detach:Sh,resize:Sh}[n]||QI)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return HC(e,n,i,s)}isAttached(e){const n=Dp(e);return!!(n&&n.isConnected)}}function oA(t){return!u1()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?qI:rA}class Zt{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Fo(this.x)&&Fo(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}Zt.defaults={};Zt.defaultRoutes=void 0;const b1={values(t){return de(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=aA(t,n)}const o=Ft(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),la(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(Ft(t)));return i===1||i===2||i===5?b1.numeric.call(this,t,e,n):""}};function aA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var cc={formatters:b1};X.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});X.route("scale.ticks","color","","color");X.route("scale.grid","color","","borderColor");X.route("scale.grid","borderColor","","borderColor");X.route("scale.title","color","","color");X.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});X.describe("scales",{_fallback:"scale"});X.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function lA(t,e){const n=t.options.ticks,i=n.maxTicksLimit||uA(t),s=n.major.enabled?hA(e):[],r=s.length,o=s[0],a=s[r-1],l=[];if(r>i)return dA(e,l,s,r/i),l;const u=cA(s,e,i);if(r>0){let c,h;const d=r>1?Math.round((a-o)/(r-1)):null;for(sl(e,l,u,ee(d)?0:o-d,o),c=0,h=r-1;c<h;c++)sl(e,l,u,s[c],s[c+1]);return sl(e,l,u,a,ee(d)?e.length:a+d),l}return sl(e,l,u),l}function uA(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function cA(t,e,n){const i=fA(t),s=e.length/n;if(!i)return Math.max(s,1);const r=LT(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function hA(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function dA(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function sl(t,e,n,i,s){const r=H(i,0),o=Math.min(H(s,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),c=r;c<0;)a++,c=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(r+a*n))}function fA(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const pA=t=>t==="left"?"right":t==="right"?"left":t,Ny=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function Ly(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function gA(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(i===1?u=Math.max(l-r,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<r-a||l>o+a)))return l}function mA(t,e){re(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function $r(t){return t.drawTicks?t.tickLength:0}function Fy(t,e){if(!t.display)return 0;const n=Ne(t.font,e),i=at(t.padding);return(de(t.text)?t.text.length:1)*n.lineHeight+i.height}function yA(t,e){return Si(t,{scale:e,type:"scale"})}function vA(t,e,n){return Si(t,{tick:n,index:e,type:"tick"})}function _A(t,e,n){let i=xp(t);return(n&&e!=="right"||!n&&e==="right")&&(i=pA(i)),i}function wA(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,p;const y=o-s,_=a-r;if(t.isHorizontal()){if(f=nt(i,r,a),Y(n)){const g=Object.keys(n)[0],m=n[g];p=c[g].getPixelForValue(m)+y-e}else n==="center"?p=(u.bottom+u.top)/2+y-e:p=Ny(t,n,e);d=a-r}else{if(Y(n)){const g=Object.keys(n)[0],m=n[g];f=c[g].getPixelForValue(m)-_+e}else n==="center"?f=(u.left+u.right)/2-_+e:f=Ny(t,n,e);p=nt(i,o,s),h=n==="left"?-Ee:Ee}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ps extends Zt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Ot(e,Number.POSITIVE_INFINITY),n=Ot(n,Number.NEGATIVE_INFINITY),i=Ot(i,Number.POSITIVE_INFINITY),s=Ot(s,Number.NEGATIVE_INFINITY),{min:Ot(e,i),max:Ot(n,s),minDefined:Ce(e),maxDefined:Ce(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Ot(n,Ot(i,n)),max:Ot(i,Ot(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_C(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ly(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=lA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=ce(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=ze(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-$r(e.grid)-n.padding-Fy(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=bp(Math.min(Math.asin(ze((c.highest.height+6)/a,-1,1)),Math.asin(ze(l/u,-1,1))-Math.asin(ze(d/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Fy(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=$r(r)+l):(e.height=this.maxHeight,e.width=$r(r)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=Yt(this.labelRotation),y=Math.cos(p),_=Math.sin(p);if(a){const g=i.mirror?0:_*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=i.mirror?0:y*h.width+_*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(u,c,_,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;r==="start"?(c=0,h=e.height):r==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ee(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ly(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let a=0,l=0,u,c,h,d,f,p,y,_,g,m,v;for(u=0;u<n;++u){if(d=e[u].label,f=this._resolveTickFontOptions(u),i.font=p=f.string,y=s[p]=s[p]||{data:{},gc:[]},_=f.lineHeight,g=m=0,!ee(d)&&!de(d))g=fu(i,y.data,y.gc,g,d),m=_;else if(de(d))for(c=0,h=d.length;c<h;++c)v=d[c],!ee(v)&&!de(v)&&(g=fu(i,y.data,y.gc,g,v),m+=_);r.push(g),o.push(m),a=Math.max(g,a),l=Math.max(m,l)}mA(s,n);const w=r.indexOf(a),x=o.indexOf(l),k=S=>({width:r[S]||0,height:o[S]||0});return{first:k(0),last:k(n-1),widest:k(w),highest:k(x),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return zT(this._alignToPixels?Ci(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=vA(this.getContext(),e,i))}return this.$context||(this.$context=yA(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),h=$r(r),d=[],f=r.setContext(this.getContext()),p=f.drawBorder?f.borderWidth:0,y=p/2,_=function(W){return Ci(i,W,p)};let g,m,v,w,x,k,S,b,E,I,O,F;if(o==="top")g=_(this.bottom),k=this.bottom-h,b=g-y,I=_(e.top)+y,F=e.bottom;else if(o==="bottom")g=_(this.top),I=e.top,F=_(e.bottom)-y,k=g+y,b=this.top+h;else if(o==="left")g=_(this.right),x=this.right-h,S=g-y,E=_(e.left)+y,O=e.right;else if(o==="right")g=_(this.left),E=e.left,O=_(e.right)-y,x=g+y,S=this.left+h;else if(n==="x"){if(o==="center")g=_((e.top+e.bottom)/2+.5);else if(Y(o)){const W=Object.keys(o)[0],ne=o[W];g=_(this.chart.scales[W].getPixelForValue(ne))}I=e.top,F=e.bottom,k=g+y,b=k+h}else if(n==="y"){if(o==="center")g=_((e.left+e.right)/2);else if(Y(o)){const W=Object.keys(o)[0],ne=o[W];g=_(this.chart.scales[W].getPixelForValue(ne))}x=g-y,S=x-h,E=e.left,O=e.right}const se=H(s.ticks.maxTicksLimit,c),_e=Math.max(1,Math.ceil(c/se));for(m=0;m<c;m+=_e){const W=r.setContext(this.getContext(m)),ne=W.lineWidth,gn=W.color,A=r.borderDash||[],$=W.borderDashOffset,B=W.tickWidth,ue=W.tickColor,fe=W.tickBorderDash||[],en=W.tickBorderDashOffset;v=gA(this,m,a),v!==void 0&&(w=Ci(i,v,ne),l?x=S=E=O=w:k=b=I=F=w,d.push({tx1:x,ty1:k,tx2:S,ty2:b,x1:E,y1:I,x2:O,y2:F,width:ne,color:gn,borderDash:A,borderDashOffset:$,tickWidth:B,tickColor:ue,tickBorderDash:fe,tickBorderDashOffset:en}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=r,d=$r(i.grid),f=d+c,p=h?-c:f,y=-Yt(this.labelRotation),_=[];let g,m,v,w,x,k,S,b,E,I,O,F,se="middle";if(s==="top")k=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(d);S=W.textAlign,x=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(d);S=W.textAlign,x=W.x}else if(n==="x"){if(s==="center")k=(e.top+e.bottom)/2+f;else if(Y(s)){const W=Object.keys(s)[0],ne=s[W];k=this.chart.scales[W].getPixelForValue(ne)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")x=(e.left+e.right)/2-f;else if(Y(s)){const W=Object.keys(s)[0],ne=s[W];x=this.chart.scales[W].getPixelForValue(ne)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?se="top":l==="end"&&(se="bottom"));const _e=this._getLabelSizes();for(g=0,m=a.length;g<m;++g){v=a[g],w=v.label;const W=r.setContext(this.getContext(g));b=this.getPixelForTick(g)+r.labelOffset,E=this._resolveTickFontOptions(g),I=E.lineHeight,O=de(w)?w.length:1;const ne=O/2,gn=W.color,A=W.textStrokeColor,$=W.textStrokeWidth;let B=S;o?(x=b,S==="inner"&&(g===m-1?B=this.options.reverse?"left":"right":g===0?B=this.options.reverse?"right":"left":B="center"),s==="top"?u==="near"||y!==0?F=-O*I+I/2:u==="center"?F=-_e.highest.height/2-ne*I+I:F=-_e.highest.height+I/2:u==="near"||y!==0?F=I/2:u==="center"?F=_e.highest.height/2-ne*I:F=_e.highest.height-O*I,h&&(F*=-1)):(k=b,F=(1-O)*I/2);let ue;if(W.showLabelBackdrop){const fe=at(W.backdropPadding),en=_e.heights[g],jt=_e.widths[g];let Ti=k+F-fe.top,Ht=x-fe.left;switch(se){case"middle":Ti-=en/2;break;case"bottom":Ti-=en;break}switch(S){case"center":Ht-=jt/2;break;case"right":Ht-=jt;break}ue={left:Ht,top:Ti,width:jt+fe.width,height:en+fe.height,color:W.backdropColor}}_.push({rotation:y,label:w,font:E,color:gn,strokeColor:A,strokeWidth:$,textOffset:F,textAlign:B,textBaseline:se,translation:[x,k],backdrop:ue})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let u,c;return n==="left"?s?(c=this.right+r,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?s?(c=this.left+r,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,u,c,h;this.isHorizontal()?(l=Ci(e,this.left,r)-r/2,u=Ci(e,this.right,o)+o/2,c=h=a):(c=Ci(e,this.top,r)-r/2,h=Ci(e,this.bottom,o)+o/2,l=u=a),n.save(),n.lineWidth=s.borderWidth,n.strokeStyle=s.borderColor,n.beginPath(),n.moveTo(l,c),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&nc(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],u=l.font,c=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;is(i,c,0,h,u,l)}s&&ic(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ne(i.font),o=at(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Y(n)?(l+=o.bottom,de(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=wA(this,l,n,a);is(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:_A(a,n,s),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=H(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==ps.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ne(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;bA(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,xA(e,o,i),this.override&&X.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in X[s]&&(delete X[s][i],this.override&&delete ns[i])}}function xA(t,e,n){const i=Lo(Object.create(null),[n?X.get(n):{},X.get(e),t.defaults]);X.set(e,i),t.defaultRoutes&&SA(e,t.defaultRoutes),t.descriptors&&X.describe(e,t.descriptors)}function SA(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");X.route(r,s,l,a)})}function bA(t){return"id"in t&&"defaults"in t}class kA{constructor(){this.controllers=new rl(pn,"datasets",!0),this.elements=new rl(Zt,"elements"),this.plugins=new rl(Object,"plugins"),this.scales=new rl(ps,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):re(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=Sp(e);ce(i["before"+s],[],i),n[e](i),ce(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Tn=new kA;class EA{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(ce(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=H(i.options&&i.options.plugins,{}),r=TA(i);return s===!1&&!n?[]:IA(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function TA(t){const e=[],n=Object.keys(Tn.plugins.items);for(let s=0;s<n.length;s++)e.push(Tn.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const r=i[s];e.indexOf(r)===-1&&e.push(r)}return e}function CA(t,e){return!e&&t===!1?null:t===!0?{}:t}function IA(t,e,n,i){const s=[],r=t.getContext();for(let o=0;o<e.length;o++){const a=e[o],l=a.id,u=CA(n[l],i);u!==null&&s.push({plugin:a,options:AA(t.config,a,u,r)})}return s}function AA(t,e,n,i){const s=t.pluginScopeKeys(e),r=t.getOptionScopes(n,s);return t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jd(t,e){const n=X.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function PA(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function MA(t,e){return t===e?"_index_":"_value_"}function DA(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hd(t,e){return t==="x"||t==="y"?t:e.axis||DA(e.position)||t.charAt(0).toLowerCase()}function RA(t,e){const n=ns[t.type]||{scales:{}},i=e.scales||{},s=jd(t.type,e),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Y(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Hd(a,l),c=MA(u,s),h=n.scales||{};r[u]=r[u]||a,o[a]=oo(Object.create(null),[{axis:u},l,h[u],h[c]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||jd(l,e),h=(ns[l]||{}).scales||{};Object.keys(h).forEach(d=>{const f=PA(d,u),p=a[f+"AxisID"]||r[f]||f;o[p]=o[p]||Object.create(null),oo(o[p],[{axis:f},i[p],h[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];oo(l,[X.scales[l.type],X.scale])}),o}function k1(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=RA(t,e)}function E1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OA(t){return t=t||{},t.data=E1(t.data),k1(t),t}const $y=new Map,T1=new Set;function ol(t,e){let n=$y.get(t);return n||(n=e(),$y.set(t,n),T1.add(n)),n}const zr=(t,e,n)=>{const i=fi(e,n);i!==void 0&&t.add(i)};class NA{constructor(e){this._config=OA(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=E1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ol(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ol(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ol(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ol(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>zr(l,e,h))),c.forEach(h=>zr(l,s,h)),c.forEach(h=>zr(l,ns[r]||{},h)),c.forEach(h=>zr(l,X,h)),c.forEach(h=>zr(l,Bd,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),T1.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ns[n]||{},X.datasets[n]||{},{type:n},X,Bd]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=zy(this._resolverCache,e,s);let l=o;if(FA(o,n)){r.$shared=!1,i=pi(i)?i():i;const u=this.createResolver(e,i,a);l=tr(o,i,u)}for(const u of n)r[u]=l[u];return r}createResolver(e,n,i=[""],s){const{resolver:r}=zy(this._resolverCache,e,i);return Y(n)?tr(r,n,void 0,s):r}}function zy(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Ap(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const LA=t=>Y(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||pi(t[n]),!1);function FA(t,e){const{isScriptable:n,isIndexable:i}=i1(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(pi(a)||LA(a))||o&&de(a))return!0}return!1}var $A="3.8.0";const zA=["top","bottom","left","right","chartArea"];function Vy(t,e){return t==="top"||t==="bottom"||zA.indexOf(t)===-1&&e==="x"}function By(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Uy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ce(n&&n.onComplete,[t],e)}function VA(t){const e=t.chart,n=e.options.animation;ce(n&&n.onProgress,[t],e)}function C1(t){return u1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yu={},I1=t=>{const e=C1(t);return Object.values(yu).filter(n=>n.canvas===e).pop()};function BA(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function UA(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class vr{constructor(e,n){const i=this.config=new NA(n),s=C1(e),r=I1(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||oA(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=CT(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ET(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],yu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",Uy),yn.listen(this,"progress",VA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return ee(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uy(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,n){yn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,fy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ce(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Hd(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),re(r,o=>{const a=o.options,l=a.id,u=Hd(l,a),c=H(a.type,o.dtype);(a.position===void 0||Vy(a.position,u)!==Vy(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const d=Tn.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),re(s,(o,a)=>{o||delete i[a]}),re(i,o=>{st.configure(this,o,o.options),st.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(By("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||jd(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Tn.getController(a),{datasetElementType:u,dataElementType:c}=X.datasets[a];Object.assign(l.prototype,{dataElementType:Tn.getElement(c),datasetElementType:u&&Tn.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||re(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(By("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){re(this.scales,e=>{st.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Jm(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;BA(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Jm(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;st.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,pi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),Uy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&nc(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&ic(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return zo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=zI.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Si(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Ut(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),yn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete yu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};re(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){re(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},re(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!uu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=RT(e),u=UA(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ce(r.onHover,[e,a,this],this),l&&ce(r.onClick,[e,a,this],this));const c=!uu(a,s);return(c||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,c}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}const jy=()=>re(vr.instances,t=>t._plugins.invalidate()),Vn=!0;Object.defineProperties(vr,{defaults:{enumerable:Vn,value:X},instances:{enumerable:Vn,value:yu},overrides:{enumerable:Vn,value:ns},registry:{enumerable:Vn,value:Tn},version:{enumerable:Vn,value:$A},getChart:{enumerable:Vn,value:I1},register:{enumerable:Vn,value:(...t)=>{Tn.add(...t),jy()}},unregister:{enumerable:Vn,value:(...t)=>{Tn.remove(...t),jy()}}});function A1(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(r,o,a,i-u,n+u),l>s?(u=s/l,t.arc(r,o,l,n+u,i-u,!0)):t.arc(r,o,s,n+Ee,i-Ee),t.closePath(),t.clip()}function jA(t){return Cp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function HA(t,e,n,i){const s=jA(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const u=(n-Math.min(r,l))*i/2;return ze(l,0,Math.min(r,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:ze(s.innerStart,0,o),innerEnd:ze(s.innerEnd,0,o)}}function _s(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Wd(t,e,n,i,s){const{x:r,y:o,startAngle:a,pixelMargin:l,innerRadius:u}=e,c=Math.max(e.outerRadius+i+n-l,0),h=u>0?u+i+n+l:0;let d=0;const f=s-a;if(i){const ne=u>0?u-i:0,gn=c>0?c-i:0,A=(ne+gn)/2,$=A!==0?f*A/(A+i):f;d=(f-$)/2}const p=Math.max(.001,f*c-n/ve)/c,y=(f-p)/2,_=a+y+d,g=s-y-d,{outerStart:m,outerEnd:v,innerStart:w,innerEnd:x}=HA(e,h,c,g-_),k=c-m,S=c-v,b=_+m/k,E=g-v/S,I=h+w,O=h+x,F=_+w/I,se=g-x/O;if(t.beginPath(),t.arc(r,o,c,b,E),v>0){const ne=_s(S,E,r,o);t.arc(ne.x,ne.y,v,E,g+Ee)}const _e=_s(O,g,r,o);if(t.lineTo(_e.x,_e.y),x>0){const ne=_s(O,se,r,o);t.arc(ne.x,ne.y,x,g+Ee,se+Math.PI)}if(t.arc(r,o,h,g-x/h,_+w/h,!0),w>0){const ne=_s(I,F,r,o);t.arc(ne.x,ne.y,w,F+Math.PI,_-Ee)}const W=_s(k,_,r,o);if(t.lineTo(W.x,W.y),m>0){const ne=_s(k,b,r,o);t.arc(ne.x,ne.y,m,_-Ee,b)}t.closePath()}function WA(t,e,n,i){const{fullCircles:s,startAngle:r,circumference:o}=e;let a=e.endAngle;if(s){Wd(t,e,n,i,r+le);for(let l=0;l<s;++l)t.fill();isNaN(o)||(a=r+o%le,o%le===0&&(a+=le))}return Wd(t,e,n,i,a),t.fill(),a}function KA(t,e,n){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),u=e.innerRadius+o;let c;for(n&&A1(t,e,r+le),t.beginPath(),t.arc(i,s,u,r+le,r,!0),c=0;c<a;++c)t.stroke();for(t.beginPath(),t.arc(i,s,l,r,r+le),c=0;c<a;++c)t.stroke()}function qA(t,e,n,i,s){const{options:r}=e,{borderWidth:o,borderJoinStyle:a}=r,l=r.borderAlign==="inner";!o||(l?(t.lineWidth=o*2,t.lineJoin=a||"round"):(t.lineWidth=o,t.lineJoin=a||"bevel"),e.fullCircles&&KA(t,e,l),l&&A1(t,e,s),Wd(t,e,n,i,s),t.stroke())}class hc extends Zt{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=Gw(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=H(h,l-a)>=le||$o(r,a,l),y=kn(o,u+d,c+d);return p&&y}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:u}=this.options,c=(s+r)/2,h=(o+a+u+l)/2;return{x:n+Math.cos(c)*h,y:i+Math.sin(c)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/2,r=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>le?Math.floor(i/le):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(s){o=s/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=ve&&(o=s)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const a=WA(e,this,o,r);qA(e,this,o,r,a),e.restore()}}hc.id="arc";hc.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};hc.defaultRoutes={backgroundColor:"backgroundColor"};function P1(t,e,n=e){t.lineCap=H(n.borderCapStyle,e.borderCapStyle),t.setLineDash(H(n.borderDash,e.borderDash)),t.lineDashOffset=H(n.borderDashOffset,e.borderDashOffset),t.lineJoin=H(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(n.borderWidth,e.borderWidth),t.strokeStyle=H(n.borderColor,e.borderColor)}function GA(t,e,n){t.lineTo(n.x,n.y)}function YA(t){return t.stepped?hC:t.tension||t.cubicInterpolationMode==="monotone"?dC:GA}function M1(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(r,a),c=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!c?i+u-l:u-l}}function XA(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:u}=M1(s,n,i),c=YA(r);let{move:h=!0,reverse:d}=i||{},f,p,y;for(f=0;f<=u;++f)p=s[(a+(d?u-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):c(t,y,p,d,r.stepped),y=p);return l&&(p=s[(a+(d?u:0))%o],c(t,y,p,d,r.stepped)),!!l}function QA(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=M1(s,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,d,f,p,y,_,g;const m=w=>(o+(u?a-w:w))%r,v=()=>{y!==_&&(t.lineTo(c,_),t.lineTo(c,y),t.lineTo(c,g))};for(l&&(f=s[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[m(d)],f.skip)continue;const w=f.x,x=f.y,k=w|0;k===p?(x<y?y=x:x>_&&(_=x),c=(h*c+w)/++h):(v(),t.lineTo(w,x),p=k,h=0,y=_=x),g=x}v()}function Kd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?QA:XA}function JA(t){return t.stepped?KC:t.tension||t.cubicInterpolationMode==="monotone"?qC:Di}function ZA(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),P1(t,e.options),t.stroke(s)}function eP(t,e,n,i){const{segments:s,options:r}=e,o=Kd(e);for(const a of s)P1(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const tP=typeof Path2D=="function";function nP(t,e,n,i){tP&&!e.options.segment?ZA(t,e,n,i):eP(t,e,n,i)}class bi extends Zt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;$C(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eI(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=p1(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=JA(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:d}=o[u],f=r[h],p=r[d];if(f===p){a.push(f);continue}const y=Math.abs((s-f[n])/(p[n]-f[n])),_=l(f,p,y,i.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Kd(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Kd(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),nP(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bi.id="line";bi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};bi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};bi.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function Hy(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class dc extends Zt{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return Hy(this,e,"x",n)}inYRange(e,n){return Hy(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!zo(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,pu(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}dc.id="point";dc.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};dc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function D1(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),u=i-h,c=i+h):(h=r/2,a=n-h,l=n+h,u=Math.min(i,s),c=Math.max(i,s)),{left:a,top:u,right:l,bottom:c}}function Zn(t,e,n,i){return t?0:ze(e,n,i)}function iP(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=e1(i);return{t:Zn(s.top,r.top,0,n),r:Zn(s.right,r.right,0,e),b:Zn(s.bottom,r.bottom,0,n),l:Zn(s.left,r.left,0,e)}}function sP(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Hi(s),o=Math.min(e,n),a=t.borderSkipped,l=i||Y(s);return{topLeft:Zn(!l||a.top||a.left,r.topLeft,0,o),topRight:Zn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Zn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Zn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function rP(t){const e=D1(t),n=e.right-e.left,i=e.bottom-e.top,s=iP(t,n/2,i/2),r=sP(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function bh(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&D1(t,i);return a&&(s||kn(e,a.left,a.right))&&(r||kn(n,a.top,a.bottom))}function oP(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function aP(t,e){t.rect(e.x,e.y,e.w,e.h)}function kh(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class fc extends Zt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=rP(this),a=oP(o.radius)?Vo:aP;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,kh(o,n,r)),e.clip(),a(e,kh(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,kh(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return bh(this,e,n,i)}inXRange(e,n){return bh(this,e,null,n)}inYRange(e,n){return bh(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}fc.id="bar";fc.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};fc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var lP=Object.freeze({__proto__:null,ArcElement:hc,LineElement:bi,PointElement:dc,BarElement:fc});function uP(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const u=e+n-1;let c=e,h,d,f,p,y;for(o[l++]=t[c],h=0;h<r-2;h++){let _=0,g=0,m;const v=Math.floor((h+1)*a)+1+e,w=Math.min(Math.floor((h+2)*a)+1,n)+e,x=w-v;for(m=v;m<w;m++)_+=t[m].x,g+=t[m].y;_/=x,g/=x;const k=Math.floor(h*a)+1+e,S=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:b,y:E}=t[c];for(f=p=-1,m=k;m<S;m++)p=.5*Math.abs((b-_)*(t[m].y-E)-(b-t[m].x)*(g-E)),p>f&&(f=p,d=t[m],y=m);o[l++]=d,c=y}return o[l++]=t[u],o}function cP(t,e,n,i){let s=0,r=0,o,a,l,u,c,h,d,f,p,y;const _=[],g=e+n-1,m=t[e].x,w=t[g].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/w*i,u=a.y;const x=l|0;if(x===c)u<p?(p=u,h=o):u>y&&(y=u,d=o),s=(r*s+a.x)/++r;else{const k=o-1;if(!ee(h)&&!ee(d)){const S=Math.min(h,d),b=Math.max(h,d);S!==f&&S!==k&&_.push({...t[S],x:s}),b!==f&&b!==k&&_.push({...t[b],x:s})}o>0&&k!==f&&_.push(t[k]),_.push(a),c=x,r=0,p=y=u,h=d=f=o}}return _}function R1(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Wy(t){t.data.datasets.forEach(e=>{R1(e)})}function hP(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(i=ze(En(e,r.axis,o).lo,0,n-1)),u?s=ze(En(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var dP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Wy(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),u=o||s.data;if(qr([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:h,count:d}=hP(l,u);const f=n.threshold||4*i;if(d<=f){R1(s);return}ee(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let p;switch(n.algorithm){case"lttb":p=uP(u,h,d,i,n);break;case"min-max":p=cP(u,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){Wy(t)}};function fP(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:u}=a;u=Rp(l,u,s);const c=qd(n,s[l],s[u],a.loop);if(!e.segments){o.push({source:a,target:c,start:s[l],end:s[u]});continue}const h=p1(e,c);for(const d of h){const f=qd(n,r[d.start],r[d.end],d.loop),p=f1(a,s,f);for(const y of p)o.push({source:y,target:d,start:{[n]:Ky(c,f,"start",Math.max)},end:{[n]:Ky(c,f,"end",Math.min)}})}}return o}function qd(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Tt(s),r=Tt(r)),{property:t,start:s,end:r}}function pP(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Rp(o,a,s);const l=s[o],u=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:u.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:u.y}))}),r}function Rp(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Ky(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function O1(t,e){let n=[],i=!1;return de(t)?(i=!0,n=t):n=pP(t,e),n.length?new bi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function gP(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ce(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function mP(t,e,n){const i=wP(t);if(Y(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ce(s)&&Math.floor(s)===s?yP(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yP(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function vP(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Y(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function _P(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Y(t)?i=t.value:i=e.getBaseValue(),i}function wP(t){const e=t.options,n=e.fill;let i=H(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function xP(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=SP(e,n);a.push(O1({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const u=r[l];for(let c=u.start;c<=u.end;c++)bP(s,o[c],a)}return new bi({points:s,options:{}})}function SP(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function bP(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=kP(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function kP(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const c=r[u],h=o[c.start][n],d=o[c.end][n];if(kn(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class N1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:le},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function EP(t){const{chart:e,fill:n,line:i}=t;if(Ce(n))return TP(e,n);if(n==="stack")return xP(t);if(n==="shape")return!0;const s=CP(t);return s instanceof N1?s:O1(s,i)}function TP(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function CP(t){return(t.scale||{}).getPointPositionForValue?AP(t):IP(t)}function IP(t){const{scale:e={},fill:n}=t,i=vP(n,e);if(Ce(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function AP(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=_P(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new N1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Eh(t,e,n){const i=EP(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:h=u}=l||{};i&&s.points.length&&(nc(t,n),PP(t,{line:s,target:i,above:c,below:h,area:n,scale:r,axis:o}),ic(t))}function PP(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(qy(t,i,o.top),Gy(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),qy(t,i,o.bottom)),Gy(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function qy(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,c=s[l],h=s[Rp(l,u,s)];r?(t.moveTo(c.x,c.y),r=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Gy(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=fP(n,i,s);for(const{source:l,target:u,start:c,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,MP(t,o,f&&qd(s,c,h)),t.beginPath();const p=!!n.pathSegment(t,l);let y;if(f){p?t.closePath():Yy(t,i,h,s);const _=!!i.pathSegment(t,u,{move:p,reverse:!0});y=p&&_,y||Yy(t,i,c,s)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function MP(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function Yy(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var DP={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof bi&&(l={visible:t.isDatasetVisible(o),index:o,fill:mP(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=gP(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;!a||(a.line.updateControlPoints(r,a.axis),i&&Eh(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;r&&Eh(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!i||i.fill===!1||n.drawTime!=="beforeDatasetDraw"||Eh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xy=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},RP=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Qy extends Zt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ce(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ne(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Xy(i,r);let u,c;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,r,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((p,y)=>{const _=i+n/2+r.measureText(p.text).width;(y===0||u[u.length-1]+_+2*a>o)&&(h+=c,u[u.length-(y>0?0:1)]=0,f+=c,d++),l[y]={left:0,top:f,row:d,width:_,height:s},u[u.length-1]+=_+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let h=a,d=0,f=0,p=0,y=0;return this.legendItems.forEach((_,g)=>{const m=i+n/2+r.measureText(_.text).width;g>0&&f+s+2*a>c&&(h+=d+a,u.push({width:d,height:f}),p+=d+a,y++,d=f=0),l[g]={left:p,top:f,col:y,width:m,height:s},d=Math.max(d,m),f+=s+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Us(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=nt(i,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=nt(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=nt(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=nt(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nc(e,this),this._draw(),ic(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=X.color,l=Us(e.rtl,this.left,this.width),u=Ne(o.font),{color:c,padding:h}=o,d=u.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:_,itemHeight:g}=Xy(o,d),m=function(S,b,E){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;s.save();const I=H(E.lineWidth,1);if(s.fillStyle=H(E.fillStyle,a),s.lineCap=H(E.lineCap,"butt"),s.lineDashOffset=H(E.lineDashOffset,0),s.lineJoin=H(E.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=H(E.strokeStyle,a),s.setLineDash(H(E.lineDash,[])),o.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:I},F=l.xPlus(S,y/2),se=b+f;pu(s,O,F,se)}else{const O=b+Math.max((d-_)/2,0),F=l.leftForLtr(S,y),se=Hi(E.borderRadius);s.beginPath(),Object.values(se).some(_e=>_e!==0)?Vo(s,{x:F,y:O,w:y,h:_,radius:se}):s.rect(F,O,y,_),s.fill(),I!==0&&s.stroke()}s.restore()},v=function(S,b,E){is(s,E.text,S,b+g/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?p={x:nt(r,this.left+h,this.right-i[0]),y:this.top+h+x,line:0}:p={x:this.left+h,y:nt(r,this.top+x+h,this.bottom-n[0].height),line:0},c1(this.ctx,e.textDirection);const k=g+h;this.legendItems.forEach((S,b)=>{s.strokeStyle=S.fontColor||c,s.fillStyle=S.fontColor||c;const E=s.measureText(S.text).width,I=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),O=y+f+E;let F=p.x,se=p.y;l.setWidth(this.width),w?b>0&&F+O+h>this.right&&(se=p.y+=k,p.line++,F=p.x=nt(r,this.left+h,this.right-i[p.line])):b>0&&se+k>this.bottom&&(F=p.x=F+n[p.line].width+h,p.line++,se=p.y=nt(r,this.top+x+h,this.bottom-n[p.line].height));const _e=l.x(F);m(_e,se,S),F=TT(I,F+y+f,w?F+O:this.right,e.rtl),v(l.x(F),se,S),w?p.x+=O+h:p.y+=k}),h1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ne(n.font),s=at(n.padding);if(!n.display)return;const r=Us(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=s.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=nt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);c=u+nt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=nt(a,h,h+d);o.textAlign=r.textAlign(xp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,is(o,n.text,f,c,i)}_computeTitleHeight(){const e=this.options.title,n=Ne(e.font),i=at(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(kn(e,this.left,this.right)&&kn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],kn(e,s.left,s.left+s.width)&&kn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!OP(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=RP(s,i);s&&!r&&ce(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&ce(n.onHover,[e,i,this],this)}else i&&ce(n.onClick,[e,i,this],this)}}function OP(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var NP={id:"legend",_element:Qy,start(t,e,n){const i=t.legend=new Qy({ctx:t.ctx,options:n,chart:t});st.configure(t,i,n),st.addBox(t,i)},stop(t){st.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;st.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=at(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Op extends Zt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=de(i.text)?i.text.length:1;this._padding=at(i.padding);const r=s*Ne(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=nt(a,i,r),h=n+e,u=r-i):(o.position==="left"?(c=i+e,h=nt(a,s,n),l=ve*-.5):(c=r-e,h=nt(a,n,s),l=ve*.5),u=s-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ne(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);is(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:xp(n.align),textBaseline:"middle",translation:[o,a]})}}function LP(t,e){const n=new Op({ctx:t.ctx,options:e,chart:t});st.configure(t,n,e),st.addBox(t,n),t.titleBlock=n}var FP={id:"title",_element:Op,start(t,e,n){LP(t,n)},stop(t){const e=t.titleBlock;st.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;st.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const al=new WeakMap;var $P={id:"subtitle",start(t,e,n){const i=new Op({ctx:t.ctx,options:n,chart:t});st.configure(t,i,n),st.addBox(t,i),al.set(t,i)},stop(t){st.removeBox(t,al.get(t)),al.delete(t)},beforeUpdate(t,e,n){const i=al.get(t);st.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const co={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=zd(e,u);c<s&&(s=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function nn(t,e){return e&&(de(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function vn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zP(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Jy(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ne(e.bodyFont),u=Ne(e.titleFont),c=Ne(e.footerFont),h=r.length,d=s.length,f=i.length,p=at(e.padding);let y=p.height,_=0,g=i.reduce((w,x)=>w+x.before.length+x.lines.length+x.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*w+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let m=0;const v=function(w){_=Math.max(_,n.measureText(w).width+m)};return n.save(),n.font=u.string,re(t.title,v),n.font=l.string,re(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,re(i,w=>{re(w.before,v),re(w.lines,v),re(w.after,v)}),m=0,n.font=c.string,re(t.footer,v),n.restore(),_+=p.width,{width:_,height:y}}function VP(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function BP(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function UP(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=s<=(a+l)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),BP(u,t,e,n)&&(u="center"),u}function Zy(t,e,n){const i=n.yAlign||e.yAlign||VP(t,n);return{xAlign:n.xAlign||e.xAlign||UP(t,e,n,i),yAlign:i}}function jP(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function HP(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function ev(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+r,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=Hi(o);let p=jP(e,a);const y=HP(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:ze(p,0,i.width-e.width),y:ze(y,0,i.height-e.height)}}function ll(t,e,n){const i=at(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function tv(t){return nn([],vn(t))}function WP(t,e,n){return Si(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function nv(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Gd extends Zt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new g1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=WP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=i.beforeTitle.apply(this,[e]),r=i.title.apply(this,[e]),o=i.afterTitle.apply(this,[e]);let a=[];return a=nn(a,vn(s)),a=nn(a,vn(r)),a=nn(a,vn(o)),a}getBeforeBody(e,n){return tv(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,s=[];return re(e,r=>{const o={before:[],lines:[],after:[]},a=nv(i,r);nn(o.before,vn(a.beforeLabel.call(this,r))),nn(o.lines,a.label.call(this,r)),nn(o.after,vn(a.afterLabel.call(this,r))),s.push(o)}),s}getAfterBody(e,n){return tv(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,s=i.beforeFooter.apply(this,[e]),r=i.footer.apply(this,[e]),o=i.afterFooter.apply(this,[e]);let a=[];return a=nn(a,vn(s)),a=nn(a,vn(r)),a=nn(a,vn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(zP(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,i))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,i))),re(a,c=>{const h=nv(e.callbacks,c);s.push(h.labelColor.call(this,c)),r.push(h.labelPointStyle.call(this,c)),o.push(h.labelTextColor.call(this,c))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=co[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Jy(this,i),u=Object.assign({},a,l),c=Zy(this.chart,i,u),h=ev(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=Hi(a),{x:d,y:f}=e,{width:p,height:y}=n;let _,g,m,v,w,x;return r==="center"?(w=f+y/2,s==="left"?(_=d,g=_-o,v=w+o,x=w-o):(_=d+p,g=_+o,v=w-o,x=w+o),m=_):(s==="left"?g=d+Math.max(l,c)+o:s==="right"?g=d+p-Math.max(u,h)-o:g=this.caretX,r==="top"?(v=f,w=v-o,_=g-o,m=g+o):(v=f+y,w=v+o,_=g+o,m=g-o),x=v),{x1:_,x2:g,x3:m,y1:v,y2:w,y3:x}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const u=Us(i.rtl,this.x,this.width);for(e.x=ll(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=Ne(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u,boxPadding:c}=r,h=Ne(r.bodyFont),d=ll(this,"left",r),f=s.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+p;if(r.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},g=s.leftForLtr(f,u)+u/2,m=y+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,pu(e,_,g,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,pu(e,_,g,m)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(f,u-c),g=s.leftForLtr(s.xPlus(f,1),u-c-2),m=Hi(o.borderRadius);Object.values(m).some(v=>v!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Vo(e,{x:_,y,w:u,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Vo(e,{x:g,y:y+1,w:u-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,y,u,l),e.strokeRect(_,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(g,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=Ne(i.bodyFont);let d=h.lineHeight,f=0;const p=Us(i.rtl,this.x,this.width),y=function(b){n.fillText(b,p.x(e.x+f),e.y+d/2),e.y+=d+r},_=p.textAlign(o);let g,m,v,w,x,k,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=ll(this,_,i),n.fillStyle=i.bodyColor,re(this.beforeBody,y),f=a&&_!=="right"?o==="center"?u/2+c:u+2+c:0,w=0,k=s.length;w<k;++w){for(g=s[w],m=this.labelTextColors[w],n.fillStyle=m,re(g.before,y),v=g.lines,a&&v.length&&(this._drawColorBox(n,e,w,p,i),d=Math.max(h.lineHeight,l)),x=0,S=v.length;x<S;++x)y(v[x]),d=h.lineHeight;re(g.after,y)}f=0,d=h.lineHeight,re(this.afterBody,y),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Us(i.rtl,this.x,this.width);for(e.x=ll(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ne(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Hi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+u,l+c-p),n.quadraticCurveTo(a+u,l+c,a+u-p,l+c),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=co[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Jy(this,e),l=Object.assign({},o,this._size),u=Zy(n,e,l),c=ev(e,l,u,n);(s._to!==c.x||r._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=at(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),c1(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),h1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!uu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!uu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=co[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}Gd.positioners=co;var KP={id:"tooltip",_element:Gd,positioners:co,afterInit(t,e,n){n&&(t.tooltip=new Gd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:mn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ee(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qP=Object.freeze({__proto__:null,Decimation:dP,Filler:DP,Legend:NP,SubTitle:$P,Title:FP,Tooltip:KP});const GP=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function YP(t,e,n,i){const s=t.indexOf(e);if(s===-1)return GP(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const XP=(t,e)=>t===null?null:ze(Math.round(t),0,e);class vu extends ps{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ee(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:YP(i,e,H(n,e),this._addedLabels),XP(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}vu.id="category";vu.defaults={ticks:{callback:vu.prototype.getLabelForValue}};function QP(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=r||1,p=c-1,{min:y,max:_}=e,g=!ee(o),m=!ee(a),v=!ee(u),w=(_-y)/(h+1);let x=ey((_-y)/p/f)*f,k,S,b,E;if(x<1e-14&&!g&&!m)return[{value:y},{value:_}];E=Math.ceil(_/x)-Math.floor(y/x),E>p&&(x=ey(E*x/p/f)*f),ee(l)||(k=Math.pow(10,l),x=Math.ceil(x*k)/k),s==="ticks"?(S=Math.floor(y/x)*x,b=Math.ceil(_/x)*x):(S=y,b=_),g&&m&&r&&FT((a-o)/r,x/1e3)?(E=Math.round(Math.min((a-o)/x,c)),x=(a-o)/E,S=o,b=a):v?(S=g?o:S,b=m?a:b,E=u-1,x=(b-S)/E):(E=(b-S)/x,ao(E,Math.round(E),x/1e3)?E=Math.round(E):E=Math.ceil(E));const I=Math.max(ty(x),ty(S));k=Math.pow(10,ee(l)?I:l),S=Math.round(S*k)/k,b=Math.round(b*k)/k;let O=0;for(g&&(d&&S!==o?(n.push({value:o}),S<o&&O++,ao(Math.round((S+O*x)*k)/k,o,iv(o,w,t))&&O++):S<o&&O++);O<E;++O)n.push({value:Math.round((S+O*x)*k)/k});return m&&d&&b!==a?n.length&&ao(n[n.length-1].value,a,iv(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!m||b===a)&&n.push({value:b}),n}function iv(t,e,{horizontal:n,minRotation:i}){const s=Yt(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class _u extends ps{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=un(s),u=un(r);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=QP(s,r);return e.bounds==="ticks"&&qw(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return la(e,this.chart.options.locale,this.options.ticks.format)}}class Np extends _u{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ce(e)?e:0,this.max=Ce(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Yt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Np.id="linear";Np.defaults={ticks:{callback:cc.formatters.numeric}};function sv(t){return t/Math.pow(10,Math.floor(Ft(t)))===1}function JP(t,e){const n=Math.floor(Ft(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),s=[];let r=Ot(t.min,Math.pow(10,Math.floor(Ft(e.min)))),o=Math.floor(Ft(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do s.push({value:r,major:sv(r)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<i);const u=Ot(t.max,r);return s.push({value:u,major:sv(r)}),s}class Lp extends ps{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=_u.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ce(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ce(e)?Math.max(0,e):null,this.max=Ce(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=e?i:l,o=l=>s=n?s:l,a=(l,u)=>Math.pow(10,Math.floor(Ft(l))+u);i===s&&(i<=0?(r(1),o(10)):(r(a(i,-1)),o(a(s,1)))),i<=0&&r(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&r(a(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=JP(n,this);return e.bounds==="ticks"&&qw(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":la(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ft(e),this._valueRange=Ft(this.max)-Ft(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ft(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Lp.id="logarithmic";Lp.defaults={ticks:{callback:cc.formatters.logarithmic,major:{enabled:!0}}};function Yd(t){const e=t.ticks;if(e.display&&t.display){const n=at(e.backdropPadding);return H(e.font&&e.font.size,X.font.size)+n.height}return 0}function ZP(t,e,n){return n=de(n)?n:[n],{w:cC(t,e.string,n),h:n.length*e.lineHeight}}function rv(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function eM(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ve/r:0;for(let l=0;l<r;l++){const u=o.setContext(t.getPointLabelContext(l));s[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+s[l],a),h=Ne(u.font),d=ZP(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=Tt(t.getIndexAngle(l)+a),p=Math.round(bp(f)),y=rv(p,c.x,d.w,0,180),_=rv(p,c.y,d.h,90,270);tM(n,e,f,y,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=nM(t,i,s)}function tM(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function nM(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,o=Yd(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?ve/s:0;for(let u=0;u<s;u++){const c=t.getPointPosition(u,a+o+n[u],l),h=Math.round(bp(Tt(c.angle+Ee))),d=e[u],f=rM(c.y,d.h,h),p=iM(h),y=sM(c.x,d.w,p);i.push({x:c.x,y:f,textAlign:p,left:y,top:f,right:y+d.w,bottom:f+d.h})}return i}function iM(t){return t===0||t===180?"center":t<180?"left":"right"}function sM(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function rM(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function oM(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=i.setContext(t.getPointLabelContext(s)),o=Ne(r.font),{x:a,y:l,textAlign:u,left:c,top:h,right:d,bottom:f}=t._pointLabelItems[s],{backdropColor:p}=r;if(!ee(p)){const y=Hi(r.borderRadius),_=at(r.backdropPadding);n.fillStyle=p;const g=c-_.left,m=h-_.top,v=d-c+_.width,w=f-h+_.height;Object.values(y).some(x=>x!==0)?(n.beginPath(),Vo(n,{x:g,y:m,w:v,h:w,radius:y}),n.fill()):n.fillRect(g,m,v,w)}is(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:u,textBaseline:"middle"})}}function L1(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,le);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function aM(t,e,n,i){const s=t.ctx,r=e.circular,{color:o,lineWidth:a}=e;!r&&!i||!o||!a||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=a,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),L1(t,n,r,i),s.closePath(),s.stroke(),s.restore())}function lM(t,e,n){return Si(t,{label:n,index:e,type:"pointLabel"})}class da extends _u{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=at(Yd(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ce(e)&&!isNaN(e)?e:0,this.max=Ce(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Yd(this.options))}generateTickLabels(e){_u.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=ce(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?eM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=le/(this._pointLabels.length||1),i=this.options.startAngle||0;return Tt(e*n+Yt(i))}getDistanceFromCenterForValue(e){if(ee(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ee(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return lM(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Ee+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),L1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s}=n,r=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&oM(this,r),s.display&&this.ticks.forEach((u,c)=>{if(c!==0){a=this.getDistanceFromCenterForValue(u.value);const h=s.setContext(this.getContext(c-1));aM(this,h,a,r)}}),i.display){for(e.save(),o=r-1;o>=0;o--){const u=i.setContext(this.getPointLabelContext(o)),{color:c,lineWidth:h}=u;!h||!c||(e.lineWidth=h,e.strokeStyle=c,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),c=Ne(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const h=at(u.backdropPadding);e.fillRect(-o/2-h.left,-r-c.size/2-h.top,o+h.width,c.size+h.height)}is(e,a.label,0,-r,c,{color:u.color})}),e.restore()}drawTitle(){}}da.id="radialLinear";da.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};da.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};da.descriptors={angleLines:{_fallback:"grid"}};const pc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yt=Object.keys(pc);function uM(t,e){return t-e}function ov(t,e){if(ee(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ce(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Fo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function av(t,e,n,i){const s=yt.length;for(let r=yt.indexOf(t);r<s-1;++r){const o=pc[yt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return yt[r]}return yt[s-1]}function cM(t,e,n,i,s){for(let r=yt.length-1;r>=yt.indexOf(n);r--){const o=yt[r];if(pc[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return yt[n?yt.indexOf(n):0]}function hM(t){for(let e=yt.indexOf(t)+1,n=yt.length;e<n;++e)if(pc[yt[e]].common)return yt[e]}function lv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Ip(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function dM(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function uv(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:dM(t,i,s,n)}class fa extends ps{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),s=this._adapter=new OI._date(e.adapters.date);oo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ov(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ce(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ce(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=xC(s,r,o);return this._unit=n.unit||(i.autoSkip?av(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):cM(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:hM(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),uv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ze(n,0,o),i=ze(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||av(r.minUnit,n,i,this._getLabelCapacity(n)),a=H(r.stepSize,1),l=o==="week"?r.isoWeekday:!1,u=Fo(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)lv(c,d,p);return(d===i||s.bounds==="ticks"||f===1)&&lv(c,d,p),Object.keys(c).sort((y,_)=>y-_).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.time.displayFormats,a=this._unit,l=this._majorUnit,u=a&&o[a],c=l&&o[l],h=i[n],d=l&&c&&h&&h.major,f=this._adapter.format(e,s||(d?c:u)),p=r.ticks.callback;return p?ce(p,[f,n,i],this):f}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Yt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,uv(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(ov(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return n1(e.sort(uM))}}fa.id="time";fa.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function ul(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=En(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=En(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const u=o-r;return u?a+(l-a)*(e-r)/u:a}class Fp extends fa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ul(n,this.min),this._tableRange=ul(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)c=s[o+1],l=s[o-1],u=s[o],Math.round((c+l)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ul(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ul(this._table,i*this._tableRange+this._minPos,!0)}}Fp.id="timeseries";Fp.defaults=fa.defaults;var fM=Object.freeze({__proto__:null,CategoryScale:vu,LinearScale:Np,LogarithmicScale:Lp,RadialLinearScale:da,TimeScale:fa,TimeSeriesScale:Fp});const F1=[RI,lP,qP,fM],$1="label";function cv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function pM(t,e){Object.assign(t.options,e)}function z1(t,e){t.labels=e}function V1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$1;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function gM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$1;const n={labels:[],datasets:[]};return z1(n,t.labels),V1(n,t.datasets,e),n}function mM(t,e){let{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...d}=t;const f=z.exports.useRef(null),p=z.exports.useRef(),y=()=>{!f.current||(p.current=new vr(f.current,{type:o,data:gM(a,r),options:l&&{...l},plugins:u}),cv(e,p.current))},_=()=>{cv(e,null),p.current&&(p.current.destroy(),p.current=null)};return z.exports.useEffect(()=>{!s&&p.current&&l&&pM(p.current,l)},[s,l]),z.exports.useEffect(()=>{!s&&p.current&&z1(p.current.config.data,a.labels)},[s,a.labels]),z.exports.useEffect(()=>{!s&&p.current&&a.datasets&&V1(p.current.config.data,a.datasets,r)},[s,a.datasets]),z.exports.useEffect(()=>{!p.current||(s?(_(),setTimeout(y)):p.current.update(h))},[s,l,a.labels,a.datasets,h]),z.exports.useEffect(()=>{!p.current||(_(),setTimeout(y))},[o]),z.exports.useEffect(()=>(y(),()=>_()),[]),R("canvas",{...Object.assign({ref:f,role:"img",height:n,width:i},d),children:c})}const yM=z.exports.forwardRef(mM);function B1(t,e){return vr.register(e),z.exports.forwardRef((n,i)=>R(yM,{...Object.assign({},n,{ref:i,type:t})}))}const vM=B1("bar",ua),_M=B1("pie",ac);vr.register(...F1);const wM=({datas:t})=>R(vM,{data:t});vr.register(...F1);const xM=({datas:t})=>R(_M,{data:t});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),i.push(n[c],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||u==null||h==null)throw Error();const d=r<<2|a>>4;if(i.push(d),u!==64){const f=a<<4&240|u>>2;if(i.push(f),h!==64){const p=u<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bM=function(t){const e=U1(t);return j1.encodeByteArray(e,!0)},H1=function(t){return bM(t).replace(/\./g,"")},kM=function(t){try{return j1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function K1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TM(){return Be().indexOf("Electron/")>=0}function G1(){const t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CM(){return Be().indexOf("MSAppHost/")>=0}function IM(){return typeof indexedDB=="object"}function AM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="FirebaseError";class gs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=PM,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?MM(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gs(s,a,i)}}function MM(t,e){return t.replace(DM,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const DM=/\{\$([^}]+)}/g;function RM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(hv(r)&&hv(o)){if(!wu(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function hv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function OM(t,e){const n=new NM(t,e);return n.subscribe.bind(n)}class NM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");LM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Th),s.error===void 0&&(s.error=Th),s.complete===void 0&&(s.complete=Th);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new EM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zM(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$M(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $M(t){return t===Ri?void 0:t}function zM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const BM={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},UM=ie.INFO,jM={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=jM[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=UM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const WM=(t,e)=>e.some(n=>t instanceof n);let dv,fv;function KM(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qM(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,Xd=new WeakMap,X1=new WeakMap,Ch=new WeakMap,zp=new WeakMap;function GM(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(ui(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y1.set(n,t)}).catch(()=>{}),zp.set(e,t),e}function YM(t){if(Xd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Xd.set(t,e)}let Qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XM(t){Qd=t(Qd)}function QM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ih(this),e,...n);return X1.set(i,e.sort?e.sort():[e]),ui(i)}:qM().includes(t)?function(...e){return t.apply(Ih(this),e),ui(Y1.get(this))}:function(...e){return ui(t.apply(Ih(this),e))}}function JM(t){return typeof t=="function"?QM(t):(t instanceof IDBTransaction&&YM(t),WM(t,KM())?new Proxy(t,Qd):t)}function ui(t){if(t instanceof IDBRequest)return GM(t);if(Ch.has(t))return Ch.get(t);const e=JM(t);return e!==t&&(Ch.set(t,e),zp.set(e,t)),e}const Ih=t=>zp.get(t);function ZM(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=ui(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ui(o.result),l.oldVersion,l.newVersion,ui(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const eD=["get","getKey","getAll","getAllKeys","count"],tD=["put","add","delete","clear"],Ah=new Map;function pv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=tD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||eD.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Ah.set(e,r),r}XM(t=>({...t,get:(e,n,i)=>pv(e,n)||t.get(e,n,i),has:(e,n)=>!!pv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jd="@firebase/app",gv="0.7.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new $p("@firebase/app"),sD="@firebase/app-compat",rD="@firebase/analytics-compat",oD="@firebase/analytics",aD="@firebase/app-check-compat",lD="@firebase/app-check",uD="@firebase/auth",cD="@firebase/auth-compat",hD="@firebase/database",dD="@firebase/database-compat",fD="@firebase/functions",pD="@firebase/functions-compat",gD="@firebase/installations",mD="@firebase/installations-compat",yD="@firebase/messaging",vD="@firebase/messaging-compat",_D="@firebase/performance",wD="@firebase/performance-compat",xD="@firebase/remote-config",SD="@firebase/remote-config-compat",bD="@firebase/storage",kD="@firebase/storage-compat",ED="@firebase/firestore",TD="@firebase/firestore-compat",CD="firebase",ID="9.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="[DEFAULT]",AD={[Jd]:"fire-core",[sD]:"fire-core-compat",[oD]:"fire-analytics",[rD]:"fire-analytics-compat",[lD]:"fire-app-check",[aD]:"fire-app-check-compat",[uD]:"fire-auth",[cD]:"fire-auth-compat",[hD]:"fire-rtdb",[dD]:"fire-rtdb-compat",[fD]:"fire-fn",[pD]:"fire-fn-compat",[gD]:"fire-iid",[mD]:"fire-iid-compat",[yD]:"fire-fcm",[vD]:"fire-fcm-compat",[_D]:"fire-perf",[wD]:"fire-perf-compat",[xD]:"fire-rc",[SD]:"fire-rc-compat",[bD]:"fire-gcs",[kD]:"fire-gcs-compat",[ED]:"fire-fst",[TD]:"fire-fst-compat","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Map,Zd=new Map;function PD(t,e){try{t.container.addComponent(e)}catch(n){Vp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ir(t){const e=t.name;if(Zd.has(e))return Vp.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,t);for(const n of xu.values())PD(n,t);return!0}function Bp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},rs=new pa("app","Firebase",MD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=ID;function RD(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Q1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});const s=xu.get(i);if(s){if(wu(t,s.options)&&wu(n,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const r=new VM(i);for(const a of Zd.values())r.addComponent(a);const o=new DD(t,n,r);return xu.set(i,o),o}function J1(t=Q1){const e=xu.get(t);if(!e)throw rs.create("no-app",{appName:t});return e}function ci(t,e,n){var i;let s=(i=AD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vp.warn(a.join(" "));return}ir(new ss(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebase-heartbeat-database",ND=1,Uo="firebase-heartbeat-store";let Ph=null;function Z1(){return Ph||(Ph=ZM(OD,ND,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uo)}}}).catch(t=>{throw rs.create("storage-open",{originalErrorMessage:t.message})})),Ph}async function LD(t){var e;try{return(await Z1()).transaction(Uo).objectStore(Uo).get(ex(t))}catch(n){throw rs.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function mv(t,e){var n;try{const s=(await Z1()).transaction(Uo,"readwrite");return await s.objectStore(Uo).put(e,ex(t)),s.done}catch(i){throw rs.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,$D=30*24*60*60*1e3;class zD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=$D}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yv(),{heartbeatsToSend:n,unsentEntries:i}=VD(this._heartbeatsCache.heartbeats),s=H1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yv(){return new Date().toISOString().substring(0,10)}function VD(t,e=FD){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),vv(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IM()?AM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vv(t){return H1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){ir(new ss("platform-logger",e=>new nD(e),"PRIVATE")),ir(new ss("heartbeat",e=>new zD(e),"PRIVATE")),ci(Jd,gv,t),ci(Jd,gv,"esm2017"),ci("fire-js","")}UD("");var jD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},D,Up=Up||{},U=jD||self;function Su(){}function ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function va(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HD(t){return Object.prototype.hasOwnProperty.call(t,Mh)&&t[Mh]||(t[Mh]=++WD)}var Mh="closure_uid_"+(1e9*Math.random()>>>0),WD=0;function KD(t,e,n){return t.call.apply(t.bind,arguments)}function qD(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ye(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ye=KD:Ye=qD,Ye.apply(null,arguments)}function cl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function ki(){this.s=this.s,this.o=this.o}var GD=0;ki.prototype.s=!1;ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),GD!=0)&&HD(this)};ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},nx=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<i;r++)r in s&&e.call(n,s[r],r,t)};function YD(t){e:{var e=VR;const n=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<n;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function _v(t){return Array.prototype.concat.apply([],arguments)}function jp(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function bu(t){return/^[\s\xa0]*$/.test(t)}var wv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ut(t,e){return t.indexOf(e)!=-1}function Dh(t,e){return t<e?-1:t>e?1:0}var ct;e:{var xv=U.navigator;if(xv){var Sv=xv.userAgent;if(Sv){ct=Sv;break e}}ct=""}function Hp(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function ix(t){const e={};for(const n in t)e[n]=t[n];return e}var bv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sx(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<bv.length;r++)n=bv[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Wp(t){return Wp[" "](t),t}Wp[" "]=Su;function XD(t){var e=ZD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var QD=ut(ct,"Opera"),sr=ut(ct,"Trident")||ut(ct,"MSIE"),rx=ut(ct,"Edge"),tf=rx||sr,ox=ut(ct,"Gecko")&&!(ut(ct.toLowerCase(),"webkit")&&!ut(ct,"Edge"))&&!(ut(ct,"Trident")||ut(ct,"MSIE"))&&!ut(ct,"Edge"),JD=ut(ct.toLowerCase(),"webkit")&&!ut(ct,"Edge");function ax(){var t=U.document;return t?t.documentMode:void 0}var ku;e:{var Rh="",Oh=function(){var t=ct;if(ox)return/rv:([^\);]+)(\)|;)/.exec(t);if(rx)return/Edge\/([\d\.]+)/.exec(t);if(sr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(JD)return/WebKit\/(\S+)/.exec(t);if(QD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Oh&&(Rh=Oh?Oh[1]:""),sr){var Nh=ax();if(Nh!=null&&Nh>parseFloat(Rh)){ku=String(Nh);break e}}ku=Rh}var ZD={};function eR(){return XD(function(){let t=0;const e=wv(String(ku)).split("."),n=wv("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s[0].length==0&&r[0].length==0)break;t=Dh(s[1].length==0?0:parseInt(s[1],10),r[1].length==0?0:parseInt(r[1],10))||Dh(s[2].length==0,r[2].length==0)||Dh(s[2],r[2]),s=s[3],r=r[3]}while(t==0)}return 0<=t})}var nf;if(U.document&&sr){var kv=ax();nf=kv||parseInt(ku,10)||void 0}else nf=void 0;var tR=nf,nR=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{U.addEventListener("test",Su,e),U.removeEventListener("test",Su,e)}catch{}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};function jo(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ox){e:{try{Wp(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jo.Z.h.call(this)}}Ze(jo,rt);var iR={2:"touch",3:"pen",4:"mouse"};jo.prototype.h=function(){jo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _a="closure_listenable_"+(1e6*Math.random()|0),sR=0;function rR(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=s,this.key=++sR,this.ca=this.fa=!1}function gc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mc(t){this.src=t,this.g={},this.h=0}mc.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=rf(t,e,i,s);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new rR(e,this.src,r,!!i,s),e.fa=n,t.push(e)),e};function sf(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=tx(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(gc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rf(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ca&&r.listener==e&&r.capture==!!n&&r.ia==i)return s}return-1}var Kp="closure_lm_"+(1e6*Math.random()|0),Lh={};function lx(t,e,n,i,s){if(i&&i.once)return cx(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)lx(t,e[r],n,i,s);return null}return n=Yp(n),t&&t[_a]?t.N(e,n,va(i)?!!i.capture:!!i,s):ux(t,e,n,!1,i,s)}function ux(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=va(s)?!!s.capture:!!s,a=Gp(t);if(a||(t[Kp]=a=new mc(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=oR(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)nR||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(dx(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oR(){function t(n){return e.call(t.src,t.listener,n)}var e=aR;return t}function cx(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)cx(t,e[r],n,i,s);return null}return n=Yp(n),t&&t[_a]?t.O(e,n,va(i)?!!i.capture:!!i,s):ux(t,e,n,!0,i,s)}function hx(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)hx(t,e[r],n,i,s);else i=va(i)?!!i.capture:!!i,n=Yp(n),t&&t[_a]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=rf(r,n,i,s),-1<n&&(gc(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rf(e,n,i,s)),(n=-1<t?e[t]:null)&&qp(n))}function qp(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[_a])sf(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(dx(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Gp(e))?(sf(n,t),n.h==0&&(n.src=null,e[Kp]=null)):gc(t)}}}function dx(t){return t in Lh?Lh[t]:Lh[t]="on"+t}function aR(t,e){if(t.ca)t=!0;else{e=new jo(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&qp(t),t=n.call(i,e)}return t}function Gp(t){return t=t[Kp],t instanceof mc?t:null}var Fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(t){return typeof t=="function"?t:(t[Fh]||(t[Fh]=function(e){return t.handleEvent(e)}),t[Fh])}function Ue(){ki.call(this),this.i=new mc(this),this.P=this,this.I=null}Ze(Ue,ki);Ue.prototype[_a]=!0;Ue.prototype.removeEventListener=function(t,e,n,i){hx(this,t,e,n,i)};function Xe(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var s=e;e=new rt(i,t),sx(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=hl(o,i,!0,e)&&s}if(o=e.g=t,s=hl(o,i,!0,e)&&s,s=hl(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=hl(o,i,!1,e)&&s}Ue.prototype.M=function(){if(Ue.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)gc(n[i]);delete t.g[e],t.h--}}this.I=null};Ue.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ue.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function hl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&sf(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var Xp=U.JSON.stringify;function lR(){var t=px;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uR{constructor(){this.h=this.g=null}add(e,n){const i=fx.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var fx=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new cR,t=>t.reset());class cR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hR(t){U.setTimeout(()=>{throw t},0)}function Qp(t,e){of||dR(),af||(of(),af=!0),px.add(t,e)}var of;function dR(){var t=U.Promise.resolve(void 0);of=function(){t.then(fR)}}var af=!1,px=new uR;function fR(){for(var t;t=lR();){try{t.h.call(t.g)}catch(n){hR(n)}var e=fx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}af=!1}function yc(t,e){Ue.call(this),this.h=t||1,this.g=e||U,this.j=Ye(this.kb,this),this.l=Date.now()}Ze(yc,Ue);D=yc.prototype;D.da=!1;D.S=null;D.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xe(this,"tick"),this.da&&(Jp(this),this.start()))}};D.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Jp(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}D.M=function(){yc.Z.M.call(this),Jp(this),delete this.g};function Zp(t,e,n){if(typeof t=="function")n&&(t=Ye(t,n));else if(t&&typeof t.handleEvent=="function")t=Ye(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function gx(t){t.g=Zp(()=>{t.g=null,t.i&&(t.i=!1,gx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class pR extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gx(this)}M(){super.M(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(t){ki.call(this),this.h=t,this.g={}}Ze(Ho,ki);var Ev=[];function mx(t,e,n,i){Array.isArray(n)||(n&&(Ev[0]=n.toString()),n=Ev);for(var s=0;s<n.length;s++){var r=lx(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function yx(t){Hp(t.g,function(e,n){this.g.hasOwnProperty(n)&&qp(e)},t),t.g={}}Ho.prototype.M=function(){Ho.Z.M.call(this),yx(this)};Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vc(){this.g=!0}vc.prototype.Aa=function(){this.g=!1};function gR(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function mR(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function Rs(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vR(t,n)+(i?" "+i:"")})}function yR(t,e){t.info(function(){return"TIMEOUT: "+e})}vc.prototype.info=function(){};function vR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Xp(n)}catch{return e}}var ms={},Tv=null;function _c(){return Tv=Tv||new Ue}ms.Ma="serverreachability";function vx(t){rt.call(this,ms.Ma,t)}Ze(vx,rt);function Wo(t){const e=_c();Xe(e,new vx(e))}ms.STAT_EVENT="statevent";function _x(t,e){rt.call(this,ms.STAT_EVENT,t),this.stat=e}Ze(_x,rt);function ht(t){const e=_c();Xe(e,new _x(e,t))}ms.Na="timingevent";function wx(t,e){rt.call(this,ms.Na,t),this.size=e}Ze(wx,rt);function wa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var wc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xx={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eg(){}eg.prototype.h=null;function Cv(t){return t.h||(t.h=t.i())}function Sx(){}var xa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tg(){rt.call(this,"d")}Ze(tg,rt);function ng(){rt.call(this,"c")}Ze(ng,rt);var lf;function xc(){}Ze(xc,eg);xc.prototype.g=function(){return new XMLHttpRequest};xc.prototype.i=function(){return{}};lf=new xc;function Sa(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Ho(this),this.P=_R,t=tf?125:void 0,this.W=new yc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bx}function bx(){this.i=null,this.g="",this.h=!1}var _R=45e3,uf={},Eu={};D=Sa.prototype;D.setTimeout=function(t){this.P=t};function cf(t,e,n){t.K=1,t.v=bc(Nn(e)),t.s=n,t.U=!0,kx(t,null)}function kx(t,e){t.F=Date.now(),ba(t),t.A=Nn(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Mx(n.h,"t",i),t.C=0,n=t.l.H,t.h=new bx,t.g=Qx(t.l,n?e:null,!t.s),0<t.O&&(t.L=new pR(Ye(t.Ia,t,t.g),t.O)),mx(t.V,t.g,"readystatechange",t.gb),e=t.H?ix(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Wo(),gR(t.j,t.u,t.A,t.m,t.X,t.s)}D.gb=function(t){t=t.target;const e=this.L;e&&Cn(t)==3?e.l():this.Ia(t)};D.Ia=function(t){try{if(t==this.g)e:{const c=Cn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||tf||this.g&&(this.h.h||this.g.ga()||Mv(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Wo(3):Wo(2)),Sc(this);var n=this.g.ba();this.N=n;t:if(Ex(this)){var i=Mv(this.g);t="";var s=i.length,r=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){$i(this),ho(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,mR(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bu(a)){var u=a;break t}}u=null}if(n=u)Rs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hf(this,n);else{this.i=!1,this.o=3,ht(12),$i(this),ho(this);break e}}this.U?(Tx(this,c,o),tf&&this.i&&c==3&&(mx(this.V,this.W,"tick",this.fb),this.W.start())):(Rs(this.j,this.m,o,null),hf(this,o)),c==4&&$i(this),this.i&&!this.I&&(c==4?qx(this.l,this):(this.i=!1,ba(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ht(12)):(this.o=0,ht(13)),$i(this),ho(this)}}}catch{}finally{}};function Ex(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Tx(t,e,n){let i=!0,s;for(;!t.I&&t.C<n.length;)if(s=wR(t,n),s==Eu){e==4&&(t.o=4,ht(14),i=!1),Rs(t.j,t.m,null,"[Incomplete Response]");break}else if(s==uf){t.o=4,ht(15),Rs(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Rs(t.j,t.m,s,null),hf(t,s);Ex(t)&&s!=Eu&&s!=uf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ht(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hg(e),e.L=!0,ht(11))):(Rs(t.j,t.m,n,"[Invalid Chunked Response]"),$i(t),ho(t))}D.fb=function(){if(this.g){var t=Cn(this.g),e=this.g.ga();this.C<e.length&&(Sc(this),Tx(this,t,e),this.i&&t!=4&&ba(this))}};function wR(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Eu:(n=Number(e.substring(n,i)),isNaN(n)?uf:(i+=1,i+n>e.length?Eu:(e=e.substr(i,n),t.C=i+n,e)))}D.cancel=function(){this.I=!0,$i(this)};function ba(t){t.Y=Date.now()+t.P,Cx(t,t.P)}function Cx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=wa(Ye(t.eb,t),e)}function Sc(t){t.B&&(U.clearTimeout(t.B),t.B=null)}D.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yR(this.j,this.A),this.K!=2&&(Wo(),ht(17)),$i(this),this.o=2,ho(this)):Cx(this,this.Y-t)};function ho(t){t.l.G==0||t.I||qx(t.l,t)}function $i(t){Sc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Jp(t.W),yx(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function hf(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||df(n.i,t))){if(n.I=t.N,!t.J&&df(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Au(n),Tc(n);else break e;cg(n),ht(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=wa(Ye(n.ab,n),6e3));if(1>=Ox(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else zi(n,11)}else if((t.J||n.g==t)&&Au(n),!bu(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;!r.g&&(ut(p,"spdy")||ut(p,"quic")||ut(p,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(rg(r,r.h),r.h=null))}if(i.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,ye(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=t;if(i.oa=Xx(i,i.H?i.la:null,i.W),o.J){Nx(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(Sc(a),ba(a)),i.g=o}else Wx(i);0<n.l.length&&Cc(n)}else u[0]!="stop"&&u[0]!="close"||zi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zi(n,7):ug(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Wo(4)}catch{}}function xR(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(ef(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function ig(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ef(t)||typeof t=="string")nx(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(ef(t)||typeof t=="string"){n=[];for(var i=t.length,s=0;s<i;s++)n.push(s)}else for(s in n=[],i=0,t)n[i++]=s;i=xR(t),s=i.length;for(var r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}}function _r(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof _r)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}D=_r.prototype;D.R=function(){sg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};D.T=function(){return sg(this),this.g.concat()};function sg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];os(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)i=t.g[e],os(s,i)||(t.g[n++]=i,s[i]=1),e++;t.g.length=n}}D.get=function(t,e){return os(this.h,t)?this.h[t]:e};D.set=function(t,e){os(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};D.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var s=n[i],r=this.get(s);t.call(e,r,s,this)}};function os(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ix=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function SR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function as(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof as){this.g=e!==void 0?e:t.g,Tu(this,t.j),this.s=t.s,Cu(this,t.i),Iu(this,t.m),this.l=t.l,e=t.h;var n=new Ko;n.i=e.i,e.g&&(n.g=new _r(e.g),n.h=e.h),Iv(this,n),this.o=t.o}else t&&(n=String(t).match(Ix))?(this.g=!!e,Tu(this,n[1]||"",!0),this.s=fo(n[2]||""),Cu(this,n[3]||"",!0),Iu(this,n[4]),this.l=fo(n[5]||"",!0),Iv(this,n[6]||"",!0),this.o=fo(n[7]||"")):(this.g=!!e,this.h=new Ko(null,this.g))}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yr(e,Av,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yr(e,Av,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Yr(n,n.charAt(0)=="/"?CR:TR,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yr(n,AR)),t.join("")};function Nn(t){return new as(t)}function Tu(t,e,n){t.j=n?fo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cu(t,e,n){t.i=n?fo(e,!0):e}function Iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Iv(t,e,n){e instanceof Ko?(t.h=e,PR(t.h,t.g)):(n||(e=Yr(e,IR)),t.h=new Ko(e,t.g))}function ye(t,e,n){t.h.set(e,n)}function bc(t){return ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bR(t){return t instanceof as?Nn(t):new as(t,void 0)}function kR(t,e,n,i){var s=new as(null,void 0);return t&&Tu(s,t),e&&Cu(s,e),n&&Iu(s,n),i&&(s.l=i),s}function fo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ER),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ER(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Av=/[#\/\?@]/g,TR=/[#\?:]/g,CR=/[#\?]/g,IR=/[#\?@]/g,AR=/#/g;function Ko(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ei(t){t.g||(t.g=new _r,t.h=0,t.i&&SR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=Ko.prototype;D.add=function(t,e){Ei(this),this.i=null,t=wr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ax(t,e){Ei(t),e=wr(t,e),os(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,os(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&sg(t)))}function Px(t,e){return Ei(t),e=wr(t,e),os(t.g.h,e)}D.forEach=function(t,e){Ei(this),this.g.forEach(function(n,i){nx(n,function(s){t.call(e,s,i,this)},this)},this)};D.T=function(){Ei(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var s=t[i],r=0;r<s.length;r++)n.push(e[i]);return n};D.R=function(t){Ei(this);var e=[];if(typeof t=="string")Px(this,t)&&(e=_v(e,this.g.get(wr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=_v(e,t[n])}return e};D.set=function(t,e){return Ei(this),this.i=null,t=wr(this,t),Px(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Mx(t,e,n){Ax(t,e),0<n.length&&(t.i=null,t.g.set(wr(t,e),jp(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],s=encodeURIComponent(String(i));i=this.R(i);for(var r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function wr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PR(t,e){e&&!t.j&&(Ei(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(Ax(this,i),Mx(this,s,n))},t)),t.j=e}var MR=class{constructor(t,e){this.h=t,this.g=e}};function Dx(t){this.l=t||DR,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ea&&U.g.Ea()&&U.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DR=10;function Rx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ox(t){return t.h?1:t.g?t.g.size:0}function df(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function rg(t,e){t.g?t.g.add(e):t.h=e}function Nx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Dx.prototype.cancel=function(){if(this.i=Lx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Lx(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return jp(t.i)}function og(){}og.prototype.stringify=function(t){return U.JSON.stringify(t,void 0)};og.prototype.parse=function(t){return U.JSON.parse(t,void 0)};function RR(){this.g=new og}function OR(t,e,n){const i=n||"";try{ig(t,function(s,r){let o=s;va(s)&&(o=Xp(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function NR(t,e){const n=new vc;if(U.Image){const i=new Image;i.onload=cl(dl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=cl(dl,n,i,"TestLoadImage: error",!1,e),i.onabort=cl(dl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=cl(dl,n,i,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function dl(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function ka(t){this.l=t.$b||null,this.j=t.ib||!1}Ze(ka,eg);ka.prototype.g=function(){return new kc(this.l,this.j)};ka.prototype.i=function(t){return function(){return t}}({});function kc(t,e){Ue.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(kc,Ue);var ag=0;D=kc.prototype;D.open=function(t,e){if(this.readyState!=ag)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qo(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||U).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=ag};D.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof U.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fx(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Fx(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}D.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ea(this):qo(this),this.readyState==3&&Fx(this)}};D.Ua=function(t){this.g&&(this.response=this.responseText=t,Ea(this))};D.Ta=function(t){this.g&&(this.response=t,Ea(this))};D.ha=function(){this.g&&Ea(this)};function Ea(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qo(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LR=U.JSON.parse;function De(t){Ue.call(this),this.headers=new _r,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$x,this.K=this.L=!1}Ze(De,Ue);var $x="",FR=/^https?$/i,$R=["POST","PUT"];D=De.prototype;D.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lf.g(),this.C=this.u?Cv(this.u):Cv(lf),this.g.onreadystatechange=Ye(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){Pv(this,r);return}t=n||"";const s=new _r(this.headers);i&&ig(i,function(r,o){s.set(o,r)}),i=YD(s.T()),n=U.FormData&&t instanceof U.FormData,!(0<=tx($R,e))||i||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(r,o){this.g.setRequestHeader(o,r)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bx(this),0<this.B&&((this.K=zR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ye(this.pa,this)):this.A=Zp(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Pv(this,r)}};function zR(t){return sr&&eR()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function VR(t){return t.toLowerCase()=="content-type"}D.pa=function(){typeof Up!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function Pv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zx(t),Ec(t)}function zx(t){t.D||(t.D=!0,Xe(t,"complete"),Xe(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),Ec(this))};D.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ec(this,!0)),De.Z.M.call(this)};D.Fa=function(){this.s||(this.F||this.v||this.l?Vx(this):this.cb())};D.cb=function(){Vx(this)};function Vx(t){if(t.h&&typeof Up!="undefined"&&(!t.C[1]||Cn(t)!=4||t.ba()!=2)){if(t.v&&Cn(t)==4)Zp(t.Fa,0,t);else if(Xe(t,"readystatechange"),Cn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var s=String(t.H).match(Ix)[1]||null;if(!s&&U.self&&U.self.location){var r=U.self.location.protocol;s=r.substr(0,r.length-1)}i=!FR.test(s?s.toLowerCase():"")}n=i}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<Cn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",zx(t)}}finally{Ec(t)}}}}function Ec(t,e){if(t.g){Bx(t);const n=t.g,i=t.C[0]?Su:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=i}catch{}}}function Bx(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}function Cn(t){return t.g?t.g.readyState:0}D.ba=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}};D.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LR(e)}};function Mv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case $x:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}D.Da=function(){return this.m};D.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function BR(t){let e="";return Hp(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function lg(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=BR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ye(t,e,n))}function Vr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ux(t){this.za=0,this.l=[],this.h=new vc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vr("baseRetryDelayMs",5e3,t),this.$a=Vr("retryDelaySeedMs",1e4,t),this.Ya=Vr("forwardChannelMaxRetries",2,t),this.ra=Vr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Dx(t&&t.concurrentRequestLimit),this.Ca=new RR,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}D=Ux.prototype;D.ma=8;D.G=1;function ug(t){if(jx(t),t.G==3){var e=t.V++,n=Nn(t.F);ye(n,"SID",t.J),ye(n,"RID",e),ye(n,"TYPE","terminate"),Ta(t,n),e=new Sa(t,t.h,e,void 0),e.K=2,e.v=bc(Nn(n)),n=!1,U.navigator&&U.navigator.sendBeacon&&(n=U.navigator.sendBeacon(e.v.toString(),"")),!n&&U.Image&&(new Image().src=e.v,n=!0),n||(e.g=Qx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ba(e)}Yx(t)}D.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Tc(t){t.g&&(hg(t),t.g.cancel(),t.g=null)}function jx(t){Tc(t),t.u&&(U.clearTimeout(t.u),t.u=null),Au(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function $h(t,e){t.l.push(new MR(t.Za++,e)),t.G==3&&Cc(t)}function Cc(t){Rx(t.i)||t.m||(t.m=!0,Qp(t.Ha,t),t.C=0)}function UR(t,e){return Ox(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=wa(Ye(t.Ha,t,e),Gx(t,t.C)),t.C++,!0)}D.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Sa(this,this.h,t,void 0);let r=this.s;if(this.P&&(r?(r=ix(r),sx(r,this.P)):r=this.P),this.o===null&&(s.H=r),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var i=this.l[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Hx(this,s,e),n=Nn(this.F),ye(n,"RID",t),ye(n,"CVER",22),this.D&&ye(n,"X-HTTP-Session-Id",this.D),Ta(this,n),this.o&&r&&lg(n,this.o,r),rg(this.i,s),this.Ra&&ye(n,"TYPE","init"),this.ja?(ye(n,"$req",e),ye(n,"SID","null"),s.$=!0,cf(s,n,null)):cf(s,n,e),this.G=2}}else this.G==3&&(t?Dv(this,t):this.l.length==0||Rx(this.i)||Dv(this))};function Dv(t,e){var n;e?n=e.m:n=t.V++;const i=Nn(t.F);ye(i,"SID",t.J),ye(i,"RID",n),ye(i,"AID",t.U),Ta(t,i),t.o&&t.s&&lg(i,t.o,t.s),n=new Sa(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Hx(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),rg(t.i,n),cf(n,i,e)}function Ta(t,e){t.j&&ig({},function(n,i){ye(e,i,n)})}function Hx(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Ye(t.j.Oa,t.j,t):null;e:{var s=t.l;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let u=s[l].h;const c=s[l].g;if(u-=r,0>u)r=Math.max(0,s[l].h-100),a=!1;else try{OR(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,i}function Wx(t){t.g||t.u||(t.Y=1,Qp(t.Ga,t),t.A=0)}function cg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=wa(Ye(t.Ga,t),Gx(t,t.A)),t.A++,!0)}D.Ga=function(){if(this.u=null,Kx(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wa(Ye(this.bb,this),t)}};D.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ht(10),Tc(this),Kx(this))};function hg(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function Kx(t){t.g=new Sa(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Nn(t.oa);ye(e,"RID","rpc"),ye(e,"SID",t.J),ye(e,"CI",t.N?"0":"1"),ye(e,"AID",t.U),Ta(t,e),ye(e,"TYPE","xmlhttp"),t.o&&t.s&&lg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=bc(Nn(e)),n.s=null,n.U=!0,kx(n,t)}D.ab=function(){this.v!=null&&(this.v=null,Tc(this),cg(this),ht(19))};function Au(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function qx(t,e){var n=null;if(t.g==e){Au(t),hg(t),t.g=null;var i=2}else if(df(t.i,e))n=e.D,Nx(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=_c(),Xe(i,new wx(i,n)),Cc(t)}else Wx(t);else if(s=e.o,s==3||s==0&&0<t.I||!(i==1&&UR(t,e)||i==2&&cg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:zi(t,5);break;case 4:zi(t,10);break;case 3:zi(t,6);break;default:zi(t,2)}}}function Gx(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zi(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Ye(t.jb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Tu(n,"https"),bc(n)),NR(n.toString(),i)}else ht(2);t.G=0,t.j&&t.j.va(e),Yx(t),jx(t)}D.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ht(2)):(this.h.info("Failed to ping google.com"),ht(1))};function Yx(t){t.G=0,t.I=-1,t.j&&((Lx(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,jp(t.l),t.l.length=0),t.j.ua())}function Xx(t,e,n){let i=bR(n);if(i.i!="")e&&Cu(i,e+"."+i.i),Iu(i,i.m);else{const s=U.location;i=kR(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&Hp(t.aa,function(s,r){ye(i,r,s)}),e=t.D,n=t.sa,e&&n&&ye(i,e,n),ye(i,"VER",t.ma),Ta(t,i),i}function Qx(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new De(new ka({ib:!0})):new De(t.qa),e.L=t.H,e}function Jx(){}D=Jx.prototype;D.xa=function(){};D.wa=function(){};D.va=function(){};D.ua=function(){};D.Oa=function(){};function Pu(){if(sr&&!(10<=Number(tR)))throw Error("Environmental error: no available transport.")}Pu.prototype.g=function(t,e){return new Pt(t,e)};function Pt(t,e){Ue.call(this),this.g=new Ux(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!bu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xr(this)}Ze(Pt,Ue);Pt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Qp(Ye(t.hb,t,e))),ht(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Xx(t,null,t.W),Cc(t)};Pt.prototype.close=function(){ug(this.g)};Pt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,$h(this.g,e)}else this.v?(e={},e.__data__=Xp(t),$h(this.g,e)):$h(this.g,t)};Pt.prototype.M=function(){this.g.j=null,delete this.j,ug(this.g),delete this.g,Pt.Z.M.call(this)};function Zx(t){tg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(Zx,tg);function eS(){ng.call(this),this.status=1}Ze(eS,ng);function xr(t){this.g=t}Ze(xr,Jx);xr.prototype.xa=function(){Xe(this.g,"a")};xr.prototype.wa=function(t){Xe(this.g,new Zx(t))};xr.prototype.va=function(t){Xe(this.g,new eS)};xr.prototype.ua=function(){Xe(this.g,"b")};Pu.prototype.createWebChannel=Pu.prototype.g;Pt.prototype.send=Pt.prototype.u;Pt.prototype.open=Pt.prototype.m;Pt.prototype.close=Pt.prototype.close;wc.NO_ERROR=0;wc.TIMEOUT=8;wc.HTTP_ERROR=6;xx.COMPLETE="complete";Sx.EventType=xa;xa.OPEN="a";xa.CLOSE="b";xa.ERROR="c";xa.MESSAGE="d";Ue.prototype.listen=Ue.prototype.N;De.prototype.listenOnce=De.prototype.O;De.prototype.getLastError=De.prototype.La;De.prototype.getLastErrorCode=De.prototype.Da;De.prototype.getStatus=De.prototype.ba;De.prototype.getResponseJson=De.prototype.Qa;De.prototype.getResponseText=De.prototype.ga;De.prototype.send=De.prototype.ea;var jR=function(){return new Pu},HR=function(){return _c()},zh=wc,WR=xx,KR=ms,Rv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qR=ka,fl=Sx,GR=De;const Ov="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr="9.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new $p("@firebase/firestore");function Nv(){return ls.logLevel}function N(t,...e){if(ls.logLevel<=ie.DEBUG){const n=e.map(dg);ls.debug(`Firestore (${Sr}): ${t}`,...n)}}function gi(t,...e){if(ls.logLevel<=ie.ERROR){const n=e.map(dg);ls.error(`Firestore (${Sr}): ${t}`,...n)}}function Lv(t,...e){if(ls.logLevel<=ie.WARN){const n=e.map(dg);ls.warn(`Firestore (${Sr}): ${t}`,...n)}}function dg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function Me(t,e){t||K()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ki,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new YR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new gt(e)}}class JR{constructor(e,n,i){this.type="FirstParty",this.user=gt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZR{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new JR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const i=r=>{r.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.p;return this.p=r.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?s(r):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.p=n.token,new eO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=nO(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function rr(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new kt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new kt(0,0))}static max(){return new q(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(),i===void 0?i=e.length-n:i>e.length-n&&K(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Go{construct(e,n,i){return new ke(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new V(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Go{construct(e,n,i){return new vt(e,n,i)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new V(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new V(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new V(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(ke.fromString(e))}static fromName(e){return new L(ke.fromString(e).popFirst(5))}static empty(){return new L(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new ke(e.slice()))}}function rO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=q.fromTimestamp(i===1e9?new kt(n+1,0):new kt(n,i));return new mi(s,L.empty(),e)}function oO(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new mi(q.min(),L.empty(),-1)}static max(){return new mi(q.max(),L.empty(),-1)}}function aO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==lO)throw t;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,i)=>{n(e)})}static reject(e){return new C((n,i)=>{i(e)})}static waitFor(e){return new C((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=C.resolve(!1);for(const i of e)n=n.next(s=>s?C.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new C((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===r&&i(o)},c=>s(c))}})}static doWhile(e,n){return new C((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function Ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.it(i),this.rt=i=>n.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ic(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pg.ot=-1;class je{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i!=null?i:We.RED,this.left=s!=null?s:We.EMPTY,this.right=r!=null?r:We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new We(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return We.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,i,s){return this}insert(t,e,n){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Le(vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rr(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Je(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new Je(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const hO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Me(!!t),typeof t=="string"){let e=0;const n=hO.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nS(t){const e=t.mapValue.fields.__previous_value__;return tS(e)?nS(e):e}function Yo(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,i,s,r,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ar{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ar("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ar&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){return t==null}function ff(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tS(t)?4:fO(t)?9007199254740991:10:K()}function fn(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yo(t).isEqual(Yo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=yi(i.timestampValue),o=yi(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return or(i.bytesValue).isEqual(or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Ae(i.doubleValue),o=Ae(s.doubleValue);return r===o?ff(r)===ff(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return rr(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Fv(r)!==Fv(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!fn(r[a],o[a])))return!1;return!0}(t,e);default:return K()}}function Xo(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function lr(t,e){if(t===e)return 0;const n=us(t),i=us(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=Ae(s.integerValue||s.doubleValue),a=Ae(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return zv(t.timestampValue,e.timestampValue);case 4:return zv(Yo(t),Yo(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,r){const o=or(s),a=or(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=oe(o[l],a[l]);if(u!==0)return u}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=oe(Ae(s.latitude),Ae(r.latitude));return o!==0?o:oe(Ae(s.longitude),Ae(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=lr(o[l],a[l]);if(u)return u}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===gl.mapValue&&r===gl.mapValue)return 0;if(s===gl.mapValue)return 1;if(r===gl.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=oe(a[c],u[c]);if(h!==0)return h;const d=lr(o[a[c]],l[u[c]]);if(d!==0)return d}return oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw K()}}function zv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=yi(t),i=yi(e),s=oe(n.seconds,i.seconds);return s!==0?s:oe(n.nanos,i.nanos)}function js(t){return pf(t)}function pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=yi(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?or(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,L.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=pf(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${pf(i.fields[a])}`;return r+"}"}(t.mapValue):K();var e,n}function gf(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function Bv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ic(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=po(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(n)}setAll(e){let n=vt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=po(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ic(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new on(po(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n,i,s,r,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.data=r,this.documentState=o}static newInvalidDocument(e){return new qe(e,0,q.min(),q.min(),on.empty(),0)}static newFoundDocument(e,n,i){return new qe(e,1,n,q.min(),i,0)}static newNoDocument(e,n){return new qe(e,2,n,q.min(),on.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,q.min(),on.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ut=null}}function Uv(t,e=null,n=[],i=[],s=null,r=null,o=null){return new pO(t,e,n,i,s,r,o)}function mg(t){const e=te(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+js(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>js(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>js(i)).join(",")),e.ut=n}return e.ut}function gO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(i=n).field.canonicalString()} ${i.op} ${js(i.value)}`;var i}).join(", ")}]`),Ac(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>js(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>js(n)).join(",")),`Target(${e})`}function yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!bO(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],i=e.filters[s],n.op!==i.op||!n.field.isEqual(i.field)||!fn(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hv(t.startAt,e.startAt)&&Hv(t.endAt,e.endAt)}function mf(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class wt extends class{}{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,i):new mO(e,n,i):n==="array-contains"?new _O(e,i):n==="in"?new wO(e,i):n==="not-in"?new xO(e,i):n==="array-contains-any"?new SO(e,i):new wt(e,n,i)}static ct(e,n,i){return n==="in"?new yO(e,i):new vO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(lr(n,this.value)):n!==null&&us(this.value)===us(n)&&this.at(lr(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mO extends wt{constructor(e,n,i){super(e,n,i),this.key=L.fromName(i.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.at(n)}}class yO extends wt{constructor(e,n){super(e,"in",n),this.keys=iS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vO extends wt{constructor(e,n){super(e,"not-in",n),this.keys=iS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>L.fromName(i.referenceValue))}class _O extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Xo(n.arrayValue,this.value)}}class wO extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xo(this.value.arrayValue,n)}}class xO extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xo(this.value.arrayValue,n)}}class SO extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xo(this.value.arrayValue,i))}}class Mu{constructor(e,n){this.position=e,this.inclusive=n}}class go{constructor(e,n="asc"){this.field=e,this.dir=n}}function bO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function jv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=L.comparator(L.fromName(o.referenceValue),n.key):i=lr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function kO(t,e,n,i,s,r,o,a){return new Pc(t,e,n,i,s,r,o,a)}function sS(t){return new Pc(t)}function EO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function CO(t){for(const e of t.filters)if(e.ht())return e.field;return null}function IO(t){return t.collectionGroup!==null}function Qo(t){const e=te(t);if(e.lt===null){e.lt=[];const n=CO(e),i=TO(e);if(n!==null&&i===null)n.isKeyField()||e.lt.push(new go(n)),e.lt.push(new go(vt.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e.lt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new go(vt.keyField(),r))}}}return e.lt}function cs(t){const e=te(t);if(!e.ft)if(e.limitType==="F")e.ft=Uv(e.path,e.collectionGroup,Qo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of Qo(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new go(r.field,o))}const i=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e.ft=Uv(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e.ft}function AO(t,e,n){return new Pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mc(t,e){return yg(cs(t),cs(e))&&t.limitType===e.limitType}function rS(t){return`${mg(cs(t))}|lt:${t.limitType}`}function yf(t){return`Query(target=${gO(cs(t))}; limitType=${t.limitType})`}function vg(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):L.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=jv(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,Qo(n),i)||n.endAt&&!function(s,r,o){const a=jv(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,Qo(n),i))}(t,e)}function PO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oS(t){return(e,n)=>{let i=!1;for(const s of Qo(t)){const r=MO(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function MO(t,e,n){const i=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?lr(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function RO(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function OO(t,e,n){return t instanceof vf?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof Du?aS(t,e):t instanceof Ru?lS(t,e):function(i,s){const r=LO(i,s),o=Wv(r)+Wv(i._t);return gf(r)&&gf(i._t)?RO(o):DO(i.wt,o)}(t,e)}function NO(t,e,n){return t instanceof Du?aS(t,e):t instanceof Ru?lS(t,e):n}function LO(t,e){return t instanceof _f?gf(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class vf extends Dc{}class Du extends Dc{constructor(e){super(),this.elements=e}}function aS(t,e){const n=uS(e);for(const i of t.elements)n.some(s=>fn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ru extends Dc{constructor(e){super(),this.elements=e}}function lS(t,e){let n=uS(e);for(const i of t.elements)n=n.filter(s=>!fn(s,i));return{arrayValue:{values:n}}}class _f extends Dc{constructor(e,n){super(),this.wt=e,this._t=n}}function Wv(t){return Ae(t.integerValue||t.doubleValue)}function uS(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FO(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Du&&i instanceof Du||n instanceof Ru&&i instanceof Ru?rr(n.elements,i.elements,fn):n instanceof _f&&i instanceof _f?fn(n._t,i._t):n instanceof vf&&i instanceof vf}(t.transform,e.transform)}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _g{}function cS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zO(t.key,Gi.none()):new wg(t.key,t.data,Gi.none());{const n=t.data,i=on.empty();let s=new Le(vt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Rc(t.key,i,new qi(s.toArray()),Gi.none())}}function $O(t,e,n){t instanceof wg?function(i,s,r){const o=i.value.clone(),a=qv(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rc?function(i,s,r){if(!Ml(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=qv(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(hS(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function mo(t,e,n,i){return t instanceof wg?function(s,r,o,a){if(!Ml(s.precondition,r))return o;const l=s.value.clone(),u=Gv(s.fieldTransforms,a,r);return l.setAll(u),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Rc?function(s,r,o,a){if(!Ml(s.precondition,r))return o;const l=Gv(s.fieldTransforms,a,r),u=r.data;return u.setAll(hS(s)),u.setAll(l),r.convertToFoundDocument(r.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,i):function(s,r,o){return Ml(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function Kv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&rr(n,i,(s,r)=>FO(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wg extends _g{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rc extends _g{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function hS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function qv(t,e,n){const i=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,NO(o,a,n[s]))}return i}function Gv(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,OO(r,o,e))}return i}class zO extends _g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Q;function dS(t){if(t===void 0)return gi("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ie.OK:return P.OK;case Ie.CANCELLED:return P.CANCELLED;case Ie.UNKNOWN:return P.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return P.INTERNAL;case Ie.UNAVAILABLE:return P.UNAVAILABLE;case Ie.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ie.NOT_FOUND:return P.NOT_FOUND;case Ie.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ie.ABORTED:return P.ABORTED;case Ie.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ie.DATA_LOSS:return P.DATA_LOSS;default:return K()}}(Q=Ie||(Ie={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ic(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return cO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new je(L.comparator);function vi(){return BO}const fS=new je(L.comparator);function Xr(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function UO(t){let e=fS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vi(){return yo()}function pS(){return yo()}function yo(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}new je(L.comparator);const jO=new Le(L.comparator);function Z(...t){let e=jO;for(const n of t)e=e.add(n);return e}const HO=new Le(oe);function gS(){return HO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n){const i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n)),new Oc(q.min(),i,gS(),vi(),Z())}}class Ia{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ia(Je.EMPTY_BYTE_STRING,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,i,s){this.gt=e,this.removedTargetIds=n,this.key=i,this.yt=s}}class mS{constructor(e,n){this.targetId=e,this.It=n}}class yS{constructor(e,n,i=Je.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Yv{constructor(){this.Tt=0,this.Et=Qv(),this.At=Je.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Z(),n=Z(),i=Z();return this.Et.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:K()}}),new Ia(this.At,this.Rt,e,n,i)}Dt(){this.bt=!1,this.Et=Qv()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class WO{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=vi(),this.Bt=Xv(),this.Lt=new Le(oe)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const i=this.Qt(n);switch(e.state){case 0:this.jt(n)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),i.Vt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((i,s)=>{this.jt(s)&&n(s)})}zt(e){const n=e.targetId,i=e.It.count,s=this.Ht(n);if(s){const r=s.target;if(mf(r))if(i===0){const o=new L(r.path);this.Kt(n,o,qe.newNoDocument(o,q.min()))}else Me(i===1);else this.Jt(n)!==i&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((r,o)=>{const a=this.Ht(o);if(a){if(r.current&&mf(a.target)){const l=new L(a.target.path);this.$t.get(l)!==null||this.Xt(o,l)||this.Kt(o,l,qe.newNoDocument(l,e))}r.vt&&(n.set(o,r.St()),r.Dt())}});let i=Z();this.Bt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ht(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(i=i.add(r))}),this.$t.forEach((r,o)=>o.setReadTime(e));const s=new Oc(e,n,this.Lt,this.$t,i);return this.$t=vi(),this.Bt=Xv(),this.Lt=new Le(oe),s}qt(e,n){if(!this.jt(e))return;const i=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,i),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,i){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,n)?s.Ct(n,1):s.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),i&&(this.$t=this.$t.insert(n,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Yv,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Le(oe),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Yv),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function Xv(){return new je(L.comparator)}function Qv(){return new je(L.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class GO{constructor(e,n){this.databaseId=e,this.dt=n}}function YO(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XO(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Jo(t){return Me(!!t),q.fromTimestamp(function(e){const n=yi(e);return new kt(n.seconds,n.nanos)}(t))}function QO(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function vS(t){const e=ke.fromString(t);return Me(xS(e)),e}function Bh(t,e){const n=vS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(_S(n))}function wf(t,e){return QO(t.databaseId,e)}function JO(t){const e=vS(t);return e.length===4?ke.emptyPath():_S(e)}function Jv(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _S(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,u){return l.dt?(Me(u===void 0||typeof u=="string"),Je.fromBase64String(u||"")):(Me(u===void 0||u instanceof Uint8Array),Je.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?P.UNKNOWN:dS(l.code);return new V(u,l.message||"")}(o);n=new yS(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Bh(t,i.document.name),r=Jo(i.document.updateTime),o=new on({mapValue:{fields:i.document.fields}}),a=qe.newFoundDocument(s,r,o),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Dl(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Bh(t,i.document),r=i.readTime?Jo(i.readTime):q.min(),o=qe.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Dl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Bh(t,i.document),r=i.removedTargetIds||[];n=new Dl([],r,s,null)}else{if(!("filter"in e))return K();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,r=new VO(s),o=i.targetId;n=new mS(o,r)}}return n}function eN(t,e){return{documents:[wf(t,e.path)]}}function tN(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=wf(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wf(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(Bv(h.value))return{unaryFilter:{field:ws(h.field),op:"IS_NAN"}};if(Vv(h.value))return{unaryFilter:{field:ws(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Bv(h.value))return{unaryFilter:{field:ws(h.field),op:"IS_NOT_NAN"}};if(Vv(h.value))return{unaryFilter:{field:ws(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(h.field),op:rN(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ws(c.field),direction:sN(c.dir)}}(u))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,u){return l.dt||Ac(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nN(t){let e=JO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Me(i===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let r=[];n.where&&(r=wS(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new go(Os(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Ac(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Mu(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Mu(d,h)}(n.endAt)),kO(e,s,o,r,a,"F",l,u)}function iN(t,e){const n=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function wS(t){return t?t.unaryFilter!==void 0?[aN(t)]:t.fieldFilter!==void 0?[oN(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>wS(e)).reduce((e,n)=>e.concat(n)):K():[]}function sN(t){return KO[t]}function rN(t){return qO[t]}function ws(t){return{fieldPath:t.canonicalString()}}function Os(t){return vt.fromServerFormat(t.fieldPath)}function oN(t){return wt.create(Os(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}function aN(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Os(t.unaryFilter.field);return wt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Os(t.unaryFilter.field);return wt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Os(t.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Os(t.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}function xS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&$O(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=mo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=mo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=pS();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=cS(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&rr(this.mutations,e.mutations,(n,i)=>Kv(n,i))&&rr(this.baseMutations,e.baseMutations,(n,i)=>Kv(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,i,s,r=q.min(),o=q.min(),a=Je.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.ne=e}}function hN(t){const e=nN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?AO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.ze=new fN}addToCollectionParentIndex(e,n){return this.ze.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(mi.min())}updateCollectionGroup(e,n,i){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class fN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Le(ke.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Le(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ur(0)}static Rn(){return new ur(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?C.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.getBaseDocument(e,n,i))).next(s=>(i!==null&&mo(i.mutation,s,qi.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Z()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Z()){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Xr();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Z()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=vi();const o=yo(),a=yo();return n.forEach((l,u)=>{const c=i.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Rc)?r=r.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),mo(c.mutation,u,c.mutation.getFieldMask(),kt.now()))}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new gN(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=yo();let s=new je((o,a)=>o-a),r=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||qi.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(s.get(a.batchId)||Z()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=pS();c.forEach(d=>{if(!r.has(d)){const f=cS(n.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return C.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return L.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):C.resolve(Vi());let a=-1,l=r;return o.next(u=>C.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(c)?C.resolve():this.getBaseDocument(e,c,h).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Z())).next(c=>({batchId:a,changes:UO(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(i=>{let s=Xr();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=Xr();return this.indexManager.getCollectionParents(e,s).next(o=>C.forEach(o,a=>{const l=function(u,c){return new Pc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(u=>{u.forEach((c,h)=>{r=r.insert(c,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(r=>(s=r,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(r=>{r.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,qe.newInvalidDocument(u)))});let o=Xr();return s.forEach((a,l)=>{const u=r.get(a);u!==void 0&&mo(u.mutation,l,qi.empty(),kt.now()),vg(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):C.resolve(qe.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return C.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var i;return this.Jn.set(n.id,{id:(i=n).id,version:i.version,createTime:Jo(i.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(i){return{name:i.name,query:hN(i.bundledQuery),readTime:Jo(i.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new je(L.comparator),this.Xn=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vi();return C.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ie(e,n,r)}),C.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Xn.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Xn.delete(i)),C.resolve()}getOverlaysForCollection(e,n,i){const s=Vi(),r=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return C.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=r.get(u.largestBatchId);c===null&&(c=Vi(),r=r.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vi(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return C.resolve(a)}ie(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.Xn.get(s.largestBatchId).delete(i.key);this.Xn.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new uN(n,i));let r=this.Xn.get(n);r===void 0&&(r=Z(),this.Xn.set(n,r)),this.Xn.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Zn=new Le(Fe.ts),this.es=new Le(Fe.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const i=new Fe(e,n);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.rs(new Fe(e,n))}os(e,n){e.forEach(i=>this.removeReference(i,n))}us(e){const n=new L(new ke([])),i=new Fe(n,e),s=new Fe(n,e+1),r=[];return this.es.forEachInRange([i,s],o=>{this.rs(o),r.push(o.key)}),r}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new L(new ke([])),i=new Fe(n,e),s=new Fe(n,e+1);let r=Z();return this.es.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Fe(e,0),i=this.Zn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Fe{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return L.comparator(e.key,n.key)||oe(e.ls,n.ls)}static ns(e,n){return oe(e.ls,n.ls)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Le(Fe.ts)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lN(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.ds=this.ds.add(new Fe(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ws(i),r=s<0?0:s;return C.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Fe(n,0),s=new Fe(n,Number.POSITIVE_INFINITY),r=[];return this.ds.forEachInRange([i,s],o=>{const a=this._s(o.ls);r.push(a)}),C.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Le(oe);return n.forEach(s=>{const r=new Fe(s,0),o=new Fe(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([r,o],a=>{i=i.add(a.ls)})}),C.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;L.isDocumentKey(r)||(r=r.child(""));const o=new Fe(new L(r),0);let a=new Le(oe);return this.ds.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.ls)),!0)},o),C.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(i=>{const s=this._s(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.ds;return C.forEach(n.mutations,s=>{const r=new Fe(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,n){const i=new Fe(n,0),s=this.ds.firstAfterOrEqual(i);return C.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.ps=e,this.docs=new je(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.ps(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return C.resolve(i?i.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let i=vi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():qe.newInvalidDocument(s))}),C.resolve(i)}getAllFromCollection(e,n,i){let s=vi();const r=new L(n.child("")),o=this.docs.getIteratorFrom(r);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||aO(oO(l),i)<=0||(s=s.insert(l.key,l.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,i,s){K()}Is(e,n){return C.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new xN(this)}getSize(e){return C.resolve(this.size)}}class xN extends pN{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.zn.addEntry(e,s)):this.zn.removeEntry(i)}),C.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Ts=new br(n=>mg(n),yg),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Es=0,this.As=new xg,this.targetCount=0,this.Rs=ur.An()}forEachTarget(e,n){return this.Ts.forEach((i,s)=>n(s)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Es&&(this.Es=n),C.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new ur(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.vn(n),C.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Ts.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),C.waitFor(r).next(()=>s)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const i=this.Ts.get(n)||null;return C.resolve(i)}addMatchingKeys(e,n,i){return this.As.ss(n,i),C.resolve()}removeMatchingKeys(e,n,i){this.As.os(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),C.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const i=this.As.hs(n);return C.resolve(i)}containsKey(e,n){return C.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.bs={},this.overlays={},this.Ps=new pg(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new SN(this),this.indexManager=new dN,this.remoteDocumentCache=function(i){return new wN(i)}(i=>this.referenceDelegate.Ss(i)),this.wt=new cN(n),this.Ds=new yN(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.bs[e.toKey()];return i||(i=new _N(n,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,i){N("MemoryPersistence","Starting transaction:",e);const s=new kN(this.Ps.next());return this.referenceDelegate.Cs(),i(s).next(r=>this.referenceDelegate.xs(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ns(e,n){return C.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,n)))}}class kN extends uO{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.ks=new xg,this.Os=null}static Ms(e){return new Sg(e)}get Fs(){if(this.Os)return this.Os;throw K()}addReference(e,n,i){return this.ks.addReference(i,n),this.Fs.delete(i.toString()),C.resolve()}removeReference(e,n,i){return this.ks.removeReference(i,n),this.Fs.add(i.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),C.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(s=>this.Fs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Fs.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Fs,i=>{const s=L.fromPath(i);return this.$s(e,s).next(r=>{r||n.removeEntry(s,q.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(i=>{i?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Pi=i,this.vi=s}static Vi(e,n){let i=Z(),s=Z();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new bg(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,i,s){return this.Ci(e,n).next(r=>r||this.xi(e,n,s,i)).next(r=>r||this.Ni(e,n))}Ci(e,n){return C.resolve(null)}xi(e,n,i,s){return EO(n)||s.isEqual(q.min())?this.Ni(e,n):this.Di.getDocuments(e,i).next(r=>{const o=this.ki(n,r);return this.Oi(n,o,i,s)?this.Ni(e,n):(Nv()<=ie.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yf(n)),this.Mi(e,o,n,rO(s,-1)))})}ki(e,n){let i=new Le(oS(e));return n.forEach((s,r)=>{vg(e,r)&&(i=i.add(r))}),i}Oi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ni(e,n){return Nv()<=ie.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",yf(n)),this.Di.getDocumentsMatchingQuery(e,n,mi.min())}Mi(e,n,i,s){return this.Di.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,i,s){this.persistence=e,this.Fi=n,this.wt=s,this.$i=new je(oe),this.Bi=new br(r=>mg(r),yg),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mN(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function CN(t,e,n,i){return new TN(t,e,n,i)}async function SS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.qi(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Z();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of r){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}function bS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function IN(t,e){const n=te(t),i=e.snapshotVersion;let s=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});s=n.$i;const a=[];e.targetChanges.forEach((c,h)=>{const d=s.get(h);if(!d)return;a.push(n.Vs.removeMatchingKeys(r,c.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(r,c.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Je.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),s=s.insert(h,f),function(p,y,_){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,f,c)&&a.push(n.Vs.updateTargetData(r,f))});let l=vi(),u=Z();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,c))}),a.push(AN(r,o,e.documentUpdates).next(c=>{l=c.Gi,u=c.Qi})),!i.isEqual(q.min())){const c=n.Vs.getLastRemoteSnapshotVersion(r).next(h=>n.Vs.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(c)}return C.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.$i=s,r))}function AN(t,e,n){let i=Z(),s=Z();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=vi();return n.forEach((a,l)=>{const u=r.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Gi:o,Qi:s}})}function PN(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Vs.getTargetData(i,e).next(r=>r?(s=r,C.resolve(s)):n.Vs.allocateTargetId(i).next(o=>(s=new Yi(e,o,0,i.currentSequenceNumber),n.Vs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.$i.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.$i=n.$i.insert(i.targetId,i),n.Bi.set(e,i.targetId)),i})}async function xf(t,e,n){const i=te(t),s=i.$i.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ca(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.$i=i.$i.remove(e),i.Bi.delete(s.target)}function Zv(t,e,n){const i=te(t);let s=q.min(),r=Z();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=te(a),h=c.Bi.get(u);return h!==void 0?C.resolve(c.$i.get(h)):c.Vs.getTargetData(l,u)}(i,o,cs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Fi.getDocumentsMatchingQuery(o,e,n?s:q.min(),n?r:Z())).next(a=>(MN(i,PO(e),a),{documents:a,ji:r})))}function MN(t,e,n){let i=q.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Li.set(e,i)}class e0{constructor(){this.activeTargetIds=gS()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.Fr=new e0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,i){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new e0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,i,s,r){const o=this.oo(e,n);N("RestConnection","Sending: ",o,i);const a={};return this.uo(a,s,r),this.co(e,o,a,i).then(l=>(N("RestConnection","Received: ",l),l),l=>{throw Lv("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}ao(e,n,i,s,r,o){return this.ro(e,n,i,s,r)}uo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}oo(e,n){const i=ON[e];return`${this.so}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,i,s){return new Promise((r,o)=>{const a=new GR;a.listenOnce(WR.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case zh.NO_ERROR:const u=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(u)),r(u);break;case zh.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new V(P.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const c=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(p)>=0?p:P.UNKNOWN}(h.status);o(new V(d,h.message))}else o(new V(P.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new V(P.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,i,15)})}ho(e,n,i){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=jR(),o=HR(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new qR({})),this.uo(a.initMessageHeaders,n,i),W1()||q1()||TM()||G1()||CM()||K1()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=s.join("");N("Connection","Creating WebChannel: "+l,a);const u=r.createWebChannel(l,a);let c=!1,h=!1;const d=new NN({jr:p=>{h?N("Connection","Not sending because WebChannel is closed:",p):(c||(N("Connection","Opening WebChannel transport."),u.open(),c=!0),N("Connection","WebChannel sending:",p),u.send(p))},Wr:()=>u.close()}),f=(p,y,_)=>{p.listen(y,g=>{try{_(g)}catch(m){setTimeout(()=>{throw m},0)}})};return f(u,fl.EventType.OPEN,()=>{h||N("Connection","WebChannel transport opened.")}),f(u,fl.EventType.CLOSE,()=>{h||(h=!0,N("Connection","WebChannel transport closed"),d.eo())}),f(u,fl.EventType.ERROR,p=>{h||(h=!0,Lv("Connection","WebChannel transport errored:",p),d.eo(new V(P.UNAVAILABLE,"The operation could not be completed")))}),f(u,fl.EventType.MESSAGE,p=>{var y;if(!h){const _=p.data[0];Me(!!_);const g=_,m=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(m){N("Connection","WebChannel received error:",m);const v=m.status;let w=function(k){const S=Ie[k];if(S!==void 0)return dS(S)}(v),x=m.message;w===void 0&&(w=P.INTERNAL,x="Unknown error status: "+v+" with message "+m.message),h=!0,d.eo(new V(w,x)),u.close()}else N("Connection","WebChannel received:",_),d.no(_)}}),f(o,KR.STAT_EVENT,p=>{p.stat===Rv.PROXY?N("Connection","Detected buffering proxy"):p.stat===Rv.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Zr()},0),d}}function Uh(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){return new GO(t,!0)}class ES{constructor(e,n,i=1e3,s=1.5,r=6e4){this.js=e,this.timerId=n,this.lo=i,this.fo=s,this._o=r,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),s=Math.max(0,n-i);s>0&&N("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,i,s,r,o,a,l){this.js=e,this.Ao=i,this.Ro=s,this.bo=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ES(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Po===n&&this.Uo(i,s)},i=>{e(()=>{const s=new V(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(s)})})}Uo(e,n){const i=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{i(()=>this.qo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends FN{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.wt=r}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=ZO(this.wt,e),i=function(s){if(!("targetChange"in s))return q.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?q.min():r.readTime?Jo(r.readTime):q.min()}(e);return this.listener.Go(n,i)}Qo(e){const n={};n.database=Jv(this.wt),n.addTarget=function(s,r){let o;const a=r.target;return o=mf(a)?{documents:eN(s,a)}:{query:tN(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=XO(s,r.resumeToken):r.snapshotVersion.compareTo(q.min())>0&&(o.readTime=YO(s,r.snapshotVersion.toTimestamp())),o}(this.wt,e);const i=iN(this.wt,e);i&&(n.labels=i),this.Mo(n)}jo(e){const n={};n.database=Jv(this.wt),n.removeTarget=e,this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=i,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.bo.ro(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(P.UNKNOWN,s.toString())})}ao(e,n,i,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ao(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(P.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class VN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gi(n),this.su=!1):N("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=r,this.du.Br(o=>{i.enqueueAndForget(async()=>{Pa(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=te(a);l.lu.add(4),await Aa(l),l._u.set("Unknown"),l.lu.delete(4),await Nc(l)}(this))})}),this._u=new VN(i,s)}}async function Nc(t){if(Pa(t))for(const e of t.fu)await e(!0)}async function Aa(t){for(const e of t.fu)await e(!1)}function TS(t,e){const n=te(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Tg(n)?Eg(n):kr(n).Co()&&kg(n,e))}function CS(t,e){const n=te(t),i=kr(n);n.hu.delete(e),i.Co()&&IS(n,e),n.hu.size===0&&(i.Co()?i.ko():Pa(n)&&n._u.set("Unknown"))}function kg(t,e){t.wu.Nt(e.targetId),kr(t).Qo(e)}function IS(t,e){t.wu.Nt(e),kr(t).jo(e)}function Eg(t){t.wu=new WO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),kr(t).start(),t._u.iu()}function Tg(t){return Pa(t)&&!kr(t).Do()&&t.hu.size>0}function Pa(t){return te(t).lu.size===0}function AS(t){t.wu=void 0}async function UN(t){t.hu.forEach((e,n)=>{kg(t,e)})}async function jN(t,e){AS(t),Tg(t)?(t._u.uu(e),Eg(t)):t._u.set("Unknown")}async function HN(t,e,n){if(t._u.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.hu.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.hu.delete(o),i.wu.removeTarget(o))}(t,e)}catch(i){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await n0(t,i)}else if(e instanceof Dl?t.wu.Ut(e):e instanceof mS?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(q.min()))try{const i=await bS(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.wu.Yt(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.hu.get(l);u&&s.hu.set(l,u.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=s.hu.get(a);if(!l)return;s.hu.set(a,l.withResumeToken(Je.EMPTY_BYTE_STRING,l.snapshotVersion)),IS(s,a);const u=new Yi(l.target,a,1,l.sequenceNumber);kg(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){N("RemoteStore","Failed to raise snapshot:",i),await n0(t,i)}}async function n0(t,e,n){if(!Ca(e))throw e;t.lu.add(1),await Aa(t),t._u.set("Offline"),n||(n=()=>bS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Nc(t)})}async function i0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const i=Pa(n);n.lu.add(3),await Aa(n),i&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Nc(n)}async function WN(t,e){const n=te(t);e?(n.lu.delete(2),await Nc(n)):e||(n.lu.add(2),await Aa(n),n._u.set("Unknown"))}function kr(t){return t.mu||(t.mu=function(e,n,i){const s=te(e);return s.tu(),new $N(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,i)}(t.datastore,t.asyncQueue,{zr:UN.bind(null,t),Jr:jN.bind(null,t),Go:HN.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),Tg(t)?Eg(t):t._u.set("Unknown")):(await t.mu.stop(),AS(t))})),t.mu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new Cg(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PS(t,e){if(gi("AsyncQueue",`${e}: ${t}`),Ca(t))return new V(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,i)=>e(n,i)||L.comparator(n.key,i.key):(n,i)=>L.comparator(n.key,i.key),this.keyedMap=Xr(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Hs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.yu=new je(L.comparator)}track(e){const n=e.doc.key,i=this.yu.get(n);i?e.type!==0&&i.type===3?this.yu=this.yu.insert(n,e):e.type===3&&i.type!==1?this.yu=this.yu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.yu=this.yu.remove(n):e.type===1&&i.type===2?this.yu=this.yu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):K():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,i)=>{e.push(i)}),e}}class cr{constructor(e,n,i,s,r,o,a,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,i,s){const r=[];return n.forEach(o=>{r.push({type:0,doc:o})}),new cr(e,n,Hs.emptySet(n),r,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Iu=void 0,this.listeners=[]}}class qN{constructor(){this.queries=new br(e=>rS(e),Mc),this.onlineState="Unknown",this.Tu=new Set}}async function GN(t,e){const n=te(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new KN),s)try{r.Iu=await n.onListen(i)}catch(o){const a=PS(o,`Initialization of query '${yf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Eu(n.onlineState),r.Iu&&e.Au(r.Iu)&&Ig(n)}async function YN(t,e){const n=te(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function XN(t,e){const n=te(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.Au(s)&&(i=!0);o.Iu=s}}i&&Ig(n)}function QN(t,e,n){const i=te(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function Ig(t){t.Tu.forEach(e=>{e.next()})}class JN{constructor(e,n,i){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Du||!i)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class ZN{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Z(),this.mutatedKeys=Z(),this.Lu=oS(e),this.Uu=new Hs(this.Lu)}get qu(){return this.Fu}Ku(e,n){const i=n?n.Gu:new s0,s=n?n.Uu:this.Uu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,h)=>{const d=s.get(c),f=vg(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==y&&(i.track({type:3,doc:f}),_=!0):this.Qu(d,f)||(i.track({type:2,doc:f}),_=!0,(l&&this.Lu(f,l)>0||u&&this.Lu(f,u)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),_=!0):d&&!f&&(i.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),r=y?r.add(c):r.delete(c)):(o=o.delete(c),r=r.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),r=r.delete(c.key),i.track({type:1,doc:c})}return{Uu:o,Gu:i,Oi:a,mutatedKeys:r}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const r=e.Gu.pu();r.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(h)-f(d)}(u.type,c.type)||this.Lu(u.doc,c.doc)),this.ju(i);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,r.length!==0||l?{snapshot:new cr(this.query,e.Uu,s,r,e.mutatedKeys,a===0,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new s0,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Z(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const n=[];return e.forEach(i=>{this.Bu.has(i)||n.push(new DS(i))}),this.Bu.forEach(i=>{e.has(i)||n.push(new MS(i))}),n}Ju(e){this.Fu=e.ji,this.Bu=Z();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return cr.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class eL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class tL{constructor(e){this.key=e,this.Xu=!1}}class nL{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new br(a=>rS(a),Mc),this.ec=new Map,this.nc=new Set,this.sc=new je(L.comparator),this.ic=new Map,this.rc=new xg,this.oc={},this.uc=new Map,this.cc=ur.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function iL(t,e){const n=cL(t);let i,s;const r=n.tc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Yu();else{const o=await PN(n.localStore,cs(e));n.isPrimaryClient&&TS(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await sL(n,e,i,a==="current")}return s}async function sL(t,e,n,i){t.hc=(c,h,d)=>async function(f,p,y,_){let g=p.view.Ku(y);g.Oi&&(g=await Zv(f.localStore,p.query,!1).then(({documents:w})=>p.view.Ku(w,g)));const m=_&&_.targetChanges.get(p.targetId),v=p.view.applyChanges(g,f.isPrimaryClient,m);return o0(f,p.targetId,v.zu),v.snapshot}(t,c,h,d);const s=await Zv(t.localStore,e,!0),r=new ZN(e,s.ji),o=r.Ku(s.documents),a=Ia.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),l=r.applyChanges(o,t.isPrimaryClient,a);o0(t,n,l.zu);const u=new eL(e,n,r);return t.tc.set(e,u),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function rL(t,e){const n=te(t),i=n.tc.get(e),s=n.ec.get(i.targetId);if(s.length>1)return n.ec.set(i.targetId,s.filter(r=>!Mc(r,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),CS(n.remoteStore,i.targetId),Sf(n,i.targetId)}).catch(fg)):(Sf(n,i.targetId),await xf(n.localStore,i.targetId,!0))}async function RS(t,e){const n=te(t);try{const i=await IN(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.ic.get(r);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Xu=!0:s.modifiedDocuments.size>0?Me(o.Xu):s.removedDocuments.size>0&&(Me(o.Xu),o.Xu=!1))}),await NS(n,i,e)}catch(i){await fg(i)}}function r0(t,e,n){const i=te(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.tc.forEach((r,o)=>{const a=o.view.Eu(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=te(r);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Eu(o)&&(l=!0)}),l&&Ig(a)}(i.eventManager,e),s.length&&i.Zu.Go(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oL(t,e,n){const i=te(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ic.get(e),r=s&&s.key;if(r){let o=new je(L.comparator);o=o.insert(r,qe.newNoDocument(r,q.min()));const a=Z().add(r),l=new Oc(q.min(),new Map,new Le(oe),o,a);await RS(i,l),i.sc=i.sc.remove(r),i.ic.delete(e),Ag(i)}else await xf(i.localStore,e,!1).then(()=>Sf(i,e,n)).catch(fg)}function Sf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ec.get(e))t.tc.delete(i),n&&t.Zu.lc(i,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(i=>{t.rc.containsKey(i)||OS(t,i)})}function OS(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(CS(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Ag(t))}function o0(t,e,n){for(const i of n)i instanceof MS?(t.rc.addReference(i.key,e),aL(t,i)):i instanceof DS?(N("SyncEngine","Document no longer in limbo: "+i.key),t.rc.removeReference(i.key,e),t.rc.containsKey(i.key)||OS(t,i.key)):K()}function aL(t,e){const n=e.key,i=n.path.canonicalString();t.sc.get(n)||t.nc.has(i)||(N("SyncEngine","New document in limbo: "+n),t.nc.add(i),Ag(t))}function Ag(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new L(ke.fromString(e)),i=t.cc.next();t.ic.set(i,new tL(n)),t.sc=t.sc.insert(n,i),TS(t.remoteStore,new Yi(cs(sS(n.path)),i,2,pg.ot))}}async function NS(t,e,n){const i=te(t),s=[],r=[],o=[];i.tc.isEmpty()||(i.tc.forEach((a,l)=>{o.push(i.hc(l,e,n).then(u=>{if(u){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),s.push(u);const c=bg.Vi(l.targetId,u);r.push(c)}}))}),await Promise.all(o),i.Zu.Go(s),await async function(a,l){const u=te(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>C.forEach(l,h=>C.forEach(h.Pi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>C.forEach(h.vi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Ca(c))throw c;N("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.$i.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.$i=u.$i.insert(h,p)}}}(i.localStore,r))}async function lL(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const i=await SS(n.localStore,e);n.currentUser=e,function(s,r){s.uc.forEach(o=>{o.forEach(a=>{a.reject(new V(P.CANCELLED,r))})}),s.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await NS(n,i.Ki)}}function uL(t,e){const n=te(t),i=n.ic.get(e);if(i&&i.Xu)return Z().add(i.key);{let s=Z();const r=n.ec.get(e);if(!r)return s;for(const o of r){const a=n.tc.get(o);s=s.unionWith(a.view.qu)}return s}}function cL(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oL.bind(null,e),e.Zu.Go=XN.bind(null,e.eventManager),e.Zu.lc=QN.bind(null,e.eventManager),e}class hL{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=kS(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return CN(this.persistence,new EN,e.initialUser,this.wt)}_c(e){return new bN(Sg.Ms,this.wt)}dc(e){return new DN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>r0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lL.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qN}createDatastore(e){const n=kS(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new LN(s));var s;return function(r,o,a,l){return new zN(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>r0(this.syncEngine,a,0),o=t0.V()?new t0:new RN,new BN(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,u){const c=new nL(i,s,r,o,a,l);return u&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=te(e);N("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Aa(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gt.UNAUTHENTICATED,this.clientId=iO.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{N("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(N("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=PS(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gL(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await SS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function mL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yL(t);N("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>i0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>i0(e.remoteStore,r)),t.onlineComponents=e}async function yL(t){return t.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),await gL(t,new hL)),t.offlineComponents}async function vL(t){return t.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),await mL(t,new dL)),t.onlineComponents}async function _L(t){const e=await vL(t),n=e.eventManager;return n.onListen=iL.bind(null,e.syncEngine),n.onUnlisten=rL.bind(null,e.syncEngine),n}function wL(t,e,n={}){const i=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const u=new fL({next:h=>{r.enqueueAndForget(()=>YN(s,c)),h.fromCache&&a.source==="server"?l.reject(new V(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new JN(o,u,{includeMetadataChanges:!0,Du:!0});return GN(s,c)}(await _L(t),t.asyncQueue,e,n,i)),i.promise}const a0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){if(!n)throw new V(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SL(t,e,n,i){if(e===!0&&i===!0)throw new V(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l0(t){if(L.isDocumentKey(t))throw new V(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function u0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bL(t);throw new V(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new V(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,i){this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,e instanceof ar?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new V(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ar(s.options.projectId)}(e))}get app(){if(!this._app)throw new V(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XR;switch(n.type){case"gapi":const i=n.client;return Me(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZR(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new V(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=a0.get(e);n&&(N("ComponentProvider","Removing Datastore"),a0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class Lc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Lc(this.firestore,e,this._query)}}class Ws extends Lc{constructor(e,n,i){super(e,n,sS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new L(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function FS(t,e,...n){if(t=ma(t),xL("collection","path",e),t instanceof LS){const i=ke.fromString(e,...n);return l0(i),new Ws(t,null,i)}{if(!(t instanceof Er||t instanceof Ws))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ke.fromString(e,...n));return l0(i),new Ws(t.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ES(this,"async_queue_retry"),this.Kc=()=>{const n=Uh();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Uh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Ki;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Ca(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{this.Bc=i,this.Lc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw gi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Lc=!1,i))));return this.Oc=n,n}enqueueAfterDelay(e,n,i){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const s=Cg.createAndSchedule(this,e,n,i,r=>this.Wc(r));return this.$c.push(s),s}Gc(){this.Bc&&K()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class $S extends LS{constructor(e,n,i){super(e,n,i),this.type="firestore",this._queue=new kL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zS(this),this._firestoreClient.terminate()}}function EL(t=J1()){return Bp(t,"firestore").getImmediate()}function TL(t){return t._firestoreClient||zS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zS(t){var e;const n=t._freezeSettings(),i=function(s,r,o,a){return new dO(s,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new pL(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(Je.fromBase64String(e))}catch(n){throw new V(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ou(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}const IL=new RegExp("[~\\*/\\[\\]]");function AL(t,e,n){if(e.search(IL)>=0)throw h0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new VS(...e.split("."))._internalPath}catch{throw h0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function h0(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new V(P.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PL extends BS{data(){return super.data()}}function US(t,e){return typeof e=="string"?AL(t,e):e instanceof VS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ML extends BS{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(US("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Rl extends ML{data(e={}){return super.data(e)}}class DL{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ml(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Rl(this._firestore,this._userDataWriter,i.key,i,new ml(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new Rl(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ml(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:r++}))}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Rl(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ml(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),u=r.indexOf(o.doc.key)),{type:RL(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const i={};return Ic(e.fields,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new CL(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nS(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const n=yi(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ke.fromString(e);Me(xS(i));const s=new ar(i.get(1),i.get(3)),r=new L(i.popFirst(5));return s.isEqual(n)||gi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}class LL extends NL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function jS(t){t=u0(t,Lc);const e=u0(t.firestore,$S),n=TL(e),i=new LL(e);return OL(t._query),wL(n,t._query).then(s=>new DL(e,i,t,s))}(function(t,e=!0){(function(n){Sr=n})(ya),ir(new ss("firestore",(n,{options:i})=>{const s=n.getProvider("app").getImmediate(),r=new $S(s,new QR(n.getProvider("auth-internal")),new tO(n.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),r._setSettings(i),r},"PUBLIC")),ci(Ov,"3.4.13",t),ci(Ov,"3.4.13","esm2017")})();var FL="firebase",$L="9.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(FL,$L,"app");function Pg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function HS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zL=HS,WS=new pa("auth","Firebase",HS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new $p("@firebase/auth");function Ol(t,...e){d0.logLevel<=ie.ERROR&&d0.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw Mg(t,...e)}function cn(t,...e){return Mg(t,...e)}function VL(t,e,n){const i=Object.assign(Object.assign({},zL()),{[e]:n});return new pa("auth","Firebase",i).create(e,{appName:t.name})}function Mg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WS.create(t,...e)}function j(t,e,...n){if(!t)throw Mg(e,...n)}function In(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ol(e),new Error(e)}function Fn(t,e){t||In(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function An(t){Fn(t instanceof Function,"Expected a class definition");let e=f0.get(t);return e?(Fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f0.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){const n=Bp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(wu(r,e!=null?e:{}))return s;Ln(s,"already-initialized")}return n.initialize({options:e})}function UL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jL(){return p0()==="http:"||p0()==="https:"}function p0(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jL()||K1()||"connection"in navigator)?navigator.onLine:!0}function WL(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fn(n>e,"Short delay should be less than long delay!"),this.isMobile=W1()||q1()}get(){return HL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){Fn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Ma(3e4,6e4);function GL(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fc(t,e,n,i,s={}){return qS(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=ga(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),KS.fetch()(GS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function qS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},KL),e);try{const s=new XL(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw yl(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yl(t,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VL(t,c,u);Ln(t,c)}}catch(s){if(s instanceof gs)throw s;Ln(t,"network-request-failed")}}async function YL(t,e,n,i,s={}){const r=await Fc(t,e,n,i,s);return"mfaPendingCredential"in r&&Ln(t,"multi-factor-auth-required",{_serverResponse:r}),r}function GS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Dg(t.config,s):`${t.config.apiScheme}://${s}`}class XL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(cn(this.auth,"network-request-failed")),qL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=cn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return Fc(t,"POST","/v1/accounts:delete",e)}async function JL(t,e){return Fc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=ma(t),i=await n.getIdToken(e),s=Rg(i);j(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:vo(jh(s.auth_time)),issuedAtTime:vo(jh(s.iat)),expirationTime:vo(jh(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function jh(t){return Number(t)*1e3}function Rg(t){var e;const[n,i,s]=t.split(".");if(n===void 0||i===void 0||s===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{const r=kM(i);return r?JSON.parse(r):(Ol("Failed to decode base64 JWT payload"),null)}catch(r){return Ol("Caught error parsing JWT payload as JSON",(e=r)===null||e===void 0?void 0:e.toString()),null}}function e2(t){const e=Rg(t);return j(e,"internal-error"),j(typeof e.exp!="undefined","internal-error"),j(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gs&&t2(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function t2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Zo(t,JL(n,{idToken:i}));j(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?r2(r.providerUserInfo):[],a=s2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new YS(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function i2(t){const e=ma(t);await Nu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function r2(t){return t.map(e=>{var{providerId:n}=e,i=Pg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e){const n=await qS(t,{},async()=>{const i=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=GS(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KS.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken!="undefined","internal-error"),j(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):e2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await o2(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new ea;return i&&(j(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(j(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(j(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){j(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new YS(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return i2(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Nu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zo(this,QL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:S}=n;j(v&&S,e,"internal-error");const b=ea.fromJSON(this.name,S);j(typeof v=="string",e,"internal-error"),Bn(h,e.name),Bn(d,e.name),j(typeof w=="boolean",e,"internal-error"),j(typeof x=="boolean",e,"internal-error"),Bn(f,e.name),Bn(p,e.name),Bn(y,e.name),Bn(_,e.name),Bn(g,e.name),Bn(m,e.name);const E=new Xi({uid:v,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:y,stsTokenManager:b,createdAt:g,lastLoginAt:m});return k&&Array.isArray(k)&&(E.providerData=k.map(I=>Object.assign({},I))),_&&(E._redirectEventId=_),E}static async _fromIdTokenResponse(e,n,i=!1){const s=new ea;s.updateFromServerResponse(n);const r=new Xi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Nu(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const g0=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Nl(this.userKey,s.apiKey,r),this.fullPersistenceKey=Nl("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ks(An(g0),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||An(g0);const o=Nl(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Xi._fromJSON(e,c);u!==r&&(a=h),r=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ks(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new Ks(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tb(e))return"Blackberry";if(nb(e))return"Webos";if(Og(e))return"Safari";if((e.includes("chrome/")||JS(e))&&!e.includes("edge/"))return"Chrome";if(eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QS(t=Be()){return/firefox\//i.test(t)}function Og(t=Be()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JS(t=Be()){return/crios\//i.test(t)}function ZS(t=Be()){return/iemobile/i.test(t)}function eb(t=Be()){return/android/i.test(t)}function tb(t=Be()){return/blackberry/i.test(t)}function nb(t=Be()){return/webos/i.test(t)}function $c(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a2(t=Be()){var e;return $c(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l2(){return G1()&&document.documentMode===10}function ib(t=Be()){return $c(t)||eb(t)||nb(t)||tb(t)||/windows phone/i.test(t)||ZS(t)}function u2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e=[]){let n;switch(t){case"Browser":n=m0(Be());break;case"Worker":n=`${m0(Be())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Nu(e)}catch(i){if(((n=i)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ma(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function rb(t){return ma(t)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OM(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,n){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return YL(t,"POST","/v1/accounts:signInWithIdp",GL(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="http://localhost";class hs extends ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Pg(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new hs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,qs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:d2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Da{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qn.credential(n,i)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends Da{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gn.credential(e.oauthAccessToken)}catch{return null}}}Gn.GITHUB_SIGN_IN_METHOD="github.com";Gn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Da{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Yn.credential(n,i)}catch{return null}}}Yn.TWITTER_SIGN_IN_METHOD="twitter.com";Yn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Xi._fromIdTokenResponse(e,i,s),o=v0(i);return new hr({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=v0(i);return new hr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function v0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends gs{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Lu(e,n,i,s)}}function lb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Lu._fromErrorAndOperation(t,r,e,i):r})}async function f2(t,e,n=!1){const i=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e,n=!1){var i;const{auth:s}=t,r="reauthenticate";try{const o=await Zo(t,lb(s,r,e,t),n);j(o.idToken,s,"internal-error");const a=Rg(o.idToken);j(a,s,"internal-error");const{sub:l}=a;return j(t.uid===l,s,"user-mismatch"),hr._forOperation(t,r,o)}catch(o){throw((i=o)===null||i===void 0?void 0:i.code)==="auth/user-not-found"&&Ln(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(t,e,n=!1){const i="signIn",s=await lb(t,i,e),r=await hr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){const t=Be();return Og(t)||$c(t)}const y2=1e3,v2=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=m2()&&u2(),this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);l2()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,v2):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const _2=cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hb.type="SESSION";const db=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,r)),l=await w2(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const u=Ng("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(c),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function S2(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return typeof hn().WorkerGlobalScope!="undefined"&&typeof hn().importScripts=="function"}async function b2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E2(){return fb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",T2=1,$u="firebaseLocalStorage",gb="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vc(t,e){return t.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function C2(){const t=indexedDB.deleteDatabase(pb);return new Ra(t).toPromise()}function kf(){const t=indexedDB.open(pb,T2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore($u,{keyPath:gb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains($u)?e(i):(i.close(),await C2(),e(await kf()))})})}async function _0(t,e,n){const i=Vc(t,!0).put({[gb]:e,value:n});return new Ra(i).toPromise()}async function I2(t,e){const n=Vc(t,!1).get(e),i=await new Ra(n).toPromise();return i===void 0?null:i.value}function w0(t,e){const n=Vc(t,!0).delete(e);return new Ra(n).toPromise()}const A2=800,P2=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>P2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(E2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new x2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((e=i[0])===null||e===void 0?void 0:e.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kf();return await _0(e,Fu,"1"),await w0(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>I2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Vc(s,!1).getAll();return new Ra(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const M2=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function R2(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=cn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",D2().appendChild(i)})}function O2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){return e?An(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends ob{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L2(t){return g2(t.auth,new Lg(t),t.bypassAuthState)}function F2(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),p2(n,new Lg(t),t.bypassAuthState)}async function $2(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),f2(n,new Lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return $2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Ln(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Ma(2e3,1e4);class Ns extends yb{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,z2.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="pendingRedirect",Ll=new Map;class B2 extends yb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ll.get(this.auth._key());if(!e){try{const i=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ll.set(this.auth._key(),e)}return this.bypassAuthState||Ll.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(t,e){const n=W2(e),i=H2(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function j2(t,e){Ll.set(t._key(),e)}function H2(t){return An(t._redirectPersistence)}function W2(t){return Nl(V2,t.config.apiKey,t.name)}async function K2(t,e,n=!1){const i=rb(t),s=N2(i,e),o=await new B2(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=10*60*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!vb(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e={}){return Fc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J2=/^https?/;async function Z2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X2(t);for(const n of e)try{if(eF(n))return}catch{}Ln(t,"unauthorized-domain")}function eF(t){const e=bf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!J2.test(n))return!1;if(Q2.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Ma(3e4,6e4);function S0(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nF(t){return new Promise((e,n)=>{var i,s,r;function o(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(cn(t,"network-request-failed"))},timeout:tF.get()})}if(!((s=(i=hn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=hn().gapi)===null||r===void 0)&&r.load)o();else{const a=O2("iframefcb");return hn()[a]=()=>{gapi.load?o():n(cn(t,"network-request-failed"))},R2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fl=null,e})}let Fl=null;function iF(t){return Fl=Fl||nF(t),Fl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new Ma(5e3,15e3),rF="__/auth/iframe",oF="emulator/auth/iframe",aF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uF(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,oF):`https://${t.config.authDomain}/${rF}`,i={apiKey:e.apiKey,appName:t.name,v:ya},s=lF.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ga(i).slice(1)}`}async function cF(t){const e=await iF(t),n=hn().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:uF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aF,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=cn(t,"network-request-failed"),a=hn().setTimeout(()=>{r(o)},sF.get());function l(){hn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dF=500,fF=600,pF="_blank",gF="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mF(t,e,n,i=dF,s=fF){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hF),{width:i.toString(),height:s.toString(),top:r,left:o}),u=Be().toLowerCase();n&&(a=JS(u)?pF:n),QS(u)&&(e=e||gF,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(a2(u)&&a!=="_self")return yF(e||"",a),new b0(null);const h=window.open(e||"",a,c);j(h,t,"popup-blocked");try{h.focus()}catch{}return new b0(h)}function yF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="__/auth/handler",_F="emulator/auth/handler";function k0(t,e,n,i,s,r){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ya,eventId:s};if(e instanceof ab){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(r||{}))o[l]=u}if(e instanceof Da){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${wF(t)}?${ga(a).slice(1)}`}function wF({config:t}){return t.emulator?Dg(t,_F):`https://${t.authDomain}/${vF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="webStorageSupport";class xF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=db,this._completeRedirectFn=K2,this._overrideRedirectResult=j2}async _openPopup(e,n,i,s){var r;Fn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=k0(e,n,i,bf(),s);return mF(e,o,Ng())}async _openRedirect(e,n,i,s){return await this._originValidation(e),S2(k0(e,n,i,bf(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Fn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await cF(e),i=new G2(e);return n.register("authEvent",s=>(j(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hh,{type:Hh},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Hh];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ib()||Og()||$c()}}const SF=xF;var E0="@firebase/auth",T0="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{var s;e(((s=i)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function EF(t){ir(new ss("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=i.options;return((a,l)=>{j(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),j(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(t)},c=new h2(a,l,u);return UL(c,n),c})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ir(new ss("auth-internal",e=>{const n=rb(e.getProvider("auth").getImmediate());return(i=>new bF(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(E0,T0,kF(t)),ci(E0,T0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t=J1()){const e=Bp(t,"auth");return e.isInitialized()?e.getImmediate():BL(t,{popupRedirectResolver:SF,persistence:[M2,_2,db]})}EF("Browser");const CF={apiKey:"AIzaSyDdnR3_eNjWSaIHgmYLaV1EHSddtA1ocwc",authDomain:"dashboard-cda.firebaseapp.com",projectId:"dashboard-cda",storageBucket:"dashboard-cda.appspot.com",messagingSenderId:"342993087466",appId:"1:342993087466:web:defc392952d96a955ea093"},_b=RD(CF);TF(_b);const wb=EL(_b),xb=()=>{const[t,e]=z.exports.useState([]),n=FS(wb,"chartdata");z.exports.useEffect(()=>{(async()=>{const r=await jS(n);e(r.docs.map(o=>({...o.data(),id:o.id}))),console.log(r)})()},[]);const i={labels:t.map(s=>s.learningStyle),datasets:[{label:"Actividades completadas",data:t.map(s=>s.totalCompleted),backgroundColor:["rgba(75,192,192,1)","#ecf0f1","#50AF95","#f3ba2f","#2a71d0"]}]};return R(mr,{children:Ke("div",{className:"charts-container",children:[Ke("div",{className:"first_section-container",children:[R("div",{className:"chart_1-container",children:Ke("div",{className:"chart--1",children:[R("p",{children:"Alumnos Cursando"}),R("h2",{children:"360"}),R("p",{children:"12% Alumnos que se retiraron"})]})}),R("div",{className:"chart_2-container",children:Ke("div",{className:"chart--2",children:[R("p",{children:"Asignaturas mas Aprobadas"}),R("h2",{children:"Lenguas"}),R("p",{children:"10% Alumnos que aprobaron"})]})}),R("div",{className:"chart_3-container",children:Ke("div",{className:"chart--3",children:[R("p",{children:"Porcentaje de alumnos con esa aprobaci\xF3n"}),R("h2",{children:"75.5%"})]})})]}),Ke("div",{className:"second_section-container",children:[R("div",{className:"big_chart--container",children:R("div",{className:"big--chart",children:R(wM,{datas:i})})}),R("div",{className:"small_chart--container",children:R("div",{className:"small--chart",children:R(xM,{datas:i})})})]})]})})},Sb=()=>{const[t,e]=z.exports.useState([]),n=FS(wb,"students");return z.exports.useEffect(()=>{(async()=>{const s=await jS(n);e(s.docs.map(r=>({...r.data(),id:r.id})))})()},[]),R(mr,{children:R("div",{className:"students-container",children:R("div",{className:"students-list-container",children:t.map(i=>Ke("div",{className:"user--container",children:[R("div",{className:"default_user--container"}),Ke("div",{className:"info_container",children:[R("h3",{className:"nameUser",children:i.name}),R("p",{className:"gradeUser",children:i.grade})]})]},i.name))})})})},IF=()=>{const[t,e]=z.exports.useState(!1);return R(mr,{children:Ke("div",{className:"dashboard-container",children:[Ke("section",{className:"dashboard_menu-container",children:[Ke("div",{className:"dasshboard_menu_head-container",children:[R("div",{className:"dashboard_menu_container-profile"}),Ke("div",{className:"dashboard_user_container-info",children:[R("h1",{className:"text_user_name",children:"Katarina Smith"}),R("p",{children:"Profesora"})]})]}),R("hr",{}),Ke("div",{className:"dashboard_menu_container-options",children:[R("button",{onClick:()=>{e(!1)},children:"Inicio"}),R("button",{onClick:()=>{e(!0)},children:"Estudiantes"})]})]}),R("section",{children:t?R(Sb,{}):R(xb,{})})]})})},AF=()=>R(mr,{children:R(IF,{})}),PF=()=>R(mr,{children:R(yT,{children:Ke(mT,{children:[R(Wr,{path:"/",element:R(kT,{})}),R(Wr,{path:"/Dashboard",element:R(AF,{})}),R(Wr,{path:"/charts",element:R(xb,{})}),R(Wr,{path:"/Students",element:R(Sb,{})})]})})});Wh.createRoot(document.getElementById("root")).render(R(zb.StrictMode,{children:R(PF,{})}));
